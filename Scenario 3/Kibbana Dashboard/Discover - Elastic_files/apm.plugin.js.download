/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,t,r,n={69219:(e,t,r)=>{"use strict";r.d(t,{BI:()=>S,Cl:()=>k,DW:()=>d,Ez:()=>h,Kp:()=>b,Rn:()=>O,Ry:()=>f,S2:()=>o,SL:()=>x,Wp:()=>p,ZQ:()=>D,_9:()=>M,at:()=>v,fJ:()=>E,gH:()=>s,h:()=>y,h9:()=>u,ht:()=>n,i2:()=>c,lj:()=>g,pR:()=>_,qT:()=>A,sR:()=>P,tU:()=>T,tV:()=>C,tg:()=>m,vT:()=>a,xv:()=>l,z1:()=>w,zt:()=>i});const n="@timestamp",a="kibana",i=`${a}.alert`,s=`${i}.rule`,o=`${a}.space_ids`,l=`${a}.version`,c=`${i}.action_group`,u=`${i}.case_ids`,p=`${i}.duration.us`,d=`${i}.end`,m=`${i}.flapping`,g=`${i}.maintenance_window_ids`,_=`${i}.instance.id`,v=`${i}.reason`,b=`${i}.start`,h=`${i}.status`,f=`${i}.time_range`,y=`${i}.uuid`,x=`${i}.workflow_status`,T=`${i}.workflow_tags`,k=`${i}.workflow_assignee_ids`,S=`${s}.category`,E=`${s}.consumer`,w=`${s}.execution.uuid`,A=`${s}.name`,D=`${s}.parameters`,O=`${s}.producer`,P=`${s}.tags`,C=`${s}.rule_type_id`,M=`${s}.uuid`},69397:(e,t,r)=>{"use strict";r.d(t,{bj:()=>n,lV:()=>o});let n=function(e){return e.ErrorCount="apm.error_rate",e.TransactionErrorRate="apm.transaction_error_rate",e.TransactionDuration="apm.transaction_duration",e.Anomaly="apm.anomaly",e}({});const a=Object.values(n),i=["xpack.synthetics.alerts.monitorStatus","xpack.synthetics.alerts.tls"];let s=function(e){return e.MetricThreshold="metrics.alert.threshold",e.InventoryThreshold="metrics.alert.inventory.threshold",e}({});const o=[...a,...i,...Object.values(s),"xpack.uptime.alerts.tls","xpack.uptime.alerts.tlsCertificate","xpack.uptime.alerts.monitorStatus","xpack.uptime.alerts.durationAnomaly","logs.alert.document.count","slo.rules.burnRate","observability.rules.custom_threshold"]},32254:(e,t,r)=>{"use strict";r.d(t,{$Ap:()=>O,Ap3:()=>h,D0w:()=>D,D4G:()=>y,E$n:()=>Y,EJU:()=>b,FJ4:()=>m,FZN:()=>i,GC3:()=>l,GFT:()=>c,M5y:()=>g,OXs:()=>u,RE0:()=>o,RWS:()=>x,SdE:()=>M,SwD:()=>E,TIu:()=>R,UtW:()=>I,Vci:()=>$,XWz:()=>d,Z8H:()=>U,ZsC:()=>C,cGu:()=>p,c_1:()=>s,d4b:()=>F,dYu:()=>K,du8:()=>_,g$s:()=>a,hRQ:()=>n,iRn:()=>k,iUD:()=>T,jbB:()=>V,le4:()=>w,ndT:()=>N,oO0:()=>S,t7C:()=>A,tiP:()=>j,v4j:()=>B,vNw:()=>P,vY:()=>v,wLO:()=>f,yCF:()=>L});const n="@timestamp",a="agent.name",i="cloud.availability_zone",s="cloud.provider",o="cloud.machine.type",l="cloud.instance.id",c="cloud.instance.name",u="service.name",p="service.environment",d="service.language.name",m="service.runtime.name",g="service.runtime.version",_="service.node.name",v="service.version",b="processor.event",h="transaction.duration.us",f="transaction.type",y="transaction.name",x="transaction.id",T="event.outcome",k="trace.id",S="span.type",E="span.subtype",w="span.name",A="span.id",D="span.destination.service.resource",O="error.grouping_key",P="error.grouping_name",C="error.log.level",M="error.type",R="host.name",j="host.os.version",I="container.id",$="kubernetes.pod.name",L="kubernetes.pod.uid",B="network.connection.type",U="device.model.identifier",N="session.id",V="client.geo.country_iso_code",F="client.geo.region_iso_code",K="client.geo.country_name",Y="log.level"},3489:(e,t,r)=>{"use strict";r.d(t,{KL:()=>l,Uv:()=>s,WT:()=>p,Xn:()=>m,_n:()=>d,_x:()=>u,iB:()=>c});var n=r(75008),a=r(55964),i=r(32254);const s="ENVIRONMENT_ALL",o="ENVIRONMENT_NOT_DEFINED",l=n.i18n.translate("xpack.apm.filter.environment.allLabel",{defaultMessage:"All"});function c(e){return e&&e!==o?e===s?l:e:n.i18n.translate("xpack.apm.filter.environment.notDefinedLabel",{defaultMessage:"Not defined"})}const u={value:s,label:c(s)},p={value:o,label:c(o)};function d(e){return function(e){return e&&e!==o&&e!==s}(e)?`${[i.cGu]}: ${(0,a.escapeKuery)(e)} `:null}function m({requestedEnvironment:e,currentEnvironmentUrlParam:t}){return(e||p.value)===(t||u.value)&&t||u.value}},35344:(e,t,r)=>{"use strict";r.d(t,{a:()=>i,x:()=>a});var n=r(75008);const a=n.i18n.translate("xpack.apm.notAvailableLabel",{defaultMessage:"N/A"}),i=n.i18n.translate("xpack.apm.clickArialLabel.",{defaultMessage:"Click to view more details"})},33599:(e,t,r)=>{"use strict";r.d(t,{JU:()=>c,ZG:()=>l,aE:()=>d,qQ:()=>o,tm:()=>p,wG:()=>u}),r(25170);var n=r(26752),a=r.n(n),i=r(35344),s=r(89504);function o(e){return(0,s.B)(e)?a()(e).format("0,0.0"):i.x}function l(e,t=3){return(0,s.B)(e)?a()(e).format(`0,0.${"0".repeat(t)}`):i.x}function c(e){return(0,s.B)(e)?a()(e).format("0,0"):i.x}function u(e,t,r=i.x){if(!t||!(0,s.B)(e))return r;const n=e/t;return Math.abs(n)>=.1||0===n?a()(n).format("0%"):a()(n).format("0.0%")}function p(e,t=10){return(0,s.B)(e)?0===e||e>=t?c(e):o(e):i.x}function d(e){return e<1e3?c(e):e<1e6?`${c(e/1e3)}k`:e<1e9?`${c(e/1e6)}m`:e<1e12?`${c(e/1e9)}b`:`${c(e/1e12)}t`}},7252:(e,t,r)=>{"use strict";r.d(t,{Z0:()=>s,aE:()=>n.aE,qQ:()=>n.qQ,tm:()=>n.tm,Fi:()=>h,dg:()=>A,Uw:()=>b,JU:()=>n.JU,Qy:()=>f,wG:()=>n.wG,ZG:()=>n.ZG,HZ:()=>v,L9:()=>M,oD:()=>R,tF:()=>_,No:()=>w});var n=r(33599),a=r(62488),i=r.n(a);function s(e,t="milliseconds"){const r=i()(e),n=function(e){const t=e.utcOffset()/60,r=t>0?`+${t}`:t,n=Number.isInteger(t)?r:"Z";return e.format(`(UTC${n})`)}(r);return r.format(`${function(e){switch(e){case"years":return"YYYY";case"months":return"MMM YYYY";case"days":return"MMM D, YYYY";default:return""}}("days")}, ${function(e){switch(e){case"hours":return"HH";case"minutes":return"HH:mm";case"seconds":return"HH:mm:ss";case"milliseconds":return"HH:mm:ss.SSS";default:return""}}(t)} ${n}`)}var o=r(75008),l=r(51783),c=r.n(l),u=r(30770),p=r(35344),d=r(89504);function m({unit:e,microseconds:t,defaultValue:r=p.x,threshold:a=10}){if(!(0,d.B)(t))return{value:r,formatted:r};const{convertedValue:i,unitLabel:s}=function(e,t,r=10){const a=t/1e3;switch(e){case"hours":return{unitLabel:o.i18n.translate("xpack.apm.formatters.hoursTimeUnitLabel",{defaultMessage:"h"}),convertedValue:(0,n.tm)(c().duration(a).asHours(),r)};case"minutes":return{unitLabel:o.i18n.translate("xpack.apm.formatters.minutesTimeUnitLabel",{defaultMessage:"min"}),convertedValue:(0,n.tm)(c().duration(a).asMinutes(),r)};case"seconds":return{unitLabel:o.i18n.translate("xpack.apm.formatters.secondsTimeUnitLabel",{defaultMessage:"s"}),convertedValue:(0,n.tm)(c().duration(a).asSeconds(),r)};case"milliseconds":return{unitLabel:o.i18n.translate("xpack.apm.formatters.millisTimeUnitLabel",{defaultMessage:"ms"}),convertedValue:(0,n.tm)(c().duration(a).asMilliseconds(),r)};case"microseconds":return{unitLabel:o.i18n.translate("xpack.apm.formatters.microsTimeUnitLabel",{defaultMessage:"Î¼s"}),convertedValue:(0,n.JU)(t)}}}(e,t,a);return{value:i,unit:s,formatted:`${i} ${s}`}}const g=(e,t)=>1e3*c().duration(e,t).asMilliseconds(),_=(0,u.memoize)(((e,t=10,r=1)=>{const n=function(e,t=10){return e>g(t,"hours")?"hours":e>g(t,"minutes")?"minutes":e>g(t,"seconds")?"seconds":e>g(1,"milliseconds")?"milliseconds":"microseconds"}(e,t);return(e,{defaultValue:a}={})=>m({unit:n,microseconds:(0,d.B)(e)?e*r:e,defaultValue:a,threshold:t})}),((e,t)=>`${e}_${t}`));function v(e){if(!(0,d.B)(e))return p.x;let t;return t=0===e?"0":e<=.1?"< 0.1":(0,n.qQ)(e),o.i18n.translate("xpack.apm.transactionRateLabel",{defaultMessage:"{displayedValue} tpm",values:{displayedValue:t}})}function b(e){return o.i18n.translate("xpack.apm.exactTransactionRateLabel",{defaultMessage:"{value} tpm",values:{value:(0,n.tm)(e)}})}function h(e,{defaultValue:t=p.x}={}){return(0,d.B)(e)?_(e)(e,{defaultValue:t}).formatted:t}function f(e){return m({unit:"milliseconds",microseconds:e}).formatted}function y(e){return`${(0,n.qQ)(e/1e3)} KB`}function x(e){return`${(0,n.qQ)(e/1e6)} MB`}function T(e){return`${(0,n.qQ)(e/1e9)} GB`}function k(e){return`${(0,n.qQ)(e/1e12)} TB`}function S(e){return`${(0,n.qQ)(e)} B`}const E=e=>t=>null==t||isNaN(t)?"":e(t),w=(0,u.memoize)((e=>{const t=D(e);return E(t)})),A=E((e=>D(e)(e))),D=e=>e>1e12?k:e>1e9?T:e>1e6?x:e>1e3?y:S;var O=r(50306),P=r(3489);const C=({pathname:e,query:t})=>`${e}?${(0,O.stringify)(t)}`,M=(e,t)=>C({pathname:`/app/apm/services/${encodeURIComponent(e)}/errors`,query:{environment:null!=t?t:P._x.value}}),R=(e,t,r)=>C({pathname:`/app/apm/services/${encodeURIComponent(e)}`,query:{transactionType:r,environment:null!=t?t:P._x.value}})},89504:(e,t,r)=>{"use strict";r.d(t,{B:()=>a});var n=r(30770);function a(e){return(0,n.isFinite)(e)}},20458:(e,t,r)=>{"use strict";r.d(t,{LD:()=>n,QX:()=>i,g2:()=>a});const n="APM_ALERTING_FAILED_TRANSACTIONS_CHART_EMBEDDABLE",a="APM_ALERTING_LATENCY_CHART_EMBEDDABLE",i="APM_ALERTING_THROUGHPUT_CHART_EMBEDDABLE"},99876:(e,t,r)=>{"use strict";r.r(t),r.d(t,{plugin:()=>Y});var n=r(68915),a=r(64390),i=r(75008),s=r(73780),o=r(16808),l=r(80190),c=r(84286),u=r.n(c),p=r(69397),d=r(69219),m=r(7252);const g=i.i18n.translate("xpack.apm.alertTypes.errorCount.defaultActionMessage",{defaultMessage:"'{{context.reason}}'\n\n'{{rule.name}}' is active with the following conditions:\n\n- Service name: '{{context.serviceName}}'\n- Environment: '{{context.environment}}'\n- Error count: '{{context.triggerValue}}' errors over the last '{{context.interval}}'\n- Threshold: '{{context.threshold}}'\n\n[View alert details]('{{context.alertDetailsUrl}}')\n"}),_=i.i18n.translate("xpack.apm.alertTypes.errorCount.defaultRecoveryMessage",{defaultMessage:"Recovered: '{{context.reason}}'\n\n'{{rule.name}}' has recovered.\n\n- Service name: '{{context.serviceName}}'\n- Environment: '{{context.environment}}'\n- Error count: '{{context.triggerValue}}' errors over the last '{{context.interval}}'\n- Threshold: '{{context.threshold}}'\n\n[View alert details]('{{context.alertDetailsUrl}}')\n"}),v=i.i18n.translate("xpack.apm.alertTypes.transactionDuration.defaultActionMessage",{defaultMessage:"'{{context.reason}}'\n\n'{{rule.name}}' is active with the following conditions:\n\n- Service name: '{{context.serviceName}}'\n- Transaction type: '{{context.transactionType}}'\n- Transaction name: '{{context.transactionName}}'\n- Environment: '{{context.environment}}'\n- Latency: '{{context.triggerValue}}' over the last '{{context.interval}}'\n- Threshold: '{{context.threshold}}'ms\n\n[View alert details]('{{context.alertDetailsUrl}}')\n"}),b=i.i18n.translate("xpack.apm.alertTypes.transactionDuration.defaultRecoveryMessage",{defaultMessage:"Recovered: '{{context.reason}}'\n\n'{{rule.name}}' has recovered.\n\n- Service name: '{{context.serviceName}}'\n- Transaction type: '{{context.transactionType}}'\n- Transaction name: '{{context.transactionName}}'\n- Environment: '{{context.environment}}'\n- Latency: '{{context.triggerValue}}' over the last '{{context.interval}}'\n- Threshold: '{{context.threshold}}'ms\n\n[View alert details]('{{context.alertDetailsUrl}}')\n"}),h=i.i18n.translate("xpack.apm.alertTypes.transactionErrorRate.defaultActionMessage",{defaultMessage:"'{{context.reason}}'\n\n'{{rule.name}}' is active with the following conditions:\n\n- Service name: '{{context.serviceName}}'\n- Transaction type: '{{context.transactionType}}'\n- Environment: '{{context.environment}}'\n- Failed transaction rate: '{{context.triggerValue}}'% of errors over the last '{{context.interval}}'\n- Threshold: '{{context.threshold}}'%\n\n[View alert details]('{{context.alertDetailsUrl}}')\n"}),f=i.i18n.translate("xpack.apm.alertTypes.transactionErrorRate.defaultRecoveryMessage",{defaultMessage:"Recovered: '{{context.reason}}'\n\n'{{rule.name}}' has recovered.\n\n- Service name: '{{context.serviceName}}'\n- Transaction type: '{{context.transactionType}}'\n- Environment: '{{context.environment}}'\n- Failed transaction rate: '{{context.triggerValue}}'% of errors over the last '{{context.interval}}'\n- Threshold: '{{context.threshold}}'%\n\n[View alert details]('{{context.alertDetailsUrl}}')\n"}),y=i.i18n.translate("xpack.apm.alertTypes.transactionDurationAnomaly.defaultActionMessage",{defaultMessage:"'{{context.reason}}'\n\n'{{rule.name}}' is active with the following conditions:\n\n- Service name: '{{context.serviceName}}'\n- Transaction type: '{{context.transactionType}}'\n- Environment: '{{context.environment}}'\n- Severity: '{{context.triggerValue}}'\n- Threshold: '{{context.threshold}}'\n\n[View alert details]('{{context.alertDetailsUrl}}')\n"}),x=i.i18n.translate("xpack.apm.alertTypes.transactionDurationAnomaly.defaultRecoveryMessage",{defaultMessage:"Recovered: '{{context.reason}}'\n\n'{{rule.name}}' has recovered.\n\n- Service name: '{{context.serviceName}}'\n- Transaction type: '{{context.transactionType}}'\n- Environment: '{{context.environment}}'\n- Severity: '{{context.triggerValue}}'\n- Threshold: '{{context.threshold}}'\n\n[View alert details]('{{context.alertDetailsUrl}}')\n"}),T="service.environment",k="service.name",S="transaction.type";function E(e){const t={errors:{}},r={};return t.errors=r,e.anomalyDetectorTypes&&e.anomalyDetectorTypes.length<1&&(r.anomalyDetectorTypes=i.i18n.translate("xpack.apm.validateAnomalyRule.",{defaultMessage:"At least one detector type is required"})),t}var w=r(20458),A=r(81319),D=r(20409),O=r(96791);function P(){const{http:e}=(0,D.useKibana)().services,t=null==e?void 0:e.basePath.prepend("/app/apm/tutorial");return(0,O.jsx)(u().Fragment,null,(0,O.jsx)(A.EuiText,null,(0,O.jsx)("p",null,i.i18n.translate("xpack.apm.fleetIntegration.enrollmentFlyout.installApmAgentDescription",{defaultMessage:"After the agent starts, you can install APM agents on your hosts to collect data from your applications and services."}))),(0,O.jsx)(A.EuiSpacer,{size:"m"}),(0,O.jsx)(A.EuiButton,{"data-test-subj":"apmStepComponentInstallApmAgentButton",fill:!0,href:t},i.i18n.translate("xpack.apm.fleetIntegration.enrollmentFlyout.installApmAgentButtonText",{defaultMessage:"Install APM Agent"})))}const C=(0,c.lazy)((async()=>{const{ApmCustomAssetsExtension:e}=await r.e(4791).then(r.bind(r,14791));return{default:e}})),M={id:"apm",title:"APM",description:i.i18n.translate("xpack.apm.apmDescription",{defaultMessage:"Automatically collect in-depth performance metrics and errors from inside your applications."}),icon:"apmApp",path:"/app/apm",showOnHomePage:!1,category:"data"};var R=r(77871),j=r(52715);const I=i.i18n.translate("xpack.apm.navigation.rootTitle",{defaultMessage:"Applications"}),$=i.i18n.translate("xpack.apm.navigation.servicesTitle",{defaultMessage:"Service Inventory"}),L=i.i18n.translate("xpack.apm.navigation.serviceGroupsTitle",{defaultMessage:"Service groups"}),B=i.i18n.translate("xpack.apm.navigation.tracesTitle",{defaultMessage:"Traces"}),U=i.i18n.translate("xpack.apm.navigation.serviceMapTitle",{defaultMessage:"Service Map"}),N=i.i18n.translate("xpack.apm.navigation.dependenciesTitle",{defaultMessage:"Dependencies"}),V=i.i18n.translate("xpack.apm.navigation.apmSettingsTitle",{defaultMessage:"Settings"}),F=i.i18n.translate("xpack.apm.navigation.apmStorageExplorerTitle",{defaultMessage:"Storage Explorer"}),K=i.i18n.translate("xpack.apm.navigation.apmTutorialTitle",{defaultMessage:"Tutorial"});class ApmPlugin{constructor(e){(0,n.default)(this,"telemetry",void 0),(0,n.default)(this,"kibanaVersion",void 0),(0,n.default)(this,"isServerlessEnv",void 0),this.initializerContext=e,this.initializerContext=e,this.telemetry=new j.H0,this.kibanaVersion=e.env.packageInfo.version,this.isServerlessEnv="serverless"===e.env.packageInfo.buildFlavor}setup(e,t){var n,u,A,D,O,P;const C=this.initializerContext.config.get(),j=t,{featureFlags:Y}=C;j.home&&j.home.featureCatalogue.register(M),t.observabilityShared.navigation.registerSections((0,l.from)(e.getStartServices()).pipe((0,l.map)((([e,t])=>e.application.capabilities.apm.show?[{label:I,sortKey:400,entries:[{label:$,app:"apm",path:"/services",matchPath:e=>["/service-groups","/mobile-services","/services","/service-map"].some((t=>e.startsWith(t)))},{label:B,app:"apm",path:"/traces"},{label:N,app:"apm",path:"/dependencies/inventory",onClick:()=>{const{usageCollection:e}=t;e&&e.reportUiCounter("apm",o.METRIC_TYPE.CLICK,"side_nav_dependency")}}]}]:[]))));const H=async()=>{const{fetchObservabilityOverviewPageData:t,getHasData:n}=await Promise.all([r.e(2965),r.e(7559)]).then(r.bind(r,97559)),{hasFleetApmIntegrations:a}=await Promise.all([r.e(2965),r.e(7584)]).then(r.bind(r,7584)),{createCallApmApi:i}=await r.e(2965).then(r.bind(r,12965));return i(e),{fetchObservabilityOverviewPageData:t,getHasData:n,hasFleetApmIntegrations:a}};this.telemetry.setup({analytics:e.analytics}),null===(n=j.home)||void 0===n||n.tutorials.registerCustomStatusCheck("apm_fleet_server_status_check",(async()=>{const{hasFleetApmIntegrations:e}=await H();return e()})),null===(u=j.home)||void 0===u||u.tutorials.registerCustomComponent("TutorialFleetInstructions",(()=>r.e(8299).then(r.bind(r,38299)))),null===(A=j.home)||void 0===A||A.tutorials.registerCustomComponent("TutorialConfigAgent",(()=>Promise.all([r.e(6399),r.e(7812),r.e(7785)]).then(r.bind(r,87785)))),null===(D=j.home)||void 0===D||D.tutorials.registerCustomComponent("TutorialConfigAgentRumScript",(()=>Promise.all([r.e(6399),r.e(7812),r.e(3402)]).then(r.bind(r,53402)))),j.uiActions.registerTrigger({id:s.ObservabilityTriggerId.ApmTransactionContextMenu}),j.uiActions.registerTrigger({id:s.ObservabilityTriggerId.ApmErrorContextMenu}),t.observability.dashboard.register({appName:"apm",hasData:async()=>{const e=await H();return await e.getHasData()},fetchData:async e=>{const t=await H();return await t.fetchObservabilityOverviewPageData(e)}}),t.exploratoryView.register({appName:"apm",hasData:async()=>{const e=await H();return await e.getHasData()},fetchData:async e=>{const t=await H();return await t.fetchObservabilityOverviewPageData(e)}});const{observabilityRuleTypeRegistry:z}=t.observability,q=this.telemetry.start(),Q={isCloudEnv:!(null===(O=j.cloud)||void 0===O||!O.isCloudEnabled),isServerlessEnv:(null===(P=j.cloud)||void 0===P?void 0:P.isServerlessEnabled)||this.isServerlessEnv,kibanaVersion:this.kibanaVersion};return e.application.register({id:"apm",title:"Applications",order:8300,euiIconType:"logoObservability",appRoute:"/app/apm",icon:"plugins/apm/public/icon.svg",category:a.DEFAULT_APP_CATEGORIES.observability,keywords:["apm"],deepLinks:[{id:"service-groups-list",title:L,path:"/service-groups"},{id:"services",title:$,path:"/services"},{id:"traces",title:B,path:"/traces"},{id:"service-map",title:U,path:"/service-map"},{id:"dependencies",title:N,path:"/dependencies/inventory"},{id:"settings",title:V,path:"/settings"},{id:"storage-explorer",title:F,path:"/storage-explorer",visibleIn:Y.storageExplorerAvailable?["globalSearch"]:[]},{id:"tutorial",title:K,path:"/tutorial"}],mount:async t=>{const[{renderApp:n},[a,i]]=await Promise.all([Promise.all([r.e(2965),r.e(2233),r.e(5651),r.e(4988),r.e(9634),r.e(2814),r.e(6399),r.e(1562),r.e(5660),r.e(3986),r.e(8085)]).then(r.bind(r,88085)),e.getStartServices()]);return n({coreStart:a,pluginsSetup:j,appMountParameters:t,config:C,kibanaEnvironment:Q,pluginsStart:i,observabilityRuleTypeRegistry:z,apmServices:{securityService:a.security,telemetry:q}})}}),function(e){e.register({id:p.bj.ErrorCount,description:i.i18n.translate("xpack.apm.alertTypes.errorCount.description",{defaultMessage:"Alert when the number of errors in a service exceeds a defined threshold."}),format:({fields:e})=>({reason:e[d.at],link:(0,m.L9)(String(e[k][0]),e[T]&&String(e[T][0]))}),iconClass:"bell",documentationUrl:e=>`${e.links.alerting.apmRulesErrorCount}`,ruleParamsExpression:(0,c.lazy)((()=>Promise.all([r.e(2965),r.e(2233),r.e(1449),r.e(6394)]).then(r.bind(r,96394)))),validate:()=>({errors:[]}),requiresAppContext:!1,defaultActionMessage:g,defaultRecoveryMessage:_,priority:80}),e.register({id:p.bj.TransactionDuration,description:i.i18n.translate("xpack.apm.alertTypes.transactionDuration.description",{defaultMessage:"Alert when the latency of a specific transaction type in a service exceeds a defined threshold."}),format:({fields:e})=>({reason:e[d.at],link:(0,m.oD)(String(e[k][0]),e[T]&&String(e[T][0]),String(e[S][0]))}),iconClass:"bell",documentationUrl:e=>`${e.links.alerting.apmRulesTransactionDuration}`,ruleParamsExpression:(0,c.lazy)((()=>Promise.all([r.e(2965),r.e(2233),r.e(1449),r.e(9451)]).then(r.bind(r,39451)))),validate:()=>({errors:[]}),alertDetailsAppSection:(0,c.lazy)((()=>Promise.all([r.e(2965),r.e(2233),r.e(5651),r.e(4988),r.e(9634),r.e(2814),r.e(1562),r.e(4853),r.e(4104)]).then(r.bind(r,74104)))),requiresAppContext:!1,defaultActionMessage:v,defaultRecoveryMessage:b,priority:60}),e.register({id:p.bj.TransactionErrorRate,description:i.i18n.translate("xpack.apm.alertTypes.transactionErrorRate.description",{defaultMessage:"Alert when the rate of transaction errors in a service exceeds a defined threshold."}),format:({fields:e})=>({reason:e[d.at],link:(0,m.oD)(String(e[k][0]),e[T]&&String(e[T][0]),String(e[S][0]))}),iconClass:"bell",documentationUrl:e=>`${e.links.alerting.apmRulesTransactionError}`,ruleParamsExpression:(0,c.lazy)((()=>Promise.all([r.e(2965),r.e(2233),r.e(1449),r.e(9248)]).then(r.bind(r,39248)))),validate:()=>({errors:[]}),requiresAppContext:!1,defaultActionMessage:h,defaultRecoveryMessage:f,priority:70}),e.register({id:p.bj.Anomaly,description:i.i18n.translate("xpack.apm.alertTypes.anomaly.description",{defaultMessage:"Alert when either the latency, throughput, or failed transaction rate of a service is anomalous."}),format:({fields:e})=>({reason:e[d.at],link:(0,m.oD)(String(e[k][0]),e[T]&&String(e[T][0]),String(e[S][0]))}),iconClass:"bell",documentationUrl:e=>`${e.links.alerting.apmRulesAnomaly}`,ruleParamsExpression:(0,c.lazy)((()=>Promise.all([r.e(2965),r.e(1449),r.e(3728)]).then(r.bind(r,57359)))),validate:E,requiresAppContext:!1,defaultActionMessage:y,defaultRecoveryMessage:x,priority:90})}(z),async function(e){const t=e.coreSetup,n=e.pluginsSetup,[a,i]=await t.getStartServices(),s=n.embeddable.registerReactEmbeddableFactory;s(w.g2,(async()=>{const{getApmAlertingLatencyChartEmbeddableFactory:t}=await Promise.all([r.e(2965),r.e(2233),r.e(5651),r.e(4988),r.e(9634),r.e(2814),r.e(1562),r.e(5908),r.e(4853),r.e(6372)]).then(r.bind(r,36372));return t({...e,coreStart:a,pluginsStart:i})})),s(w.QX,(async()=>{const{getApmAlertingThroughputChartEmbeddableFactory:t}=await Promise.all([r.e(2965),r.e(2233),r.e(5651),r.e(4988),r.e(9634),r.e(5908),r.e(5082)]).then(r.bind(r,5082));return t({...e,coreStart:a,pluginsStart:i})})),s(w.LD,(async()=>{const{getApmAlertingFailedTransactionsChartEmbeddableFactory:t}=await Promise.all([r.e(2965),r.e(2233),r.e(5651),r.e(4988),r.e(9634),r.e(2814),r.e(5908),r.e(7739)]).then(r.bind(r,97739));return t({...e,coreStart:a,pluginsStart:i})}))}({coreSetup:e,pluginsSetup:t,config:C,kibanaEnvironment:Q,observabilityRuleTypeRegistry:z}),{locator:t.share.url.locators.create(new R.d(e.uiSettings))}}start(e,t){var n;const{fleet:a}=t;if(null===(n=t.observabilityAIAssistant)||void 0===n||n.service.register((async({registerRenderFunction:e})=>{(await Promise.all([r.e(2965),r.e(2233),r.e(4988),r.e(9219)]).then(r.bind(r,6499))).registerAssistantFunctions({registerRenderFunction:e})})),a){const e={title:i.i18n.translate("xpack.apm.fleetIntegration.enrollmentFlyout.installApmAgentTitle",{defaultMessage:"Install APM Agent"}),Component:P};a.registerExtension({package:"apm",view:"agent-enrollment-flyout",title:e.title,Component:e.Component}),a.registerExtension({package:"apm",view:"package-detail-assets",Component:C}),a.registerExtension({package:"apm",view:"package-policy-create",Component:(0,c.lazy)((async()=>{const{CreateAPMPolicyForm:e}=await Promise.all([r.e(5651),r.e(3759),r.e(3953)]).then(r.bind(r,83953));return{default:e}}))}),a.registerExtension({package:"apm",view:"package-policy-edit",useLatestPackageVersion:!0,Component:(0,c.lazy)((async()=>{const{EditAPMPolicyForm:e}=await Promise.all([r.e(5651),r.e(3759),r.e(2765)]).then(r.bind(r,82765));return{default:e}}))}),a.registerExtension({package:"apm",view:"package-policy-edit-tabs",tabs:[{title:"APM Agents",Component:(0,c.lazy)((async()=>{const{ApmAgents:e}=await Promise.all([r.e(2965),r.e(6399),r.e(5660),r.e(7812),r.e(6457)]).then(r.bind(r,91287));return{default:e}}))}]})}}}const Y=e=>new ApmPlugin(e)},77871:(e,t,r)=>{"use strict";r.d(t,{I:()=>o,d:()=>APMServiceDetailLocator});var n=r(68915),a=r(14627),i=r(25170),s=r(3489);const o="APM_LOCATOR";class APMServiceDetailLocator{constructor(e){(0,n.default)(this,"id",o),(0,n.default)(this,"uiSettings",void 0),this.uiSettings=e}async getLocation(e){const{getPathForServiceDetail:t}=await Promise.all([r.e(2965),r.e(2233),r.e(5651),r.e(4988),r.e(9634),r.e(2814),r.e(6399),r.e(1562),r.e(5660),r.e(3986),r.e(302)]).then(r.bind(r,40302));return{app:"apm",path:t(e,{...this.uiSettings.get(a.UI_SETTINGS.TIMEPICKER_TIME_DEFAULTS),isComparisonEnabledByDefault:this.uiSettings.get(i.enableComparisonByDefault),defaultEnvironment:this.uiSettings.get(i.defaultApmServiceEnvironment,s._x.value)}),state:{}}}}},52715:(e,t,r)=>{"use strict";r.d(t,{A6:()=>a,H0:()=>TelemetryService});var n=r(68915);let a=function(e){return e.Submit="submit",e.Refresh="refresh",e}({}),i=function(e){return e.SEARCH_QUERY_SUBMITTED="Search Query Submitted",e.ENTITY_INVENTORY_ADD_DATA="entity_inventory_add_data",e.TRY_IT_CLICK="try_it_click",e.LEARN_MORE_CLICK="learn_more_click",e}({});class TelemetryClient{constructor(e){(0,n.default)(this,"reportSearchQuerySubmitted",(({kueryFields:e,timerange:t,action:r})=>{this.analytics.reportEvent(i.SEARCH_QUERY_SUBMITTED,{kueryFields:e,timerange:t,action:r})})),(0,n.default)(this,"reportEntityInventoryAddData",(e=>{this.analytics.reportEvent(i.ENTITY_INVENTORY_ADD_DATA,e)})),(0,n.default)(this,"reportTryItClick",(e=>{this.analytics.reportEvent(i.TRY_IT_CLICK,e)})),(0,n.default)(this,"reportLearnMoreClick",(e=>{this.analytics.reportEvent(i.LEARN_MORE_CLICK,e)})),this.analytics=e}}const s=[{eventType:i.SEARCH_QUERY_SUBMITTED,schema:{kueryFields:{type:"array",items:{type:"text",_meta:{description:"The kuery fields used in the search"}}},timerange:{type:"text",_meta:{description:"The timerange of the search"}},action:{type:"keyword",_meta:{description:"The action performed (e.g., submit, refresh)"}}}},{eventType:i.ENTITY_INVENTORY_ADD_DATA,schema:{view:{type:"keyword",_meta:{description:"Where the action was initiated (empty_state or add_data_button or add_apm_cta)"}},journey:{type:"keyword",_meta:{optional:!0,description:"Which action was performed (add_apm_agent or associate_existing_service_logs or collect_new_service_logs)"}}}},{eventType:i.TRY_IT_CLICK,schema:{view:{type:"keyword",_meta:{description:"Where the action was initiated (empty_state or add_data_button or add_apm_cta)"}}}},{eventType:i.LEARN_MORE_CLICK,schema:{view:{type:"keyword",_meta:{description:"Where the action was initiated (empty_state or add_data_button or add_apm_cta)"}}}}];class TelemetryService{constructor(e=null){this.analytics=e}setup({analytics:e}){this.analytics=e,s.forEach((t=>e.registerEventType(t)))}start(){if(!this.analytics)throw new Error("The TelemetryService.setup() method has not been invoked, be sure to call it during the plugin setup.");return new TelemetryClient(this.analytics)}}},46238:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,a){r=r||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var s=/\+/g;e=e.split(r);var o=1e3;a&&"number"==typeof a.maxKeys&&(o=a.maxKeys);var l=e.length;o>0&&l>o&&(l=o);for(var c=0;c<l;++c){var u,p,d,m,g=e[c].replace(s,"%20"),_=g.indexOf(n);_>=0?(u=g.substr(0,_),p=g.substr(_+1)):(u=g,p=""),d=decodeURIComponent(u),m=decodeURIComponent(p),t(i,d)?Array.isArray(i[d])?i[d].push(m):i[d]=[i[d],m]:i[d]=m}return i}},79442:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,a){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var i=encodeURIComponent(t(a))+n;return Array.isArray(e[a])?e[a].map((function(e){return i+encodeURIComponent(t(e))})).join(r):i+encodeURIComponent(t(e[a]))})).join(r):a?encodeURIComponent(t(a))+n+encodeURIComponent(t(e)):""}},50306:(e,t,r)=>{"use strict";t.decode=t.parse=r(46238),t.encode=t.stringify=r(79442)},15327:(e,t,r)=>{r.p=window.__kbnPublicPath__.apm},82677:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/controls/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},64390:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},73961:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/dashboard/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},7195:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},14627:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},67546:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},37634:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/exploratoryView/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},59589:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/fleet/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},20409:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},61215:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},66764:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/logsShared/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},71952:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/logsShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},9130:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/maps/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},61474:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/metricsDataAccess/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},51808:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/ml/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},60636:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/ml/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},25170:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/observability/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},33838:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/observability/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},73780:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/observabilityShared/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},16808:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/observabilityShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},13073:(e,t,r)=>{r.r(t);var n=__kbnBundles__.get("plugin/triggersActionsUi/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},68915:(e,t,r)=>{e.exports=r(52497)(67493)},43059:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticCharts},81319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},26752:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticNumeral},96791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},43782:e=>{"use strict";e.exports=__kbnSharedDeps__.IoTs},66744:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnAnalytics},9424:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnCodeEditor},76494:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnDatemath},21192:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnEbtTools},55964:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnEsQuery},75008:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},75879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},30911:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnMonaco},20482:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnReactKibanaContextRender},43999:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnReactKibanaContextTheme},45995:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnRison},11728:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxErrorBoundary},30193:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxRouter},53803:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnUiTheme},30770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},51783:e=>{"use strict";e.exports=__kbnSharedDeps__.Moment},62488:e=>{"use strict";e.exports=__kbnSharedDeps__.MomentTimezone},84286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},22874:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactDom},61747:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouter},1493:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouterDom},80190:e=>{"use strict";e.exports=__kbnSharedDeps__.Rxjs},95079:e=>{"use strict";e.exports=__kbnSharedDeps__.SaferLodashSet},1941:e=>{"use strict";e.exports=__kbnSharedDeps__.TsLib},9472:e=>{"use strict";e.exports=__kbnSharedDeps__.Uuid},52497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={id:e,loaded:!1,exports:{}};return n[e].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=n,i.amdD=function(){throw new Error("define cannot be used indirect")},i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var a=Object.create(null);i.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,i.d(a,s),a},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>"apm.chunk."+e+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},i.l=(e,t,n,a)=>{if(r[e])r[e].push(t);else{var s,o;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==e){s=u;break}}s||(o=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=e),r[e]=[t];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(d);var a=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(n))),t)return t(n)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),o&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={6785:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise(((r,a)=>n=e[t]=[r,a]));r.push(n[2]=a);var s=i.p+i.u(t),o=new Error;i.l(s,(r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,n[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,a,[s,o,l]=r,c=0;if(s.some((t=>0!==e[t]))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);l&&l(i)}for(t&&t(r);c<s.length;c++)a=s[c],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.apm_bundle_jsonpfunction=self.apm_bundle_jsonpfunction||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),i.nc=void 0,i(15327),__kbnBundles__.define("plugin/apm/public",i,99876)})();