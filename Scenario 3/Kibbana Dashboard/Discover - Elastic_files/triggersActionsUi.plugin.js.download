/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,t,a,r={6878:(e,t,a)=>{"use strict";a.d(t,{GI:()=>o,t9:()=>s,w_:()=>i,n3:()=>n});var r=a(5008);const s=Object.freeze({id:"recovered",name:r.i18n.translate("alertingTypes.builtinActionGroups.recovered",{defaultMessage:"Recovered"})}),n="Error validating circuit breaker";let i=function(e){return e.CHANGE="onActionGroupChange",e.ACTIVE="onActiveAlert",e.THROTTLE="onThrottleInterval",e}({});const o=[1,2,3,4,5,6,7]},7918:(e,t,a)=>{"use strict";a.d(t,{FQ:()=>le.F,_S:()=>z,GA:()=>oe,AT:()=>h,FI:()=>ce,x1:()=>ee,UZ:()=>R,kU:()=>ne,A0:()=>ue.A,h0:()=>_e,Cr:()=>ye,D4:()=>B.W,Y8:()=>xe.Y,ut:()=>H,Nm:()=>Y});var r=a(3185),s=a(4286),n=a.n(s),i=a(5008),o=a(1319),l=a(454),u=a(6791);const c=i.i18n.translate("alertsUIShared.components.alertLifecycleStatusBadge.activeLabel",{defaultMessage:"Active"}),d=i.i18n.translate("alertsUIShared.components.alertLifecycleStatusBadge.recoveredLabel",{defaultMessage:"Recovered"}),p=i.i18n.translate("alertsUIShared.components.alertLifecycleStatusBadge.flappingLabel",{defaultMessage:"Flapping"}),g=i.i18n.translate("alertsUIShared.components.alertLifecycleStatusBadge.untrackedLabel",{defaultMessage:"Untracked"}),h=(0,s.memo)((e=>{const{alertStatus:t,flapping:a}=e,s=(e=>"string"==typeof e?"true"===e:e)(a),{label:n,color:i,iconProps:h,isDisabled:m}=((e,t)=>e===l.AR?{label:g,color:"default",isDisabled:!0}:e===l.O3?{label:d,color:"success"}:t?{label:p,color:"danger",iconProps:{iconType:"visGauge"}}:{label:c,color:"danger"})(t,s);return(0,u.jsx)(o.EuiBadge,(0,r.default)({"data-test-subj":"alertLifecycleStatusBadge",isDisabled:m,color:i},h),n)})),m=Object.freeze({kibana:{id:"kibana",label:i.i18n.translate("core.ui.kibanaNavList.label",{defaultMessage:"Analytics"}),euiIconType:"logoKibana",order:1e3},enterpriseSearch:{id:"enterpriseSearch",label:i.i18n.translate("core.ui.searchNavList.label",{defaultMessage:"Elasticsearch"}),order:2e3,euiIconType:"logoElasticsearch"},observability:{id:"observability",label:i.i18n.translate("core.ui.observabilityNavList.label",{defaultMessage:"Observability"}),euiIconType:"logoObservability",order:3e3},security:{id:"securitySolution",label:i.i18n.translate("core.ui.securityNavList.label",{defaultMessage:"Security"}),order:4e3,euiIconType:"logoSecurity"},management:{id:"management",label:i.i18n.translate("core.ui.managementNavList.label",{defaultMessage:"Management"}),order:5e3,euiIconType:"managementApp"}});let b=function(e){return e.Running="running",e.Upcoming="upcoming",e.Finished="finished",e.Archived="archived",e}({});var f=a(3530);const y=({http:e,notifications:{toasts:t}},{enabled:a})=>(0,f.useQuery)(["GET",v],(({signal:t})=>(async(e,t)=>(await e.fetch("/internal/alerting/rules/maintenance_window/_active",{method:"GET",signal:t})).map((e=>(({expiration_date:e,r_rule:t,created_by:a,updated_by:r,created_at:s,updated_at:n,event_start_time:i,event_end_time:o,category_ids:l,...u})=>({...u,expirationDate:e,rRule:t,createdBy:a,updatedBy:r,createdAt:s,updatedAt:n,eventStartTime:i,eventEndTime:o,categoryIds:l}))(e))))(e,t)),{enabled:a,refetchInterval:6e4,onError:e=>{t.addError(e,{title:_,toastMessage:x})}}),v="/internal/alerting/rules/maintenance_window/_active",_=i.i18n.translate("alertsUIShared.maintenanceWindowCallout.fetchError",{defaultMessage:"Failed to check if maintenance windows are active"}),x=i.i18n.translate("alertsUIShared.maintenanceWindowCallout.fetchErrorDescription",{defaultMessage:"Rule notifications are stopped while maintenance windows are running."}),S="maintenanceWindow",A=i.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowActiveDescription",{defaultMessage:"Rule notifications are stopped while maintenance windows are running."}),T=i.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowActiveNoCategories",{defaultMessage:"One or more maintenance windows are running"}),E=e=>i.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowTwoCategoryNames",{defaultMessage:"{first} and {second}",values:{first:e[0],second:e[1]}}),w=e=>i.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowMultipleCategoryNames",{defaultMessage:"{commaSeparatedList}, and {last}",values:{commaSeparatedList:e.slice(0,-1).join(", "),last:e.slice(-1).join("")}}),I={...m,management:{...m.management,label:i.i18n.translate("alertsUIShared.maintenanceWindowCallout.managementCategoryLabel",{defaultMessage:"Stack"})}};function R({kibanaServices:e,categories:t}){const{application:{capabilities:a}}=e,r=!a[S].show&&!a[S].save,{data:n=[]}=y(e,{enabled:!r}),l=(0,s.useMemo)((()=>!!n&&0!==n.length&&(!Array.isArray(t)||n.some((({status:e,categoryIds:a})=>e===b.Running&&(!Array.isArray(a)||a.some((e=>t.includes(e)))))))),[t,n]),c=(0,s.useMemo)((()=>{const e=Array.from(new Set(n.map((({categoryIds:e})=>null==e?void 0:e.filter((e=>!t||t.includes(e))))).flat())).map((e=>{var t,a;return null!==(t=null===(a=Object.values(I).find((t=>t.id===e)))||void 0===a?void 0:a.label)&&void 0!==t?t:e})).filter(Boolean);return 0===e.length?null:1===e.length?`${e}`:2===e.length?E(e):w(e)}),[n,t]);return r?null:l?(0,u.jsx)(o.EuiCallOut,{title:c?i.i18n.translate("alertsUIShared.maintenanceWindowCallout.maintenanceWindowActive",{defaultMessage:"{activeWindowCount, plural, one {A maintenance window is} other {Maintenance windows are}} running for {categories} rules",values:{categories:c,activeWindowCount:n.length}}):T,color:"warning",iconType:"iInCircle","data-test-subj":"maintenanceWindowCallout"},A):null}a(5367);const C={truncatedText:(0,u.css)("text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:",2,";-webkit-box-orient:vertical;overflow:hidden;word-break:break-word;","")},j=({text:e})=>(0,u.jsx)(o.EuiText,{size:"xs",color:"subdued",css:C.truncatedText},e);j.displayName="TruncatedText";const k=n().memo(j),M=i.i18n.translate("alertsUIShared.components.addMessageVariables.loadingMessage",{defaultMessage:"Loading variables"}),L=i.i18n.translate("alertsUIShared.components.addMessageVariables.noVariablesFound",{defaultMessage:"No variables found"}),F=i.i18n.translate("alertsUIShared.components.addMessageVariables.noVariablesAvailable",{defaultMessage:"No variables available"}),O=i.i18n.translate("alertsUIShared.components.addMessageVariables.deprecatedVariablesAreShown",{defaultMessage:"Deprecated variables are shown"}),P=i.i18n.translate("alertsUIShared.components.addMessageVariables.deprecatedVariablesAreHidden",{defaultMessage:"Deprecated variables are hidden"}),U=i.i18n.translate("alertsUIShared.components.addMessageVariables.hideDeprecatedVariables",{defaultMessage:"Hide"}),D=i.i18n.translate("alertsUIShared.components.addMessageVariables.showAllDeprecatedVariables",{defaultMessage:"Show all"}),N=i.i18n.translate("alertsUIShared.components.addMessageVariables.addVariablePopoverButton",{defaultMessage:"Add variable"}),V=i.i18n.translate("alertsUIShared.components.addMessageVariables.addRuleVariableTitle",{defaultMessage:"Add variable"}),z=({buttonTitle:e,messageVariables:t,paramsProperty:a,onSelectEventHandler:r,showButtonTitle:i=!1})=>{var l;const[c,d]=(0,s.useState)(!1),[p,g]=(0,s.useState)(!1),{euiTheme:h}=(0,o.useEuiTheme)(),m=(0,s.useMemo)((()=>null==t?void 0:t.reduce(((e,t)=>({...e,[t.name]:t})),{})),[t]),b=(0,s.useMemo)((()=>c?t:null==t?void 0:t.filter((e=>!e.deprecated))),[t,c]),f=(0,s.useMemo)((()=>null==b?void 0:b.map((e=>({label:e.name,...e.deprecated?{disabled:!0}:{},data:{description:e.description},"data-test-subj":`${e.name}-selectableOption`})))),[b]),y=e||V,v=(0,s.useMemo)((()=>i?(0,u.jsx)(o.EuiButtonEmpty,{id:`${a}AddVariableButton`,"data-test-subj":`${a}AddVariableButton-Title`,size:"xs",onClick:()=>g(!0),"aria-label":N},y):(0,u.jsx)(o.EuiButtonIcon,{id:`${a}AddVariableButton`,"data-test-subj":`${a}AddVariableButton`,title:y,onClick:()=>g(!0),iconType:"indexOpen","aria-label":N})),[y,a,i]);if(0===(null!==(l=null==t?void 0:t.length)&&void 0!==l?l:0))return(0,u.jsx)(n().Fragment,null);const _=({description:e,label:t})=>(0,u.jsx)(n().Fragment,null,(0,u.jsx)(o.EuiText,{size:"s",style:{fontWeight:h.font.weight.bold}},t),(0,u.jsx)(o.EuiSpacer,{size:"s"}),(0,u.jsx)("hr",null),(0,u.jsx)(o.EuiSpacer,{size:"s"}),(0,u.jsx)(o.EuiText,{size:"xs"},e));return(0,u.jsx)(o.EuiPopover,{button:v,isOpen:p,closePopover:()=>g(!1),panelPaddingSize:"s",anchorPosition:"upRight",panelStyle:{minWidth:350}},(0,u.jsx)(o.EuiSelectable,{searchable:!0,height:300,"data-test-subj":"messageVariablesSelectableList",isLoading:!1,options:f,listProps:{rowHeight:70,showIcons:!1,paddingSize:"none",textWrap:"wrap"},loadingMessage:M,noMatchesMessage:L,emptyMessage:F,renderOption:(e,t)=>(0,u.jsx)(o.EuiFlexGroup,{"data-test-subj":`variableMenuButton-${e.label}`},(0,u.jsx)(o.EuiFlexItem,null,(0,u.jsx)(o.EuiText,{size:"s",style:{fontWeight:h.font.weight.bold}},(0,u.jsx)(o.EuiHighlight,{search:t},e.label)),(0,u.jsx)(o.EuiSpacer,{size:"xs"}),e.description&&(0,u.jsx)(n().Fragment,null,(0,u.jsx)(o.EuiToolTip,{display:"block",position:"top",content:(0,u.jsx)(_,{description:e.description,label:e.label}),"data-test-subj":`${e.label}-tooltip`},(0,u.jsx)(k,{text:e.description||""}))))),onChange:e=>{e.map((e=>{"on"===e.checked&&m&&r(m[e.label])})),g(!1)},singleSelection:!0,searchProps:{"data-test-subj":"messageVariablesSelectableSearch"}},((e,t)=>(0,u.jsx)(n().Fragment,null,t,(0,u.jsx)(o.EuiSpacer,{size:"xs"}),e,(0,u.jsx)(o.EuiPopoverFooter,{style:{paddingTop:0,paddingBottom:0}},(0,u.jsx)(o.EuiFlexGroup,{gutterSize:"s",alignItems:"center",justifyContent:"spaceBetween",responsive:!1,wrap:!0},(0,u.jsx)(o.EuiFlexItem,{grow:!1},(0,u.jsx)(o.EuiText,{color:"grey",size:"xs"},c?O:P)),(0,u.jsx)(o.EuiFlexItem,{grow:!1},(0,u.jsx)(o.EuiButtonEmpty,{"data-test-subj":"showDeprecatedVariablesButton",size:"xs",onClick:()=>d(!c)},c?U:D))))))))};var B=a(1356),W=a(7346),$=a(208),q=a(6920),G=a(3869);const H=e=>{const{http:t}=e,{data:a,isLoading:r,isInitialLoading:n}=(e=>{const{http:t}=e,{data:a,isSuccess:r,isLoading:s,isFetching:n,isInitialLoading:i,isError:o,error:l}=(0,f.useQuery)({queryKey:["useLoadUiHealth"],queryFn:()=>(0,q.v)({http:t}),refetchOnWindowFocus:!1});return{data:a,isLoading:s||n,isInitialLoading:i,isSuccess:r,isError:o,error:l}})({http:t}),{data:i,isLoading:o,isInitialLoading:l}=(e=>{const{http:t}=e,{data:a,isSuccess:r,isFetching:s,isLoading:n,isInitialLoading:i,isError:o,error:l}=(0,f.useQuery)({queryKey:["useLoadAlertingFrameworkHealth"],queryFn:()=>(0,$.n5)({http:t}),refetchOnWindowFocus:!1});return{data:a,isLoading:n||s,isInitialLoading:i,isSuccess:r,isError:o,error:l}})({http:t}),u=(0,s.useMemo)((()=>r||o),[r,o]),c=(0,s.useMemo)((()=>n||l),[n,l]),d=(0,s.useMemo)((()=>u||c||!a||!i?null:a.isRulesAvailable?{...a,isSufficientlySecure:i.isSufficientlySecure,hasPermanentEncryptionKey:i.hasPermanentEncryptionKey}:{...a,isSufficientlySecure:!1,hasPermanentEncryptionKey:!1}),[u,c,a,i]),p=(0,s.useMemo)((()=>{const{isRulesAvailable:e,isSufficientlySecure:t=!1,hasPermanentEncryptionKey:a=!1}=d||{};return u||c||!d||t&&a?null:e?t||a?a?G._J.API_KEYS_DISABLED_ERROR:G._J.ENCRYPTION_ERROR:G._J.API_KEYS_AND_ENCRYPTION_ERROR:G._J.ALERTS_ERROR}),[u,c,d]);return{isLoading:u,isInitialLoading:c,error:p}};var K=a(770);const Y=({http:e,toasts:t,filteredRuleTypes:a,registeredRuleTypes:r,enabled:n=!0})=>{const{data:o,isSuccess:l,isFetching:u,isInitialLoading:c,isLoading:d,error:p}=(0,f.useQuery)({queryKey:["loadRuleTypes"],queryFn:()=>async function({http:e}){return(await e.get(`${W.Gl}/rule_types`)).map((e=>(({enabled_in_license:e,recovery_action_group:t,action_groups:a,default_action_group_id:r,minimum_license_required:s,action_variables:n,authorized_consumers:i,rule_task_timeout:o,does_set_recovery_context:l,default_schedule_interval:u,has_alerts_mappings:c,has_fields_for_a_a_d:d,...p})=>({enabledInLicense:e,recoveryActionGroup:t,actionGroups:a,defaultActionGroupId:r,minimumLicenseRequired:s,actionVariables:n,authorizedConsumers:i,ruleTaskTimeout:o,doesSetRecoveryContext:l,defaultScheduleInterval:u,hasAlertsMappings:c,hasFieldsForAAD:d,...p}))(e)))}({http:e}),onError:e=>{e&&t.addDanger(i.i18n.translate("alertsUIShared.hooks.useLoadRuleTypesQuery.unableToLoadRuleTypesMessage",{defaultMessage:"Unable to load rule types"}))},refetchOnWindowFocus:!1,staleTime:6e4,enabled:n}),g=(0,s.useMemo)((()=>o?(({data:e,filteredRuleTypes:t,registeredRuleTypes:a})=>{const r=new Map,s=a?(0,K.keyBy)(a,"id"):{};for(const t of e){const e={...t};a?s[t.id]&&(e.description=s[t.id].description,r.set(t.id,e)):r.set(t.id,e)}let n=r;return null!=t&&t.length&&(n=new Map([...r].filter((([e,a])=>t.includes(a.id))))),n})({data:o,filteredRuleTypes:a,registeredRuleTypes:r}):new Map),[o,a,r]),h=g.size>0,m=(0,s.useMemo)((()=>[...g.values()]),[g]),b=m.some((e=>{var t;return null===(t=e.authorizedConsumers[W.VW])||void 0===t?void 0:t.all})),y=b||m.some((e=>{var t;return null===(t=e.authorizedConsumers[W.VW])||void 0===t?void 0:t.read}));return{ruleTypesState:{isInitialLoad:c,isLoading:d||u,data:g,error:p},hasAnyAuthorizedRuleType:h,authorizedRuleTypes:m,authorizedToReadAnyRules:y,authorizedToCreateAnyRules:b,isSuccess:l}};var Q=a(2708);const Z=[],J=i.i18n.translate("alertsUIShared.component.alertsSearchBar.placeholder",{defaultMessage:"Search alerts (e.g. kibana.alert.evaluation.threshold > 75)"}),X={type:"alerts",fields:{}},ee=({appName:e,disableQueryLanguageSwitcher:t=!1,ruleTypeIds:a=[],query:r,filters:n,onQueryChange:i,onQuerySubmit:o,onFiltersUpdated:l,rangeFrom:u,rangeTo:c,showFilterBar:d=!1,showDatePicker:p=!0,showSubmitButton:g=!0,placeholder:h=J,submitOnBlur:m=!1,http:b,toasts:f,unifiedSearchBar:y,dataService:v})=>{var _;const[x,S]=(0,s.useState)("kuery"),{dataView:A}=(0,B.W)({ruleTypeIds:a,http:b,toasts:f,dataViewsService:v.dataViews}),T=(0,s.useMemo)((()=>{var e;return a.length>0&&null!=A&&null!==(e=A.fields)&&void 0!==e&&e.length?[{title:a.join(","),fields:A.fields}]:A?[A]:null}),[A,a]),E=null!==(_=null==a?void 0:a.some(Q.L$))&&void 0!==_&&_,w=(0,s.useCallback)((({dateRange:e,query:t})=>{var a;o({dateRange:e,query:"string"==typeof(null==t?void 0:t.query)?t.query:void 0}),S(null!==(a=null==t?void 0:t.language)&&void 0!==a?a:"kuery")}),[o,S]),I=(0,s.useCallback)((({dateRange:e,query:t})=>{var a;null==i||i({dateRange:e,query:"string"==typeof(null==t?void 0:t.query)?t.query:void 0}),S(null!==(a=null==t?void 0:t.language)&&void 0!==a?a:"kuery")}),[i,S]);return y({appName:e,disableQueryLanguageSwitcher:t,indexPatterns:T||Z,placeholder:h,query:{query:null!=r?r:"",language:x},filters:n,dateRangeFrom:u,dateRangeTo:c,displayStyle:"inPage",showFilterBar:d,onQuerySubmit:w,onFiltersUpdated:e=>{v.query.filterManager.setFilters(e),null==l||l(e)},onRefresh:({dateRange:e})=>{o({dateRange:e})},showDatePicker:p,showQueryInput:!0,allowSavingQueries:!0,showSubmitButton:g,submitOnBlur:m,onQueryChange:I,suggestionsAbstraction:E?void 0:X})},te=[25,50,100];var ae=a(8915);class Storage{constructor(){(0,ae.default)(this,"engine",window.localStorage),(0,ae.default)(this,"prefix","tablePersist")}encode(e){return JSON.stringify(e)}decode(e){if("string"==typeof e)return JSON.parse(e)}encodeKey(e){return`${this.prefix}:${e}`}set(e,t){return this.engine.setItem(this.encodeKey(e),this.encode(t)),t}has(e){return null!=this.engine.getItem(this.encodeKey(e))}get(e,t){return this.has(e)?this.decode(this.engine.getItem(this.encodeKey(e))):t}}const re={box:{incremental:!0,placeholder:i.i18n.translate("alertsUIShared.alertFieldsTable.filter.placeholder",{defaultMessage:"Filter by Field, Value, or Description..."}),schema:!0}},se=[{field:"key",name:i.i18n.translate("alertsUIShared.alertFieldsTable.field",{defaultMessage:"Field"}),width:"30%"},{field:"value",name:i.i18n.translate("alertsUIShared.alertFieldsTable.value",{defaultMessage:"Value"}),width:"70%"}],ne=e=>(0,u.jsx)(o.EuiTabbedContent,(0,r.default)({css:(0,u.css)("display:flex;flex-direction:column;flex:1;& [role='tabpanel']{display:flex;flex:1 0 0;",(0,o.useEuiOverflowScroll)("y",!0),";}","")},e)),ie=[25,50,100],oe=(0,s.memo)((({alert:e,fields:t})=>{const{euiTheme:a}=(0,o.useEuiTheme)(),r=(0,o.useEuiFontSize)("xs").fontSize,{pageSize:n,sorting:i,onTableChange:l}=function({tableId:e,customOnTableChange:t,initialSort:a,initialPageSize:r,pageSizeOptions:n}){var i;const o=new Storage,l=o.get(e,void 0),{pageSize:u,sort:c}=((e,t)=>{const a=null==e?void 0:e.pageSize,r=null==e?void 0:e.sort;let s=a,n=r;if(a&&!t.includes(a)&&(s=void 0),r){const e=r.field,t=r.direction;"string"==typeof e&&["asc","desc"].includes(t)||(n=void 0)}return{pageSize:s,sort:n}})(l,null!=n?n:te),[d,p]=(0,s.useState)(null!==(i=null!=u?u:r)&&void 0!==i?i:50),[g,h]=(0,s.useState)(null!=c?c:a);return{pageSize:d,sorting:!g||{sort:g},onTableChange:(0,s.useCallback)((a=>{var r,s,n,i,l,d,g;let m;t&&t(a);const b=""===(null===(r=a.sort)||void 0===r||null===(s=r.field)||void 0===s?void 0:s.toString());null!==(n=a.sort)&&void 0!==n&&n.field&&null!==(i=a.sort)&&void 0!==i&&i.direction&&(m=a.sort),(null!==(l=a.sort)&&void 0!==l&&l.field||null!==(d=a.sort)&&void 0!==d&&d.direction)&&h(m);const f=null===(g=a.page)||void 0===g?void 0:g.size;if(f&&p(f),f&&f!==u||m&&m!==c||b){const t={pageSize:f,sort:m};o.set(e,t)}}),[t,o,u,c,e])}}({tableId:"obltAlertFields",initialPageSize:25}),c=(0,s.useMemo)((()=>{let a=Object.entries(e).map((([e,t])=>({key:e,value:t})));return null!=t&&t.length&&(a=a.filter((e=>t.includes(e.key)))),a}),[e,t]);return(0,u.jsx)(o.EuiInMemoryTable,{items:c,itemId:"key",columns:se,onTableChange:l,pagination:{pageSize:n,pageSizeOptions:ie},sorting:i,search:re,css:(0,u.css)("& .euiTableRow{font-size:",r,";font-family:",a.font.familyCode,";}","")})}));var le=a(8190),ue=a(5406);let ce=function(e){return e.ruleId="rule.id",e.ruleName="rule.name",e.ruleSpaceId="rule.spaceId",e.ruleTags="rule.tags",e.ruleType="rule.type",e.ruleUrl="rule.url",e.ruleParams="rule.params",e.date="date",e.alertId="alert.id",e.alertUuid="alert.uuid",e.alertActionGroup="alert.actionGroup",e.alertActionGroupName="alert.actionGroupName",e.alertActionSubgroup="alert.actionSubgroup",e.alertFlapping="alert.flapping",e.kibanaBaseUrl="kibanaBaseUrl",e.alertConsecutiveMatches="alert.consecutiveMatches",e}({}),de=function(e){return e.alertId="alertId",e.alertName="alertName",e.alertInstanceId="alertInstanceId",e.alertActionGroup="alertActionGroup",e.alertActionGroupName="alertActionGroupName",e.alertActionSubgroup="alertActionSubgroup",e.tags="tags",e.spaceId="spaceId",e.params="params",e}({}),pe=function(e){return e.newAlertsCount="alerts.new.count",e.newAlertsData="alerts.new.data",e.ongoingAlertsCount="alerts.ongoing.count",e.ongoingAlertsData="alerts.ongoing.data",e.recoveredAlertsCount="alerts.recovered.count",e.recoveredAlertsData="alerts.recovered.data",e.allAlertsCount="alerts.all.count",e.allAlertsData="alerts.all.data",e}({});const ge=Object.freeze({[de.alertId]:{description:i.i18n.translate("alertsUIShared.actionVariables.legacyAlertIdLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:ce.ruleId}}),deprecated:!0},[de.alertName]:{deprecated:!0,description:i.i18n.translate("alertsUIShared.actionVariables.legacyAlertNameLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:ce.ruleName}})},[de.alertInstanceId]:{deprecated:!0,description:i.i18n.translate("alertsUIShared.actionVariables.legacyAlertInstanceIdLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:ce.alertId}})},[de.alertActionGroup]:{deprecated:!0,description:i.i18n.translate("alertsUIShared.actionVariables.legacyAlertActionGroupLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:ce.alertActionGroup}})},[de.alertActionGroupName]:{deprecated:!0,description:i.i18n.translate("alertsUIShared.actionVariables.legacyAlertActionGroupNameLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:ce.alertActionGroupName}})},[de.tags]:{deprecated:!0,description:i.i18n.translate("alertsUIShared.actionVariables.legacyTagsLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:ce.ruleTags}})},[de.spaceId]:{deprecated:!0,description:i.i18n.translate("alertsUIShared.actionVariables.legacySpaceIdLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:ce.ruleSpaceId}})},[de.params]:{deprecated:!0,description:i.i18n.translate("alertsUIShared.actionVariables.legacyParamsLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:ce.ruleParams}})},[ce.date]:{description:i.i18n.translate("alertsUIShared.actionVariables.dateLabel",{defaultMessage:"The date the rule scheduled the action."})},[ce.kibanaBaseUrl]:{description:i.i18n.translate("alertsUIShared.actionVariables.kibanaBaseUrlLabel",{defaultMessage:"The configured server.publicBaseUrl value or empty string if not configured."})},[ce.ruleId]:{description:i.i18n.translate("alertsUIShared.actionVariables.ruleIdLabel",{defaultMessage:"The ID of the rule."})},[ce.ruleName]:{description:i.i18n.translate("alertsUIShared.actionVariables.ruleNameLabel",{defaultMessage:"The name of the rule."})},[ce.ruleSpaceId]:{description:i.i18n.translate("alertsUIShared.actionVariables.ruleSpaceIdLabel",{defaultMessage:"The space ID of the rule."})},[ce.ruleType]:{description:i.i18n.translate("alertsUIShared.actionVariables.ruleTypeLabel",{defaultMessage:"The type of rule."})},[ce.ruleTags]:{description:i.i18n.translate("alertsUIShared.actionVariables.ruleTagsLabel",{defaultMessage:"The tags of the rule."})},[ce.ruleParams]:{description:i.i18n.translate("alertsUIShared.actionVariables.ruleParamsLabel",{defaultMessage:"The parameters of the rule."})},[ce.ruleUrl]:{description:i.i18n.translate("alertsUIShared.actionVariables.ruleUrlLabel",{defaultMessage:"The URL to the rule that generated the alert. This will be an empty string if the server.publicBaseUrl is not configured."}),usesPublicBaseUrl:!0},[ce.alertId]:{description:i.i18n.translate("alertsUIShared.actionVariables.alertIdLabel",{defaultMessage:"The ID of the alert that scheduled actions for the rule."})},[ce.alertUuid]:{description:i.i18n.translate("alertsUIShared.actionVariables.alertUuidLabel",{defaultMessage:"The UUID of the alert that scheduled actions for the rule."})},[ce.alertActionGroup]:{description:i.i18n.translate("alertsUIShared.actionVariables.alertActionGroupLabel",{defaultMessage:"The action group of the alert that scheduled actions for the rule."})},[ce.alertActionGroupName]:{description:i.i18n.translate("alertsUIShared.actionVariables.alertActionGroupNameLabel",{defaultMessage:"The human readable name of the action group of the alert that scheduled actions for the rule."})},[ce.alertFlapping]:{description:i.i18n.translate("alertsUIShared.actionVariables.alertFlappingLabel",{defaultMessage:"A flag on the alert that indicates whether the alert status is changing repeatedly."})},[ce.alertConsecutiveMatches]:{description:i.i18n.translate("alertsUIShared.actionVariables.alertConsecutiveMatchesLabel",{defaultMessage:"The number of consecutive runs that meet the rule conditions."})}}),he=Object.freeze({...ge,[pe.allAlertsCount]:{description:i.i18n.translate("alertsUIShared.actionVariables.allAlertsCountLabel",{defaultMessage:"The count of all alerts."})},[pe.allAlertsData]:{description:i.i18n.translate("alertsUIShared.actionVariables.allAlertsDataLabel",{defaultMessage:"An array of objects for all alerts."})},[pe.newAlertsCount]:{description:i.i18n.translate("alertsUIShared.actionVariables.newAlertsCountLabel",{defaultMessage:"The count of new alerts."})},[pe.newAlertsData]:{description:i.i18n.translate("alertsUIShared.actionVariables.newAlertsDataLabel",{defaultMessage:"An array of objects for new alerts."})},[pe.ongoingAlertsCount]:{description:i.i18n.translate("alertsUIShared.actionVariables.ongoingAlertsCountLabel",{defaultMessage:"The count of ongoing alerts."})},[pe.ongoingAlertsData]:{description:i.i18n.translate("alertsUIShared.actionVariables.ongoingAlertsDataLabel",{defaultMessage:"An array of objects for ongoing alerts."})},[pe.recoveredAlertsCount]:{description:i.i18n.translate("alertsUIShared.actionVariables.recoveredAlertsCountLabel",{defaultMessage:"The count of recovered alerts."})},[pe.recoveredAlertsData]:{description:i.i18n.translate("alertsUIShared.actionVariables.recoveredAlertsDataLabel",{defaultMessage:"An array of objects for recovered alerts."})}});var me=a(3268);const be=(e,t)=>e.map((e=>({...e,name:`${t}${e.name}`}))),fe=(e,t)=>{if(!e)return[];const a=t?"all"===t?(0,K.pick)(e,me.Be):(0,K.pick)(e,[...me.Be,...me.bD]):e,r=be(a.params,"rule.params."),s=a.context?be(a.context,"context."):[],n=a.state?be(a.state,"state."):[];return s.concat(r,n)},ye=(e,t,a,r)=>{if(r){const e=ve(he),r=fe(t,a);return e.concat(r)}const s=ve(ge),n=fe(e,a);return s.concat(n)},ve=e=>Object.entries(e).map((([e,t])=>({...t,name:e}))),_e=(e,t,a,r)=>{const s=ye(e,t,null==a?void 0:a.omitMessageVariables,r);return(0,K.partition)(s,(e=>!0!==e.deprecated)).reduce(((e,t)=>[...e,...t.sort(((e,t)=>e.name.toUpperCase().localeCompare(t.name.toUpperCase())))]),[])};var xe=a(8202)},5406:(e,t,a)=>{"use strict";a.d(t,{A:()=>p,W:()=>d}),a(8315),a(4286);var r=a(770),s=a(5008),n=a(1319),i=a(5879),o=a(7346),l=a(6791);const u=e=>({isEnabled:!1,message:s.i18n.translate("alertsUIShared.checkActionTypeEnabled.actionTypeDisabledByLicenseMessage",{defaultMessage:"This connector requires a {minimumLicenseRequired} license.",values:{minimumLicenseRequired:(0,r.upperFirst)(e.minimumLicenseRequired)}}),messageCard:(0,l.jsx)(n.EuiCard,{titleSize:"xs",title:s.i18n.translate("alertsUIShared.licenseCheck.actionTypeDisabledByLicenseMessageTitle",{defaultMessage:"This feature requires a {minimumLicenseRequired} license.",values:{minimumLicenseRequired:(0,r.upperFirst)(e.minimumLicenseRequired)}}),description:s.i18n.translate("alertsUIShared.licenseCheck.actionTypeDisabledByLicenseMessageDescription",{defaultMessage:"To re-enable this action, please upgrade your license."}),className:"actCheckActionTypeEnabled__disabledActionWarningCard",children:(0,l.jsx)(n.EuiLink,{href:o.cY,target:"_blank"},(0,l.jsx)(i.FormattedMessage,{defaultMessage:"View license options",id:"alertsUIShared.licenseCheck.actionTypeDisabledByLicenseLinkTitle"}))})}),c={isEnabled:!1,message:s.i18n.translate("alertsUIShared.checkActionTypeEnabled.actionTypeDisabledByConfigMessage",{defaultMessage:"This connector is disabled by the Kibana configuration."}),messageCard:(0,l.jsx)(n.EuiCard,{title:s.i18n.translate("alertsUIShared.licenseCheck.actionTypeDisabledByConfigMessageTitle",{defaultMessage:"This feature is disabled by the Kibana configuration."}),description:"",className:"actCheckActionTypeEnabled__disabledActionWarningCard"})},d=(e,t=!1)=>!1===(null==e?void 0:e.enabledInLicense)?u(e):!1===(null==e?void 0:e.enabledInConfig)&&!1===t?c:{isEnabled:!0},p=(e,t)=>!1===(null==e?void 0:e.enabledInLicense)?u(e):!1!==(null==e?void 0:e.enabledInConfig)||t.find((t=>t.actionTypeId===e.id))?{isEnabled:!0}:c},208:(e,t,a)=>{"use strict";a.d(t,{n5:()=>s,MG:()=>i,bL:()=>n});var r=a(7346);async function s({http:e}){const t=await e.get(`${r.Gl}/_health`),a=n(t.alerting_framework_health);return{...i(t),alertingFrameworkHealth:a}}const n=({decryption_health:e,execution_health:t,read_health:a,...r})=>({decryptionHealth:e,executionHealth:t,readHealth:a,...r}),i=({is_sufficiently_secure:e,has_permanent_encryption_key:t,alerting_framework_health:a,...r})=>({isSufficientlySecure:e,hasPermanentEncryptionKey:t,alertingFrameworkHealth:a,...r})},5772:(e,t,a)=>{"use strict";a.d(t,{v:()=>s});var r=a(7346);const s=({http:e,ruleTypeIds:t})=>e.get(`${r.Gm}/browser_fields`,{query:{ruleTypeIds:t}})},5953:(e,t,a)=>{"use strict";a.d(t,{I:()=>s});var r=a(7346);const s=async({http:e,ruleTypeIds:t})=>{const{index_name:a=[]}=await e.get(`${r.Gm}/index`,{query:{ruleTypeIds:t}});return a}},7623:(e,t,a)=>{"use strict";a.d(t,{D:()=>s});var r=a(7346);const s=async({http:e,featureId:t,includeSystemActions:a=!1})=>{const s=a?`${r.WR}/connector_types`:`${r.S9}/connector_types`;return(t?await e.get(s,{query:{feature_id:t}}):await e.get(s,{})).map((e=>(({enabled_in_config:e,enabled_in_license:t,minimum_license_required:a,supported_feature_ids:r,is_system_action_type:s,sub_feature:n,...i})=>({enabledInConfig:e,enabledInLicense:t,minimumLicenseRequired:a,supportedFeatureIds:r,isSystemActionType:s,subFeature:n,...i}))(e)))}},3673:(e,t,a)=>{"use strict";a.d(t,{H:()=>i});const r=e=>e.map((e=>s(e))),s=({connector_type_id:e,is_preconfigured:t,is_deprecated:a,referenced_by_count:r,is_missing_secrets:s,is_system_action:n,...i})=>({actionTypeId:e,isPreconfigured:t,isDeprecated:a,referencedByCount:r,isMissingSecrets:s,isSystemAction:n,...i});var n=a(7346);async function i({http:e,includeSystemActions:t=!1}){const a=t?`${n.WR}/connectors`:`${n.S9}/connectors`,s=await e.get(a);return r(s)}},2342:(e,t,a)=>{"use strict";a.d(t,{o:()=>i,f:()=>n});var r=a(770),s=a(7346);const n=(e,t)=>{var a,s,n,i;let o=t[e];return(0,r.isEmpty)(null!==(a=null===(s=o)||void 0===s?void 0:s.description)&&void 0!==a?a:"")&&e.includes("kibana.alert.")&&(o=t[e.replace("kibana.alert.","")]),null!==(n=null===(i=o)||void 0===i?void 0:i.description)&&void 0!==n?n:""},i=async({http:e,ruleTypeId:t})=>t?await e.get(`${s.Gm}/aad_fields`,{query:{ruleTypeId:t}}):s.Lv},6920:(e,t,a)=>{"use strict";a.d(t,{v:()=>n,_:()=>r});const r={ALERTS_ERROR:"alertsError",ENCRYPTION_ERROR:"encryptionError",API_KEYS_DISABLED_ERROR:"apiKeysDisabledError",API_KEYS_AND_ENCRYPTION_ERROR:"apiKeysAndEncryptionError"};var s=a(7346);const n=async({http:e})=>{const t=await e.get(`${s.g6}/_health`);return t?{isRulesAvailable:t.isAlertsAvailable}:t}},3869:(e,t,a)=>{"use strict";a.d(t,{_J:()=>s._,fY:()=>r.f,oM:()=>r.o}),a(208),a(5772),a(5953),a(3673),a(7623);var r=a(2342),s=a(6920)},7379:(e,t,a)=>{"use strict";a.d(t,{i:()=>o,z:()=>i});var r=a(6878),s=a(1783),n=a.n(s);const i=r.GI.map((e=>({id:String(e),label:n()().isoWeekday(e).format("dd")}))),o=r.GI.map((e=>({id:String(e),label:n()().isoWeekday(e).format("ddd")})))},7346:(e,t,a)=>{"use strict";a.d(t,{VW:()=>i,S9:()=>d,Gl:()=>o,Gm:()=>u,g6:()=>c,Iq:()=>r,Lv:()=>s,i9:()=>n.i,WR:()=>p,Ye:()=>l,cY:()=>g});const r=10,s=[];var n=a(7379);const i="alerts",o="/api/alerting",l="/internal/alerting",u="/internal/rac/alerts",c="/internal/triggers_actions_ui",d="/api/actions",p="/internal/actions",g="https://www.elastic.co/subscriptions"},6:(e,t,a)=>{"use strict";a.d(t,{l:()=>r});const r=(0,a(4286).createContext)(void 0)},1356:(e,t,a)=>{"use strict";a.d(t,{W:()=>d});var r=a(4286),s=a(5008),n=a(2708),i=a(3530);const o=["alerts","dataView"];var l=a(865),u=a(5953);const c=["alerts","fetchAlertsIndexNames"],d=({http:e,dataViewsService:t,toasts:a,ruleTypeIds:d})=>{const p=d.some(n.L$),g=d.length>0&&d.every(n.L$),h=!g&&p,{data:m,isError:b,isLoading:f,isInitialLoading:y}=(({http:e,ruleTypeIds:t},a)=>(0,i.useQuery)({queryKey:c.concat(t),queryFn:()=>(0,u.I)({http:e,ruleTypeIds:t}),enabled:t.length>0,staleTime:6e4,refetchOnWindowFocus:!1,...a}))({http:e,ruleTypeIds:d},{enabled:!!d.length&&(g||!p)}),{data:v,isError:_,isLoading:x,isInitialLoading:S}=(0,l.q)({http:e,ruleTypeIds:d},{enabled:!!d.length&&!p}),{data:A,isError:T}=(({dataViewsService:e,indexNames:t},a)=>{const s=(0,i.useQuery)({queryKey:o.concat(null!=t?t:[]),queryFn:()=>e.create({title:(null!=t?t:[]).join(","),allowNoIndex:!0}),enabled:!(null==t||!t.length),staleTime:1/0,refetchOnWindowFocus:!1,...a});return(0,r.useEffect)((()=>{if(s.data)return()=>{e.clearInstanceCache(s.data.id)}}),[e,s.data]),s})({dataViewsService:t,indexNames:m},{enabled:g&&!(null==m||!m.length)});(0,r.useEffect)((()=>{(b||_||T)&&a.addDanger(s.i18n.translate("alertsUIShared.hooks.useAlertDataView.fetchErrorMessage",{defaultMessage:"Unable to load alert data view"}))}),[_,b,T,a]);const E=(0,r.useMemo)((()=>(({isError:e,fields:t,indexNames:a,virtualDataView:r})=>{if(!e){if(r)return r;var s;if(a)return{title:a.join(","),fieldFormatMap:{},fields:(null!==(s=null==t?void 0:t.fields)&&void 0!==s?s:[]).map((e=>({...e,...e.esTypes&&e.esTypes.includes("flattened")?{type:"string"}:{}})))}}})({isError:b||_||T,fields:v,indexNames:m,virtualDataView:g?A:void 0})),[v,m,_,b,g,T,A]);return(0,r.useMemo)((()=>{let e;return e=!(!d.length||h)&&(g?y||f||!E:y||f||S||x),{dataView:E,isLoading:e}}),[E,d.length,h,S,y,x,f,g])}},865:(e,t,a)=>{"use strict";a.d(t,{q:()=>o});var r=a(2708),s=a(3530),n=a(5772);const i=["alerts","fetchAlertsFields"],o=({http:e,...t},a)=>{const{ruleTypeIds:o}=t,l=o.filter((e=>!(0,r.L$)(e)));return(0,s.useQuery)({queryKey:i.concat(o),queryFn:()=>(0,n.v)({http:e,ruleTypeIds:l}),placeholderData:{browserFields:{},fields:[]},staleTime:6e4,refetchOnWindowFocus:!1,...a,enabled:l.length>0&&(null==(null==a?void 0:a.enabled)||a.enabled)})}},8202:(e,t,a)=>{"use strict";a.d(t,{Y:()=>n});var r=a(3530),s=a(7346);const n=e=>{const{http:t,enabled:a,onSuccess:n}=e,{data:i,isFetching:o,isError:l,isLoadingError:u,isLoading:c,isInitialLoading:d}=(0,r.useQuery)({queryKey:["fetchFlappingSettings"],queryFn:()=>(async({http:e})=>(({look_back_window:e,status_change_threshold:t,created_at:a,created_by:r,updated_at:s,updated_by:n,...i})=>({...i,lookBackWindow:e,statusChangeThreshold:t,createdAt:a,createdBy:r,updatedAt:s,updatedBy:n}))(await e.get(`${s.Ye}/rules/settings/_flapping`)))({http:t}),onSuccess:n,enabled:a,refetchOnWindowFocus:!1,retry:!1});return{isInitialLoading:d,isLoading:c||o,isError:l||u,data:i}}},2657:(e,t,a)=>{"use strict";a.d(t,{O:()=>TypeRegistry});var r=a(8915),s=a(5008);class TypeRegistry{constructor(){(0,r.default)(this,"objectTypes",new Map)}has(e){return this.objectTypes.has(e)}register(e){if(this.has(e.id))throw new Error(s.i18n.translate("alertsUIShared.typeRegistry.register.duplicateObjectTypeErrorMessage",{defaultMessage:'Object type "{id}" is already registered.',values:{id:e.id}}));this.objectTypes.set(e.id,e)}get(e){if(!this.has(e))throw new Error(s.i18n.translate("alertsUIShared.typeRegistry.get.missingActionTypeErrorMessage",{defaultMessage:'Object type "{id}" is not registered.',values:{id:e}}));return this.objectTypes.get(e)}list(){return Array.from(this.objectTypes).map((([e,t])=>t))}}},8190:(e,t,a)=>{"use strict";a.d(t,{F:()=>r});let r=function(e){return e.Test="test",e.ActionForm="actionForm",e}({})},2708:(e,t,a)=>{"use strict";a.d(t,{L$:()=>s,Ov:()=>r});const r={APM:"apm",LOGS:"logs",INFRASTRUCTURE:"infrastructure",OBSERVABILITY:"observability",SLO:"slo",SIEM:"siem",UPTIME:"uptime",ML:"ml",STACK_ALERTS:"stackAlerts",EXAMPLE:"AlertingExample",MONITORING:"monitoring",ALERTS:"alerts",DISCOVER:"discover"},s=(Object.values(r).map((e=>e)),e=>e.startsWith("siem."))},454:(e,t,a)=>{"use strict";a.d(t,{AR:()=>n,O3:()=>s,R5:()=>r});const r="active",s="recovered",n="untracked"},9219:(e,t,a)=>{"use strict";a.d(t,{BI:()=>T,Cl:()=>A,DW:()=>p,Ez:()=>y,Kp:()=>f,Rn:()=>C,Ry:()=>v,S2:()=>o,SL:()=>x,Wp:()=>d,ZQ:()=>R,_9:()=>M,at:()=>b,fJ:()=>E,gH:()=>i,h:()=>_,h9:()=>c,ht:()=>r,i2:()=>u,lj:()=>h,pR:()=>m,qT:()=>I,sR:()=>j,tU:()=>S,tV:()=>k,tg:()=>g,vT:()=>s,xv:()=>l,z1:()=>w,zt:()=>n});const r="@timestamp",s="kibana",n=`${s}.alert`,i=`${n}.rule`,o=`${s}.space_ids`,l=`${s}.version`,u=`${n}.action_group`,c=`${n}.case_ids`,d=`${n}.duration.us`,p=`${n}.end`,g=`${n}.flapping`,h=`${n}.maintenance_window_ids`,m=`${n}.instance.id`,b=`${n}.reason`,f=`${n}.start`,y=`${n}.status`,v=`${n}.time_range`,_=`${n}.uuid`,x=`${n}.workflow_status`,S=`${n}.workflow_tags`,A=`${n}.workflow_assignee_ids`,T=`${i}.category`,E=`${i}.consumer`,w=`${i}.execution.uuid`,I=`${i}.name`,R=`${i}.parameters`,C=`${i}.producer`,j=`${i}.tags`,k=`${i}.rule_type_id`,M=`${i}.uuid`},2745:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>u,O:()=>s,U5:()=>i,U7:()=>r,WK:()=>n,ed:()=>l,oC:()=>o});const r="/rule/:ruleId",s="/app/management/insightsAndAlerting/triggersActions",n="/rules/create/:ruleTypeId",i="/rules/edit/:id",o=e=>r.replace(":ruleId",e),l=e=>n.replace(":ruleTypeId",e),u=e=>i.replace(":id",e)},9397:(e,t,a)=>{"use strict";a.d(t,{wE:()=>r});const r="observability.rules.custom_threshold";let s=function(e){return e.ErrorCount="apm.error_rate",e.TransactionErrorRate="apm.transaction_error_rate",e.TransactionDuration="apm.transaction_duration",e.Anomaly="apm.anomaly",e}({});Object.values(s);let n=function(e){return e.MetricThreshold="metrics.alert.threshold",e.InventoryThreshold="metrics.alert.inventory.threshold",e}({});Object.values(n)},875:(e,t,a)=>{"use strict";a.d(t,{CJ:()=>n,iR:()=>s,oU:()=>r});const r="stackAlerts",s=".es-query",n="xpack.ml.anomaly_detection_alert"},3268:(e,t,a)=>{"use strict";a.d(t,{bD:()=>s,Be:()=>r});const r=["params"],s=["context"]},4022:(e,t,a)=>{"use strict";a.d(t,{eI:()=>l,hK:()=>u,xy:()=>o});const r=Object.freeze({rulesListDatagrid:!0,stackAlertsPage:!0,ruleTagFilter:!0,ruleStatusFilter:!0,rulesDetailLogs:!0,ruleUseExecutionStatus:!1,ruleKqlBar:!1,isMustacheAutocompleteOn:!1,showMustacheAutocompleteSwitch:!1,isUsingRuleCreateFlyout:!1}),s=new Set(["ruleFormV2"]),n=class extends Error{},i=Object.keys(r),o=e=>{const t={};for(const a of e){if(!l(a))throw new n(`[${a}] is not valid.`);t[a]=!0}return{...r,...t}},l=e=>i.includes(e)||s.has(e),u=()=>[...i]},9831:(e,t,a)=>{"use strict";a.d(t,{U0:()=>c,jB:()=>y,BZ:()=>g,Iq:()=>d,Sn:()=>p,E5:()=>h,P1:()=>f});var r=a(2109),s=a(5008),n=a(770);function i(e,t){if(e)return function(e,t){const a=Date.parse(e);if(isNaN(a))throw new Error(l("date",t,e));return a.valueOf()}(e,t)}function o(e,t){try{return(0,r.parseDuration)(e)}catch(a){throw new Error(l("duration",t,e))}}function l(e,t,a){return s.i18n.translate("xpack.triggersActionsUI.data.coreQueryParams.formattedFieldErrorMessage",{defaultMessage:'invalid {formatName} format for {fieldName}: "{fieldValue}"',values:{formatName:e,fieldName:t,fieldValue:a}})}const u="compareValue",c=`params.${u}`,d=e=>"count"===e,p=e=>!!e,g=({timeSeries:e,aggType:t,aggField:a,termField:r,termSize:l,sourceFieldsParams:c,condition:g,topHitsSize:h,loggerCb:m})=>{var b;const f={aggs:{}},y=d(t),v=p(r),_=Array.isArray(r),x=!!e,S=!!g;let A=null;if(x){const{timeWindowSize:t,timeWindowUnit:a,dateStart:r,dateEnd:l,interval:u}=e;A=function(e){const{dateStart:t,dateEnd:a,interval:r,window:l}=e,u=i(a,"dateEnd")||Date.now(),c=i(t,"dateStart")||u;if(c>u)throw new Error(s.i18n.translate("xpack.triggersActionsUI.data.coreQueryParams.dateStartGTdateEndErrorMessage",{defaultMessage:"[dateStart]: is greater than [dateEnd]"}));const d=((p=r)?o(p,"interval"):void 0)||0;var p;const g=o(l,"window");let h=u;const m=[],b=d?1+Math.round((u-c)/d):1;if(b>1e3)throw new Error(function(e){return s.i18n.translate("xpack.triggersActionsUI.data.coreQueryParams.maxIntervalsErrorMessage",{defaultMessage:"calculated number of intervals {intervals} is greater than maximum {maxIntervals}",values:{intervals:e,maxIntervals:1e3}})}(b));return(0,n.times)(b,(()=>{m.push({from:new Date(h-g).toISOString(),to:new Date(h).toISOString()}),h-=d})),m.reverse(),{dateStart:m[0].from,dateEnd:m[m.length-1].to,dateRanges:m}}({dateStart:r,dateEnd:l,window:`${t}${a}`,interval:u})}let T=l||100;T=S&&g.resultLimit&&T>g.resultLimit?g.resultLimit+1:T;let E=f;const w=()=>x?"sortValueAgg":"metricAgg";if(v){if(E.aggs={groupAgg:{..._?{multi_terms:{terms:r.map((e=>({field:e}))),size:T}}:{terms:{field:r,size:T}}},...S?{groupAggCount:{stats_bucket:{buckets_path:"groupAgg._count"}}}:{}},y)S&&(E.aggs.groupAgg.aggs={conditionSelector:{bucket_selector:{buckets_path:{[u]:"_count"},script:g.conditionScript}}});else{const e="min"===t?"asc":"desc";_&&E.aggs.groupAgg.multi_terms?E.aggs.groupAgg.multi_terms.order={[w()]:e}:E.aggs.groupAgg.terms&&(E.aggs.groupAgg.terms.order={[w()]:e})}E=E.aggs.groupAgg}var I,R,C;return c&&c.length>0&&c.forEach((e=>{E.aggs={...E.aggs,[e.label]:{terms:{field:e.searchPath,size:10}}}})),x&&(E.aggs={...E.aggs,dateAgg:{date_range:{field:e.timeField,format:"strict_date_time",ranges:A.dateRanges}}}),v&&h&&(h>100&&(h=100,m&&m("Top hits size is capped at 100")),E.aggs={...E.aggs,topHitsAgg:{top_hits:{size:h}}}),y||(E.aggs={...E.aggs,[w()]:{[t]:{field:a}}},v&&S&&(E.aggs.conditionSelector={bucket_selector:{buckets_path:{[u]:w()},script:g.conditionScript}})),e&&A&&(E=null!==(I=null===(R=E)||void 0===R||null===(C=R.aggs)||void 0===C?void 0:C.dateAgg)&&void 0!==I?I:{},y||(E.aggs={metricAgg:{[t]:{field:a}}})),null!==(b=f.aggs)&&void 0!==b?b:{}},h=({isCountAgg:e,isGroupAgg:t,esResult:a,resultLimit:r,sourceFieldsParams:s=[],generateSourceFieldsFromHits:n=!1,termField:i})=>{var o,l,u;const c=(null==a?void 0:a.aggregations)||{};var d,p,g,h,m;t||(c.groupAgg={buckets:[{key:"all documents",doc_count:(h=a.hits.total,"number"==typeof h?h:null!==(m=null==h?void 0:h.value)&&void 0!==m?m:0),topHitsAgg:{hits:{hits:null!==(d=a.hits.hits)&&void 0!==d?d:[]}},...c,...e?{}:{metricAgg:{value:null!==(p=null===(g=c.metricAgg)||void 0===g?void 0:g.value)&&void 0!==p?p:0}}}]});const b=(null===(o=c.groupAgg)||void 0===o?void 0:o.buckets)||[],f=null!==(l=null===(u=c.groupAggCount)||void 0===u?void 0:u.count)&&void 0!==l?l:0,y={results:[],truncated:!!r&&f>r};for(const t of b){var v,_,x,S;if(r&&y.results.length===r)break;const a=`${null==t?void 0:t.key}`,o=i&&null!=t&&t.key?[i].flat().reduce(((e,a,r)=>(e.push({field:a,value:[t.key].flat()[r]}),e)),[]):void 0,l={};s.forEach((e=>{if(n){const a=[];t.topHitsAgg.hits.hits.forEach((t=>{t._source&&t._source[e.label]&&a.push(t._source[e.label])})),l[e.label]=Array.from(a)}else{var a;null!==(a=t[e.label])&&void 0!==a&&a.buckets&&t[e.label].buckets.length>0&&(l[e.label]=t[e.label].buckets.map((e=>e.key)))}}));const u={group:a,groups:o,count:null==t?void 0:t.doc_count,hits:null!==(v=null==t||null===(_=t.topHitsAgg)||void 0===_||null===(x=_.hits)||void 0===x?void 0:x.hits)&&void 0!==v?v:[],...e?{}:{value:null==t||null===(S=t.metricAgg)||void 0===S?void 0:S.value},sourceFields:l};y.results.push(u)}return y};var m=a(6494);const b=new RegExp(`^([\\d\\.]+)\\s*(${a.n(m)().units.join("|")})$`),f=e=>{if(e){const t=e.match(b);if(t)return{value:Number(t[1]),unit:t[2]}}throw new Error(s.i18n.translate("xpack.triggersActionsUI.parseInterval.errorMessage",{defaultMessage:"{value} is not an interval string",values:{value:e}}))};a(4022);const y={long:"number",integer:"number",short:"number",byte:"number",double:"number",float:"number",half_float:"number",scaled_float:"number",unsigned_long:"number"}},6337:(e,t,a)=>{"use strict";a.d(t,{K:()=>n}),a(4286);var r=a(1319),s=a(6791);const n=({size:e})=>(0,s.jsx)(r.EuiFlexGroup,{"data-test-subj":"centerJustifiedSpinner",justifyContent:"center"},(0,s.jsx)(r.EuiFlexItem,{grow:!1},(0,s.jsx)(r.EuiLoadingSpinner,{size:e||"xl"})))},9132:(e,t,a)=>{"use strict";a.d(t,{gk:()=>v,Er:()=>N,HE:()=>V,iO:()=>z.i,mW:()=>U,JR:()=>w,GP:()=>x});var r=a(3185),s=a(4286),n=a.n(s),i=a(1319),o=a(5008);const l=__kbnSharedDeps__.KbnMonaco;var u=a(8744);const c=__kbnSharedDeps__.KbnCodeEditor;var d=a(7918),p=a(6791);const g=o.i18n.translate("xpack.triggersActionsUI.components.labelAppendWithMessageVariables.optionalLabel",{defaultMessage:"Optional"}),h=({buttonTitle:e,messageVariables:t,paramsProperty:a,onSelectEventHandler:r,showButtonTitle:s=!1,isOptionalField:n=!1})=>(0,p.jsx)(i.EuiFlexGroup,{alignItems:"center",gutterSize:"s",justifyContent:"flexEnd"},n&&(0,p.jsx)(i.EuiFlexItem,{grow:!1},(0,p.jsx)(i.EuiText,{size:"xs",color:"subdued"},g)),(0,p.jsx)(i.EuiFlexItem,{grow:!1},(0,p.jsx)(d._S,{messageVariables:t,onSelectEventHandler:r,paramsProperty:a,buttonTitle:e,showButtonTitle:s})));h.displayName="AddMessageVariablesOptional";var m=a(3456);const b=o.i18n.translate("xpack.triggersActionsUI.components.jsonEditorWithMessageVariable.noEditorErrorTitle",{defaultMessage:"Unable to add message variable"}),f=o.i18n.translate("xpack.triggersActionsUI.components.jsonEditorWithMessageVariable.noEditorErrorMessage",{defaultMessage:"Editor was not found, please refresh page and try again"}),{useXJsonMode:y}=u.XJson,v=({buttonTitle:e,messageVariables:t,paramsProperty:a,inputTargetValue:o,label:u,errors:d,ariaLabel:g,onDocumentsChange:v,helpText:_,onBlur:x,showButtonTitle:S,dataTestSubj:A,euiCodeEditorProps:T={},isOptionalField:E=!1})=>{const w=(0,s.useRef)(),I=(0,s.useRef)([]),[R,C]=(0,s.useState)(!1),{convertToJson:j,setXJson:k,xJson:M}=y(null!=o?o:null);(0,s.useEffect)((()=>{!M&&o&&k(o)}),[o]);const L=(0,s.useCallback)((()=>{const e=w.current;e&&I.current.push(e.onDidBlurEditorWidget((()=>{null==x||x()})))}),[x]);return(0,s.useEffect)((()=>(L(),()=>(I.current.forEach((e=>{e.dispose()})),void(I.current=[])))),[L]),(0,p.jsx)(i.EuiFormRow,{"data-test-subj":A,fullWidth:!0,error:d,isInvalid:d&&d.length>0&&void 0!==o,label:u,labelAppend:(0,p.jsx)(h,{isOptionalField:E,buttonTitle:e,messageVariables:t,showButtonTitle:S,onSelectEventHandler:e=>{const t=w.current;if(!t)return void C(!0);const a=t.getSelection(),r=(0,m.HR)(e);let s="";a?(t.executeEdits("json-editor-with-message-variables",[{range:a,text:r}]),s=t.getValue()):s=r,C(!1),k(s),v(j(s))},paramsProperty:a}),helpText:_},(0,p.jsx)(n().Fragment,null,R?(0,p.jsx)(n().Fragment,null,(0,p.jsx)(i.EuiSpacer,{size:"s"}),(0,p.jsx)(i.EuiCallOut,{size:"s",color:"danger",iconType:"warning",title:b},(0,p.jsx)("p",null,f)),(0,p.jsx)(i.EuiSpacer,{size:"s"})):null,(0,p.jsx)(c.CodeEditor,(0,r.default)({languageId:l.XJsonLang.ID,options:{renderValidationDecorations:M?"on":"off",lineNumbers:"on",fontSize:14,minimap:{enabled:!1},scrollBeyondLastLine:!1,folding:!0,wordWrap:"on",wrappingIndent:"indent",automaticLayout:!0},value:M,width:"100%",height:"200px","data-test-subj":`${a}JsonEditor`,"aria-label":g},T,{editorDidMount:e=>{w.current=e,L()},onChange:e=>{k(e),v(j(e))}}))))},_=({children:e,wrapField:t,formRowProps:a,button:s})=>t?(0,p.jsx)(i.EuiFormRow,(0,r.default)({},a,{labelAppend:s}),e):(0,p.jsx)(n().Fragment,null,e),x=({buttonTitle:e,messageVariables:t,paramsProperty:a,index:r,inputTargetValue:n,editAction:o,errors:l,formRowProps:u,defaultValue:c,wrapField:g=!1,showButtonTitle:h})=>{const[b,f]=(0,s.useState)(null),y=(0,s.useCallback)((e=>{var t,s;const i=(0,m.HR)(e),l=null!==(t=null==b?void 0:b.selectionStart)&&void 0!==t?t:0,u=null!==(s=null==b?void 0:b.selectionEnd)&&void 0!==s?s:0,c=(null!=n?n:"").substring(0,l)+i+(null!=n?n:"").substring(u,(null!=n?n:"").length);o(a,c,r)}),[b,o,r,n,a]),v=(0,s.useMemo)((()=>(0,p.jsx)(d._S,{buttonTitle:e,messageVariables:t,onSelectEventHandler:y,paramsProperty:a,showButtonTitle:h})),[e,t,y,a,h]);return(0,p.jsx)(_,{wrapField:g,formRowProps:u,button:v},(0,p.jsx)(i.EuiFieldText,{fullWidth:!0,name:a,id:`${a}Id`,isInvalid:l&&l.length>0&&void 0!==n,"data-test-subj":`${a}Input`,value:n||"",defaultValue:c,onChange:e=>(e=>{o(a,e.target.value,r)})(e),onFocus:e=>{f(e.target)},onBlur:e=>{n||o(a,"",r)},append:g?void 0:v}))};var S=a(4157),A=a(5277),T=a.n(A);const E={className:"euiSelectableMsgAutoComplete"},w=e=>{let t;try{t=(0,S.E)("isMustacheAutocompleteOn")}catch(e){t=!1}return t?(({editAction:e,errors:t,index:a,inputTargetValue:r,isDisabled:o=!1,label:l,messageVariables:u,paramsProperty:c})=>{const{euiTheme:g}=(0,i.useEuiTheme)(),h=g.colors.backgroundBasePlain,m=n().useRef(null),b=n().useRef(null),[f,y]=(0,s.useState)([]),[v,_]=(0,s.useState)({top:0,left:0,height:0,width:0}),[x,S]=(0,s.useState)(!1),[A,w]=(0,s.useState)(-1),[I,R]=(0,s.useState)(!1),[C,j]=(0,s.useState)(""),k=(0,s.useMemo)((()=>null==f?void 0:f.map((e=>({label:e,data:{description:e},"data-test-subj":`${e}-selectableOption`})))),[f]),M=(0,s.useCallback)(((e=!1)=>{e||w(-1),S(!1),R(!1)}),[]),L=(0,s.useCallback)((t=>{if(!m.current)return;const{value:r,selectionStart:s,scrollTop:n}=m.current,i=r.slice(0,s).lastIndexOf(" "),o=r.slice(0,s).lastIndexOf("{{"),l=Math.max(i,o),u=t.find((({checked:e})=>"on"===e));if(u){const t=r.slice(0,l)+"{{"+u.label+"}}"+r.slice(s);e(c,t.trim(),a),y([]),M(),m.current.focus(),setTimeout((()=>{m.current&&(m.current.selectionStart=l+u.label.length+4,m.current.selectionEnd=m.current.selectionStart,m.current.scrollTop=n)}),0)}}),[e,a,c,M]),F=(0,s.useCallback)((()=>{var e;if(!m.current)return;const t=T()(m.current,m.current.selectionStart),a=null===(e=m.current)||void 0===e?void 0:e.getBoundingClientRect(),r=a.top-m.current.scrollTop+window.scrollY+t.top+t.height,s=a.left+window.pageXOffset,n=t.height,i=a.width;_({top:r,left:s,width:i,height:n}),S(!0)}),[]),O=(0,s.useCallback)((()=>{if(!m.current)return;const{value:t,selectionStart:r}=m.current,s=t.slice(r-2,r),n=-1!==A?t.slice(A,r):"";if("{{"===s||n.startsWith("{{")){"{{"===s&&w(r-2);const e=(({actionVariablesList:e,propertyPath:t})=>{if(!e)return[];const a=[];return e.forEach((e=>{const t=e.split(".");for(let e=0;e<t.length;e++){const r=t.slice(0,e+1).join(".");a.includes(r)||a.push(r)}})),a.sort().filter((e=>e.startsWith(t)))})({actionVariablesList:null==u?void 0:u.filter((({deprecated:e})=>!e)).map((({name:e})=>e)),propertyPath:n.slice(2)});j(n.slice(2)),y(e),setTimeout((()=>F()),0)}else"}}"===s?M():y([]);e(c,t,a)}),[A,M,e,a,u,c,F]),P=(0,s.useCallback)((e=>{if(b.current&&x)if(I||"ArrowUp"!==e.code&&"ArrowDown"!==e.code){if("ArrowUp"===e.code)e.preventDefault(),e.stopPropagation(),b.current.incrementActiveOptionIndex(-1);else if("ArrowDown"===e.code)e.preventDefault(),e.stopPropagation(),b.current.incrementActiveOptionIndex(1);else if("Escape"===e.code)e.preventDefault(),e.stopPropagation(),M();else if("Enter"===e.code||"Space"===e.code){const e=b.current.state.activeOptionIndex;L(k.map(((t,a)=>a===e?{...t,checked:"on"}:t))),M()}}else e.preventDefault(),e.stopPropagation(),b.current.onFocus(),R(!0);else R((e=>!e&&e))}),[M,x,L,k,I]),U=(0,s.useCallback)((e=>{var t;const a=(null===(t=document.querySelector(".euiSelectableMsgAutoComplete"))||void 0===t?void 0:t.getBoundingClientRect())||{left:0,right:0,top:0,bottom:0};e.clientX>a.left&&e.clientX<a.right&&e.clientY>a.top&&e.clientY<a.bottom||M()}),[M]),D=(0,s.useCallback)((t=>{if(!m.current)return;const{selectionStart:s,selectionEnd:n}=m.current,i=function(e){return e.useWithTripleBracesInTemplates?`{{{${e.name}}}}`:`{{${e.name}}}`}(t),o=(null!=r?r:"").substring(0,s)+i+(null!=r?r:"").substring(n,(null!=r?r:"").length);e(c,o,a)}),[e,a,r,c]),N=(0,s.useMemo)((()=>({position:"absolute",top:v.top,width:v.width,left:v.left,border:`${g.border.width.thin} solid ${g.border.color}`,background:h,zIndex:g.levels.flyout})),[h,g.border.color,g.border.width.thin,g.levels.flyout,v.left,v.top,v.width]),V=(0,s.useCallback)((()=>S(!0)),[]),z=(0,s.useCallback)((()=>{r||x||e(c,"",a)}),[e,a,r,x,c]),B=(0,s.useCallback)((()=>M()),[M]),W=(0,s.useCallback)((e=>{var t,a,r;(null==b||null===(t=b.current)||void 0===t?void 0:t.listId)!==(null===(a=e.target)||void 0===a||null===(r=a.firstElementChild)||void 0===r?void 0:r.id)&&M(!0)}),[M]);return(0,s.useEffect)((()=>(window.addEventListener("scroll",W,{passive:!0,capture:!0}),()=>{window.removeEventListener("scroll",W,{capture:!0})})),[W]),(0,p.jsx)(i.EuiFormRow,{error:t,fullWidth:!0,isDisabled:o,isInvalid:t&&t.length>0&&void 0!==r,label:l,labelAppend:(0,p.jsx)(d._S,{messageVariables:u,onSelectEventHandler:D,paramsProperty:c})},(0,p.jsx)(n().Fragment,null,(0,p.jsx)(i.EuiOutsideClickDetector,{onOutsideClick:U},(0,p.jsx)(i.EuiTextArea,{disabled:o,inputRef:m,fullWidth:!0,isInvalid:t&&t.length>0&&void 0!==r,name:c,value:r||"","data-test-subj":`${c}TextArea`,onChange:O,onFocus:V,onKeyDown:P,onBlur:z,onClick:B})),f.length>0&&x&&(0,p.jsx)(i.EuiPortal,null,(0,p.jsx)(i.EuiSelectable,{ref:b,style:N,height:f.length>5?176:32*f.length,options:k,onChange:L,singleSelection:!0,renderOption:e=>C?(0,p.jsx)(i.EuiHighlight,{search:C},e.label):e.label,listProps:E},(e=>e)))))})(e):(({messageVariables:e,paramsProperty:t,index:a,inputTargetValue:r,isDisabled:n=!1,editAction:o,label:l,errors:u,helpText:c,isOptionalField:d=!1})=>{const[g,b]=(0,s.useState)(null);return(0,p.jsx)(i.EuiFormRow,{fullWidth:!0,error:u,isDisabled:n,isInvalid:u&&u.length>0&&void 0!==r,label:l,labelAppend:(0,p.jsx)(h,{isOptionalField:d,messageVariables:e,onSelectEventHandler:e=>{var s,n;const i=(0,m.HR)(e),l=null!==(s=null==g?void 0:g.selectionStart)&&void 0!==s?s:0,u=null!==(n=null==g?void 0:g.selectionEnd)&&void 0!==n?n:0,c=(null!=r?r:"").substring(0,l)+i+(null!=r?r:"").substring(u,(null!=r?r:"").length);o(t,c,a)},paramsProperty:t}),helpText:c},(0,p.jsx)(i.EuiTextArea,{disabled:n,fullWidth:!0,isInvalid:u&&u.length>0&&void 0!==r,name:t,value:r||"","data-test-subj":`${t}TextArea`,onChange:e=>(e=>{o(t,e.target.value,a)})(e),onFocus:e=>{b(e.target)},onBlur:()=>{r||o(t,"",a)}}))})(e)};var I=a(5296),R=a(2602),C=a(791);const j=(0,R.getUseField)({component:I.Field}),k=(0,R.getUseField)({component:I.ComboBoxField}),{emptyField:M,urlField:L}=C.fieldValidators,F=({label:e,isRequired:t=!0,isUrlField:a=!1,defaultValue:r,type:s})=>({label:e,validations:[...t?[{validator:M(o.i18n.translate("xpack.triggersActionsUI.sections.actionConnectorForm.error.requireFieldText",{values:{label:e},defaultMessage:"{label} is required."}))}]:[],...a?[{validator:L(o.i18n.translate("xpack.triggersActionsUI.sections.actionConnectorForm.error.invalidURL",{defaultMessage:"Invalid URL"}))}]:[]],defaultValue:r,...s&&R.FIELD_TYPES[s]?{type:R.FIELD_TYPES[s],defaultValue:Array.isArray(r)?r:[]}:{}}),O=({id:e,label:t,readOnly:a,isPasswordField:r,isRequired:s=!0,isUrlField:o,helpText:l,defaultValue:u,euiFieldProps:c={},type:d})=>{const g=`${e}-input`,h=(e=>{let t=j;return e&&R.FIELD_TYPES[e]===R.FIELD_TYPES.COMBO_BOX&&(t=k),t})(d);return(0,p.jsx)(n().Fragment,null,(0,p.jsx)(i.EuiFlexGroup,null,(0,p.jsx)(i.EuiFlexItem,null,r?(0,p.jsx)(h,{path:e,config:F({label:t,type:d,isRequired:s}),helpText:l,component:I.PasswordField,componentProps:{euiFieldProps:{...c,"data-test-subj":g,readOnly:a}}}):(0,p.jsx)(h,{path:e,config:F({label:t,isUrlField:o,defaultValue:u,type:d,isRequired:s}),helpText:l,componentProps:{euiFieldProps:{...c,readOnly:a,fullWidth:!0,"data-test-subj":g}}}))))},P=({isEdit:e,readOnly:t,configFormSchema:a,secretsFormSchema:s,configFormSchemaAfterSecrets:l=[]})=>(0,p.jsx)(n().Fragment,null,a.map((({id:e,...s},o)=>(0,p.jsx)(n().Fragment,{key:`config.${e}`},(0,p.jsx)(O,(0,r.default)({id:`config.${e}`},s,{readOnly:t})),o!==a.length?(0,p.jsx)(i.EuiSpacer,{size:"m"}):null))),(0,p.jsx)(i.EuiFlexGroup,null,(0,p.jsx)(i.EuiFlexItem,null,(0,p.jsx)(i.EuiTitle,{size:"xxs"},(0,p.jsx)("h4",null,o.i18n.translate("xpack.triggersActionsUI.components.simpleConnectorForm.secrets.authenticationLabel",{defaultMessage:"Authentication"}))))),(0,p.jsx)(i.EuiSpacer,{size:"m"}),s.map((({id:e,...a},o)=>(0,p.jsx)(n().Fragment,{key:`secrets.${e}`},(0,p.jsx)(O,(0,r.default)({id:`secrets.${e}`,key:`secrets.${e}`},a,{readOnly:t})),o!==s.length?(0,p.jsx)(i.EuiSpacer,{size:"m"}):null))),l.map((({id:e,...a},s)=>(0,p.jsx)(n().Fragment,{key:`config.${e}`},(0,p.jsx)(O,(0,r.default)({id:`config.${e}`},a,{readOnly:t})),s!==l.length?(0,p.jsx)(i.EuiSpacer,{size:"m"}):null)))),U=(0,s.memo)(P),D={editor:{name:"1236snz",styles:".euiFormRow__fieldWrapper .kibanaCodeEditor{height:auto;}"}},N=({field:e,...t})=>{const{errorMessage:a}=(0,R.getFieldValidityAndErrorMessage)(e),{label:n,helpText:i,value:l,setValue:u}=e,c=(0,s.useCallback)((e=>{u(e)}),[u]);return(0,p.jsx)("span",{css:D.editor},(0,p.jsx)(v,(0,r.default)({errors:a?[a]:[],helpText:(0,p.jsx)("p",null,i),inputTargetValue:l,label:null!=n?n:o.i18n.translate("xpack.triggersActionsUI.jsonFieldWrapper.defaultLabel",{defaultMessage:"JSON Editor"}),onDocumentsChange:c},t)))},V=({field:e,euiFieldProps:t,idAria:a,...n})=>{const{isInvalid:i,errorMessage:o}=(0,R.getFieldValidityAndErrorMessage)(e),{value:l,setValue:u}=e,c=(0,s.useCallback)(((e,t)=>{u(t)}),[u]);return(0,p.jsx)(x,(0,r.default)({errors:o?[o]:[],formRowProps:{describedByIds:a?[a]:void 0,error:o,fullWidth:!0,helpText:e.helpText,isInvalid:i,label:e.label,...n},index:0,inputTargetValue:l,wrapField:!0},t,{editAction:c}))};var z=a(4620)},4620:(e,t,a)=>{"use strict";a.d(t,{i:()=>n}),a(4286);var r=a(1319),s=a(6791);const n=({children:e})=>(0,s.jsx)(r.EuiEmptyPrompt,{title:(0,s.jsx)(r.EuiLoadingSpinner,{size:"xl"}),body:(0,s.jsx)(r.EuiText,{color:"subdued"},e),"data-test-subj":"sectionLoading"})},5586:(e,t,a)=>{"use strict";a.d(t,{zt:()=>k,HX:()=>M,S9:()=>l.BASE_ACTION_API_PATH,Gl:()=>o.BASE_ALERTING_API_PATH,X_:()=>R,xG:()=>_,KY:()=>I,Jj:()=>x,ly:()=>v,F3:()=>C,db:()=>w,WR:()=>l.INTERNAL_BASE_ACTION_API_PATH,Ye:()=>o.INTERNAL_BASE_ALERTING_API_PATH,Dq:()=>T,Gt:()=>j,A:()=>E,gC:()=>A,ct:()=>S,SY:()=>u,R:()=>m,OD:()=>b,yn:()=>f,WH:()=>p,z6:()=>d,Wi:()=>c,Ou:()=>h,wK:()=>g,oi:()=>y});var r=a(5008),s=a(9397),n=a(875),i=a(2708),o=a(2109),l=a(6728);let u=function(e){return e.SECOND="s",e.MINUTE="m",e.HOUR="h",e.DAY="d",e}({});const c="/",d="/connectors",p="/connectors/:connectorId",g="/rules",h="/logs",m="/alerts",b="/alert/:alertId",f=r.i18n.translate("xpack.triggersActionsUI.sections.actionForm.RecoveredMessage",{defaultMessage:"Recovered"}),y=r.i18n.translate("xpack.triggersActionsUI.sections.actionForm.SummaryMessage",{defaultMessage:"The system has detected '{{alerts.new.count}}' new, '{{alerts.ongoing.count}}' ongoing, and '{{alerts.recovered.count}}' recovered alerts."}),v=10,_=25,x="1m",S=["execution_duration","total_search_duration","es_search_duration","schedule_delay"],A=["num_new_alerts","num_active_alerts","num_recovered_alerts"],T=["rule_name","timestamp","execution_duration","status","message","num_active_alerts","num_errored_actions"],E=[...T.slice(1)],w=["rule_name",...T.slice(1)],I="format:number:defaultPattern",R=["timestamp","status","connector_name","message"],C=[...R],j=[s.wE,n.iR,n.CJ],k=`${i.Ov.STACK_ALERTS}-generic-alerts-table`,M=`${i.Ov.STACK_ALERTS}-global-alerts-table`},8084:(e,t,a)=>{"use strict";a.d(t,{r:()=>i,v:()=>o});var r=a(4286),s=a.n(r),n=a(6791);const i=s().createContext(void 0),o=({children:e,value:t})=>(0,n.jsx)(i.Provider,{value:t},e);o.displayName="ConnectorProvider"},6254:(e,t,a)=>{"use strict";a.d(t,{N:()=>u});var r=a(5008),s=a(3530),n=a(2109),i=a(4286),o=a(2413),l=a(6406);const u=({filteredRuleTypes:e,enabled:t=!0})=>{const{http:a,notifications:{toasts:u}}=(0,l.o1)().services,{data:c,isSuccess:d,isFetching:p,isInitialLoading:g,isLoading:h,error:m}=(0,s.useQuery)({queryKey:["loadRuleTypes"],queryFn:()=>(0,o.U)({http:a}),onError:()=>{u.addDanger(r.i18n.translate("xpack.triggersActionsUI.sections.rulesList.unableToLoadRuleTypesMessage",{defaultMessage:"Unable to load rule types"}))},refetchOnWindowFocus:!1,staleTime:6e4,enabled:t}),b=(0,i.useMemo)((()=>c?((e,t)=>{const a=new Map;for(const t of e)a.set(t.id,t);let r=a;return null!=t&&t.length&&(r=new Map([...a].filter((([e,a])=>t.includes(a.id))))),r})(c,e):new Map),[c,e]),f=b.size>0,y=(0,i.useMemo)((()=>[...b.values()]),[b]),v=y.some((e=>{var t;return null===(t=e.authorizedConsumers[n.ALERTING_FEATURE_ID])||void 0===t?void 0:t.all})),_=v||y.some((e=>{var t;return null===(t=e.authorizedConsumers[n.ALERTING_FEATURE_ID])||void 0===t?void 0:t.read}));return{ruleTypesState:{initialLoad:h||g,isLoading:h||p,data:b,error:m},hasAnyAuthorizedRuleType:f,authorizedRuleTypes:y,authorizedToReadAnyRules:_,authorizedToCreateAnyRules:v,isSuccess:d}}},5660:(e,t,a)=>{"use strict";a.d(t,{w:()=>r.D});var r=a(7623)},6873:(e,t,a)=>{"use strict";a.d(t,{kE:()=>l,d:()=>u,yn:()=>d,w3:()=>r.w,BX:()=>s.H,bF:()=>g});var r=a(5660),s=a(3673),n=a(5586);const i=({actionTypeId:e,...t})=>({...t,connector_type_id:e}),o=({connector_type_id:e,is_preconfigured:t,is_deprecated:a,is_missing_secrets:r,is_system_action:s,...n})=>({...n,actionTypeId:e,isPreconfigured:t,isDeprecated:a,isMissingSecrets:r,isSystemAction:s});async function l({http:e,connector:t}){const a=await e.post(`${n.S9}/connector`,{body:JSON.stringify(i(t))});return o(a)}async function u({ids:e,http:t}){const a=[],r=[];return await Promise.all(e.map((e=>t.delete(`${n.S9}/connector/${encodeURIComponent(e)}`)))).then((function(e){a.push(...e)}),(function(e){r.push(...e)})),{successes:a,errors:r}}const c=({connector_id:e,service_message:t,...a})=>({...a,actionId:e,serviceMessage:t});async function d({id:e,params:t,http:a,signal:r}){const s=await a.post(`${n.S9}/connector/${encodeURIComponent(e)}/_execute`,{body:JSON.stringify({params:t}),signal:r});return c(s)}const p=({connector_type_id:e,is_preconfigured:t,is_deprecated:a,is_missing_secrets:r,is_system_action:s,...n})=>({...n,actionTypeId:e,isPreconfigured:t,isDeprecated:a,isMissingSecrets:r,isSystemAction:s});async function g({http:e,connector:t,id:a}){const r=await e.put(`${n.S9}/connector/${encodeURIComponent(a)}`,{body:JSON.stringify({name:t.name,config:t.config,secrets:t.secrets})});return p(r)}},3456:(e,t,a)=>{"use strict";function r(e){return e.useWithTripleBracesInTemplates?`{{{${e.name}}}}`:`{{${e.name}}}`}function s(e){return null!==e.match(/{{.*}}/)}a.d(t,{yn:()=>n.yn,VB:()=>s,DO:()=>i,HR:()=>r,bF:()=>n.bF});var n=a(6873);const i=e=>Boolean(e.isSnoozedUntil&&new Date(e.isSnoozedUntil).getTime()>Date.now()||e.muteAll)},6255:(e,t,a)=>{"use strict";a.d(t,{w:()=>o,E:()=>i});var r=a(5586);const s=({typesFilter:e,actionTypesFilter:t,ruleExecutionStatusesFilter:a,ruleStatusesFilter:r,tagsFilter:s})=>{const n=[];if(e&&e.length&&n.push(`alert.attributes.alertTypeId:(${e.join(" or ")})`),t&&t.length&&n.push(["(",t.map((e=>`alert.attributes.actions:{ actionTypeId:${e} }`)).join(" OR "),")"].join("")),a&&a.length&&n.push(`alert.attributes.executionStatus.status:(${a.join(" or ")})`),r&&r.length){const e="(alert.attributes.muteAll:true OR alert.attributes.snoozeSchedule: { duration > 0 })",t="alert.attributes.enabled: true",a="alert.attributes.enabled: false",s=[];r.includes("enabled")&&s.push(t),r.includes("disabled")&&s.push(a),r.includes("snoozed")&&s.push(`${e}`),n.push(s.join(" and "))}return s&&s.length&&n.push(`alert.attributes.tags:(${s.join(" or ")})`),n};var n=a(3920);async function i({http:e,search:t,perPage:a,page:s}){const i=await e.get(`${r.Ye}/rules/_tags`,{query:{search:t,per_page:a,page:s}});return(0,n.Y)(i)}async function o({http:e,searchText:t,actionTypesFilter:a,ruleExecutionStatusesFilter:i,ruleStatusesFilter:o,tagsFilter:l,ruleTypeIds:u,consumers:c}){const d=s({actionTypesFilter:a,ruleExecutionStatusesFilter:i,ruleStatusesFilter:o,tagsFilter:l}),p=await e.post(`${r.Ye}/rules/_aggregate`,{body:JSON.stringify({search_fields:t?JSON.stringify(["name","tags"]):void 0,search:t,filter:d.length?d.join(" and "):void 0,default_search_operator:"AND",rule_type_ids:u,consumers:c})});return(0,n.Z)(p)}},3920:(e,t,a)=>{"use strict";a.d(t,{Y:()=>s,Z:()=>r});const r=({rule_execution_status:e,rule_last_run_outcome:t,rule_enabled_status:a,rule_muted_status:r,rule_snoozed_status:s,rule_tags:n})=>({ruleExecutionStatus:e,ruleEnabledStatus:a,ruleMutedStatus:r,ruleSnoozedStatus:s,ruleLastRunOutcome:t,ruleTags:n}),s=({per_page:e,...t})=>({perPage:e,...t})},8235:(e,t,a)=>{"use strict";a.d(t,{d:()=>s});var r=a(5586);const s=async({filter:e,ids:t,http:a})=>{try{const s=JSON.stringify({...null!=t&&t.length?{ids:t}:{},...e?{filter:JSON.stringify(e)}:{}});return a.patch(`${r.Ye}/rules/_bulk_delete`,{body:s})}catch(e){throw new Error(`Unable to parse bulk delete params: ${e}`)}}},9293:(e,t,a)=>{"use strict";a.d(t,{V:()=>i});const r=({last_execution_date:e,last_duration:t,...a})=>({lastExecutionDate:e,lastDuration:t,...a}),s=({outcome_msg:e,outcome_order:t,alerts_count:a,...r})=>({outcomeMsg:e,outcomeOrder:t,alertsCount:a,...r}),n=e=>e?{lookBackWindow:e.look_back_window,statusChangeThreshold:e.status_change_threshold}:e,i=({rule_type_id:e,created_by:t,updated_by:a,created_at:i,updated_at:o,api_key_owner:l,api_key_created_by_user:u,notify_when:c,mute_all:d,muted_alert_ids:p,scheduled_task_id:g,execution_status:h,actions:m,snooze_schedule:b,is_snoozed_until:f,active_snoozes:y,last_run:v,next_run:_,alert_delay:x,flapping:S,...A})=>({ruleTypeId:e,createdBy:t,updatedBy:a,createdAt:i,updatedAt:o,apiKeyOwner:l,notifyWhen:c,muteAll:d,mutedInstanceIds:p,snoozeSchedule:b,executionStatus:h?r(h):void 0,actions:m?m.map((e=>(e=>{const{uuid:t,id:a,connector_type_id:r,params:s}=e;return{..."group"in e&&e.group?{group:e.group}:{},id:a,params:s,actionTypeId:r,..."use_alert_data_for_template"in e&&void 0!==e.use_alert_data_for_template?{useAlertDataForTemplate:e.use_alert_data_for_template}:{},..."frequency"in e&&e.frequency?{frequency:{summary:e.frequency.summary,notifyWhen:e.frequency.notify_when,throttle:e.frequency.throttle}}:{},..."alerts_filter"in e&&e.alerts_filter?{alertsFilter:e.alerts_filter}:{},...t&&{uuid:t}}})(e))):[],scheduledTaskId:g,isSnoozedUntil:f,activeSnoozes:y,...v?{lastRun:s(v)}:{},..._?{nextRun:_}:{},...void 0!==u?{apiKeyCreatedByUser:u}:{},...x?{alertDelay:x}:{},...void 0!==S?{flapping:n(S)}:{},...A})},2514:(e,t,a)=>{"use strict";a.d(t,{T:()=>n});var r=a(5586),s=a(9293);async function n({http:e,ruleId:t}){const a=await e.get(`${r.Ye}/rule/${encodeURIComponent(t)}`);return(0,s.V)(a)}},4768:(e,t,a)=>{"use strict";a.d(t,{L:()=>i});var r=a(5586);const s=({values_with_timestamp:e,...t})=>({valuesWithTimestamp:e,...t}),n=({rule_type_id:e,mute_all:t,status_start_date:a,status_end_date:r,error_messages:n,last_run:i,execution_duration:o,...l})=>({...l,ruleTypeId:e,muteAll:t,statusStartDate:a,statusEndDate:r,errorMessages:n,lastRun:i,executionDuration:o?s(o):void 0});async function i({http:e,ruleId:t,numberOfExecutions:a}){const s=await e.get(`${r.Ye}/rule/${encodeURIComponent(t)}/_alert_summary`,{query:{number_of_executions:a}});return n(s)}},2413:(e,t,a)=>{"use strict";a.d(t,{U:()=>i});var r=a(5586);const s=e=>e.map((e=>n(e))),n=({enabled_in_license:e,recovery_action_group:t,action_groups:a,default_action_group_id:r,minimum_license_required:s,action_variables:n,authorized_consumers:i,rule_task_timeout:o,does_set_recovery_context:l,default_schedule_interval:u,has_alerts_mappings:c,has_fields_for_a_a_d:d,...p})=>({enabledInLicense:e,recoveryActionGroup:t,actionGroups:a,defaultActionGroupId:r,minimumLicenseRequired:s,actionVariables:n,authorizedConsumers:i,ruleTaskTimeout:o,doesSetRecoveryContext:l,defaultScheduleInterval:u,hasAlertsMappings:c,hasFieldsForAAD:d,...p});async function i({http:e}){const t=await e.get(`${r.Gl}/rule_types`);return s(t)}},5384:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(4286),s=a(6337),n=a(6791);function i(e,t){return a=>(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)(s.K,{size:null!=t?t:"m"})},(0,n.jsx)(e,a))}},3770:(e,t,a)=>{"use strict";a.d(t,{Fo:()=>u,bN:()=>i,nL:()=>o,nM:()=>l});var r=a(5079),s=a(770);const n=a(5008).i18n.translate("xpack.triggersActionsUI.sections.actionTypeForm.error.requiredFilterQuery",{defaultMessage:"A custom query is required."}),i=e=>{if("alertsFilter"in e){var t;const a=null==e||null===(t=e.alertsFilter)||void 0===t?void 0:t.query;if(a&&!a.kql&&!a.filters.length)return n}return null};function o(e){return t=>{if(null==t)throw new Error(e);return t}}function l(e,t,a){const r="function"==typeof t?t:(0,s.constant)(t);return t=>{const s=new Set(t.map(a));for(const t of e.values())if(!s.has(t))throw new Error(r(t));return t}}function u(e,t,a,n){return Object.keys(t).forEach((a=>{t[a].length&&void 0===(0,s.get)(e.params,a)&&(0,r.set)(e.params,a,null)})),Object.keys(a).forEach((t=>{a[t].length&&void 0===(0,s.get)(e,t)&&(0,r.set)(e,t,null)})),n.forEach(((t,a)=>{const n=e.actions.length>a?e.actions[a]:null;n&&Object.keys(t).forEach((e=>{t[e].length&&void 0===(0,s.get)(n.params,e)&&(0,r.set)(n.params,e,null)}))})),e}},565:(e,t,a)=>{"use strict";a.d(t,{q:()=>r});const r=new(a(3530).QueryClient)},3142:(e,t,a)=>{"use strict";a.d(t,{AR:()=>l,VL:()=>i,dI:()=>o,t9:()=>n});var r=a(4286),s=a(5384);const n=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(8500),a.e(6767)]).then(a.bind(a,8500))))),i=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(5468),a.e(5225),a.e(9782)]).then(a.bind(a,9782))))),o=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(1179),a.e(5468),a.e(3084),a.e(2893)]).then(a.bind(a,2893))))),l=(0,s.Z)((0,r.lazy)((()=>a.e(8725).then(a.bind(a,8725)))));(0,s.Z)((0,r.lazy)((()=>a.e(5951).then(a.bind(a,5951)))))},3641:(e,t,a)=>{"use strict";a.d(t,{MJ:()=>y,Rd:()=>v,Vx:()=>S,UP:()=>A});var r=a(4286),s=a.n(r),n=a(1319),i=a(3059),o=a(5008),l=a(454),u=a(5879),c=a(6791);const d=(0,c.jsx)(u.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsSummaryWidget.title",defaultMessage:"Alert activity"}),p=(0,c.jsx)(u.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsSummaryWidget.alerts",defaultMessage:"Alerts"}),g=(0,c.jsx)(u.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsSummaryWidget.activeNow",defaultMessage:"Active now"});var h=a(6752),m=a.n(h);const b=({label:e,count:t,handleClick:a,alertType:r,color:i,showWarningIcon:o,"data-test-subj":l})=>{const u=(0,c.jsx)(s().Fragment,null,(0,c.jsx)(n.EuiTitle,{size:"s"},(0,c.jsx)(n.EuiTextColor,{"data-test-subj":l,color:i},m()(t).format("0.[00]a"),t>0&&o?(0,c.jsx)(s().Fragment,null,"",(0,c.jsx)(n.EuiIcon,{type:"warning",ascent:10})):null)),(0,c.jsx)(n.EuiText,{size:"s",color:"subdued"},e));return(0,c.jsx)(n.EuiFlexItem,{style:{minWidth:50,wordWrap:"break-word"},grow:!1},a?(0,c.jsx)(n.EuiLink,{onClick:e=>{a(e,r)}},u):u)},f=({activeAlertCount:e,recoveredAlertCount:t,handleClick:a})=>{const{euiTheme:r}=(0,n.useEuiTheme)();return(0,c.jsx)(n.EuiFlexGroup,{gutterSize:"l",responsive:!1},(0,c.jsx)(b,{label:p,count:e+t,color:r.colors.vis.euiColorVis0,"data-test-subj":"totalAlertCount",handleClick:a}),(0,c.jsx)(b,{label:g,count:e,color:e>0?r.colors.textDanger:r.colors.textSuccess,alertType:l.R5,handleClick:a,showWarningIcon:!0,"data-test-subj":"activeAlertCount"}))},y=({activeAlertCount:e,activeAlerts:t,chartProps:{themeOverrides:a}={},recoveredAlertCount:r,timeRangeTitle:s,onClick:l,dependencyProps:{baseTheme:u,sparklineTheme:p}})=>{const{euiTheme:g}=(0,n.useEuiTheme)();return(0,c.jsx)(n.EuiPanel,{element:"div","data-test-subj":"alertSummaryWidgetCompact",hasShadow:!1,hasBorder:!0},(0,c.jsx)(n.EuiFlexGroup,{direction:"column"},!!s&&(0,c.jsx)(n.EuiFlexItem,null,(0,c.jsx)(n.EuiTitle,{size:"xxs"},(0,c.jsx)("h5",null,d)),(0,c.jsx)(n.EuiSpacer,{size:"s"}),(0,c.jsx)(n.EuiText,{size:"s",color:"subdued","data-test-subj":"timeRangeTitle"},s)),(0,c.jsx)(n.EuiFlexItem,null,(0,c.jsx)(f,{activeAlertCount:e,recoveredAlertCount:r,handleClick:(e,t)=>{e.preventDefault(),e.stopPropagation(),l(t)}})),(0,c.jsx)(n.EuiFlexItem,null,(0,c.jsx)(n.EuiFlexGroup,{wrap:!0},(0,c.jsx)(n.EuiFlexItem,{style:{minWidth:"200px"}},(0,c.jsx)(i.Chart,{size:{height:50}},(0,c.jsx)(i.Tooltip,{type:i.TooltipType.None}),(0,c.jsx)(i.Settings,{theme:[...a?Array.isArray(a)?a:[a]:[],p,{chartMargins:{left:10,right:10,top:10,bottom:10}}],baseTheme:u,locale:o.i18n.getLocale()}),(0,c.jsx)(i.Axis,{hide:!0,id:"activeAlertsAxis",position:i.Position.Left,gridLine:{visible:!1}}),(0,c.jsx)(i.LineSeries,{id:"activeAlertsChart",xScaleType:i.ScaleType.Time,yScaleType:i.ScaleType.Linear,xAccessor:"key",yAccessors:["doc_count"],data:t,lineSeriesStyle:{line:{strokeWidth:2,stroke:g.colors.vis.euiColorVis0}},curve:i.CurveType.CURVE_MONOTONE_X})))))))},v=()=>(0,c.jsx)(n.EuiEmptyPrompt,{"data-test-subj":"alertSummaryWidgetError",iconType:"warning",color:"danger",title:(0,c.jsx)("h5",null,(0,c.jsx)(u.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsSummaryWidget.errorTitle",defaultMessage:"Unable to load the alerts summary"})),body:(0,c.jsx)("p",null,(0,c.jsx)(u.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsSummaryWidget.errorBody",defaultMessage:"There was an error loading the alerts summary. Contact your administrator for help."}))});var _=a(1783),x=a.n(_);const S=({activeAlertCount:e,activeAlerts:t,chartProps:{themeOverrides:a,onBrushEnd:r}={},dateFormat:s,recoveredAlertCount:l,timeZone:u,hideChart:d,hideStats:p,dependencyProps:{baseTheme:g}})=>{const{euiTheme:h}=(0,n.useEuiTheme)(),m=t.map((e=>e.doc_count)),b={max:1.1*Math.max(...m),min:.9*Math.min(...m)};return(0,c.jsx)(n.EuiPanel,{element:"div","data-test-subj":"alertSummaryWidgetFullSize",hasShadow:!1,paddingSize:"none"},!p&&(0,c.jsx)(n.EuiFlexItem,{"data-test-subj":"alertSummaryWidgetFullSizeStats"},(0,c.jsx)(f,{activeAlertCount:e,recoveredAlertCount:l})),!d&&(0,c.jsx)("div",{"data-test-subj":"alertSummaryWidgetFullSizeChartContainer"},(0,c.jsx)(n.EuiSpacer,{size:"l"}),(0,c.jsx)(i.Chart,{size:["100%",170]},(0,c.jsx)(i.Tooltip,{headerFormatter:e=>x()(e.value).format(s||"YYYY-MM-DD HH:mm")}),(0,c.jsx)(i.Settings,{legendPosition:i.Position.Right,theme:[...a?Array.isArray(a)?a:[a]:[],{chartPaddings:{top:7}}],onBrushEnd:r,locale:o.i18n.getLocale()}),(0,c.jsx)(i.Axis,{id:"bottom",position:i.Position.Bottom,timeAxisLayerCount:2,gridLine:{visible:!0},style:{tickLine:{size:0,padding:4},tickLabel:{alignment:{horizontal:i.Position.Left,vertical:i.Position.Bottom}}}}),(0,c.jsx)(i.Axis,{id:"left",position:i.Position.Left,gridLine:{visible:!0},integersOnly:!0,ticks:4,domain:b}),(0,c.jsx)(i.Axis,{id:"right",position:i.Position.Right,gridLine:{visible:!0},integersOnly:!0,ticks:4}),(0,c.jsx)(i.LineSeries,{id:"Active",xScaleType:i.ScaleType.Time,yScaleType:i.ScaleType.Linear,xAccessor:"key",yAccessors:["doc_count"],color:[h.colors.vis.euiColorVis0],data:t,lineSeriesStyle:{line:{strokeWidth:2},point:{visible:"never"}},curve:i.CurveType.CURVE_MONOTONE_X,timeZone:u}))))},A=({fullSize:e,isLoadingWithoutChart:t})=>(0,c.jsx)("div",{style:{minHeight:t?44:e?238:224,display:"flex",alignItems:"center",justifyContent:t?"flex-start":"center"}},t?(0,c.jsx)(n.EuiLoadingSpinner,{size:"m"}):(0,c.jsx)(n.EuiLoadingChart,{size:"l","data-test-subj":"alertSummaryWidgetLoading"}))},3056:(e,t,a)=>{"use strict";a.d(t,{f:()=>n});var r=a(4286),s=a(770);const n=(0,r.createContext)({mutedAlerts:{},bulkActions:[{},s.noop]})},7017:(e,t,a)=>{"use strict";a.d(t,{V:()=>l});var r=a(5008),s=a(3530),n=a(2109),i=a(6),o=a(4456);const l=()=>{const{http:e,notifications:{toasts:t}}=(0,o.useKibana)().services;return(0,s.useMutation)(["untrackAlerts"],(({indices:t,alertUuids:a})=>{try{const r=JSON.stringify({...null!=t&&t.length?{indices:t}:{},...a?{alert_uuids:a}:{}});return e.post(`${n.INTERNAL_BASE_ALERTING_API_PATH}/alerts/_bulk_untrack`,{body:r})}catch(e){throw new Error(`Unable to parse bulk untrack params: ${e}`)}}),{context:i.l,onError:(e,a)=>{t.addDanger(r.i18n.translate("xpack.triggersActionsUI.rules.deleteConfirmationModal.errorNotification.descriptionText",{defaultMessage:"Failed to untrack {uuidsCount, plural, one {alert} other {alerts}}",values:{uuidsCount:a.alertUuids.length}}))},onSuccess:(e,a)=>{t.addSuccess(r.i18n.translate("xpack.triggersActionsUI.rules.deleteConfirmationModal.successNotification.descriptionText",{defaultMessage:"Untracked {uuidsCount, plural, one {alert} other {alerts}}",values:{uuidsCount:a.alertUuids.length}}))}})}},6429:(e,t,a)=>{"use strict";a.d(t,{Gq:()=>l,KL:()=>f,P8:()=>o,SA:()=>b,XH:()=>y,dB:()=>i,fY:()=>m,if:()=>p,lh:()=>d,p7:()=>h,rP:()=>g,rW:()=>v,sf:()=>c,xf:()=>_});var r=a(9219),s=a(1060),n=a(278);const i=925,o=260,l=e=>null!=e&&null!=e.fields?Object.keys(e.fields).length:0,u=(e,t)=>{const a=[n.Gd.toLocaleLowerCase(),n.UK.toLocaleLowerCase(),"cases","maintenance windows"],s=[r.h9,r.lj],i=t.toLocaleLowerCase(),o=s.includes(e),l=a.some((e=>e.includes(i)));return o&&l};function c({browserFields:e,substring:t}){const a=t.trim();if(""===a)return e;const r={};for(const[t,s]of Object.entries(e)){if(!s.fields)continue;let n=!1;const i={};for(const[e,t]of Object.entries(s.fields)){const r=t.name;r&&null!==r&&(r.includes(a)||u(r,a))&&(n=!0,i[e]=t)}n&&(r[t]={...e[t],fields:i})}return r}const d=({browserFields:e,columnIds:t})=>{const a=new Set(t),r={};for(const[t,s]of Object.entries(e)){if(!s.fields)continue;let n=!1;const i={};for(const[e,t]of Object.entries(s.fields)){const r=t.name;r&&a.has(r)&&(n=!0,i[e]=t)}n&&(r[t]={...e[t],fields:i})}return r},p=e=>{switch(e){case"string":case"keyword":return"string";case"number":case"long":case"float":return"number";case"date":return"clock";case"ip":case"geo_point":return"globe";default:return"questionInCircle"}},g=()=>"",h=e=>{var t;const a=null==e?void 0:e.split(".");return 1===(null==a?void 0:a.length)?"base":null!==(t=null==a?void 0:a[0])&&void 0!==t?t:"(unknown)"},m=(e,t)=>{var a,r;return null!==(a=null===(r=t[e])||void 0===r?void 0:r.description)&&void 0!==a?a:""},b=e=>(0,s.isEmpty)(e)?"":`Example: ${e}`,f=e=>"Escape"===e.key,y="category-table",v="close-button",_="reset-fields"},9020:(e,t,a)=>{"use strict";a.d(t,{$I:()=>n,Bp:()=>c,KC:()=>g,MJ:()=>p,MR:()=>l,Rq:()=>d,Wc:()=>b,dI:()=>o,il:()=>m,mN:()=>h,q5:()=>i,rD:()=>f,s0:()=>y,xl:()=>u});var r=a(4286),s=a(5384);const n=(0,r.lazy)((()=>a.e(8297).then(a.bind(a,8297)))),i=(0,r.lazy)((()=>a.e(8045).then(a.bind(a,8045)))),o=((0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(1179),a.e(5468),a.e(3084),a.e(4529),a.e(1865)]).then(a.bind(a,2495))))),(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(1179),a.e(5468),a.e(3084),a.e(4529),a.e(5985)]).then(a.bind(a,8375))))),(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(8500),a.e(6767)]).then(a.bind(a,8500))))),(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(5468),a.e(5225),a.e(9782)]).then(a.bind(a,9782))))),(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(1179),a.e(5468),a.e(3084),a.e(2893)]).then(a.bind(a,2893)))))),l=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(8324),a.e(5761)]).then(a.bind(a,5761))))),u=(0,s.Z)((0,r.lazy)((()=>a.e(9651).then(a.bind(a,9651))))),c=(0,s.Z)((0,r.lazy)((()=>a.e(3996).then(a.bind(a,3996))))),d=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(1179),a.e(5468),a.e(3084),a.e(8663),a.e(4769),a.e(5946),a.e(5177),a.e(5339)]).then(a.bind(a,4942))))),p=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(1179),a.e(5468),a.e(3084),a.e(8324),a.e(8663),a.e(4769),a.e(8031),a.e(5225),a.e(5795)]).then(a.bind(a,5795))))),g=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(8324),a.e(8031),a.e(2686)]).then(a.bind(a,8031))))),h=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(8324),a.e(8031),a.e(2655)]).then(a.bind(a,2655))))),m=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(9063),a.e(5957)]).then(a.bind(a,9063))))),b=(0,s.Z)((0,r.lazy)((()=>a.e(9015).then(a.bind(a,9015))))),f=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(1179),a.e(5468),a.e(3084),a.e(8324),a.e(4769),a.e(8031),a.e(2713)]).then(a.bind(a,2713))))),y=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(1179),a.e(5468),a.e(3084),a.e(8663),a.e(4769),a.e(5946),a.e(5177),a.e(6163)]).then(a.bind(a,8370)))))},8762:(e,t,a)=>{"use strict";a.d(t,{_:()=>n,b:()=>i});var r=a(4286),s=a(5384);const n=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(1179),a.e(5468),a.e(3084),a.e(4529),a.e(1865)]).then(a.bind(a,2495))))),i=(0,s.Z)((0,r.lazy)((()=>Promise.all([a.e(1179),a.e(5468),a.e(3084),a.e(4529),a.e(5985)]).then(a.bind(a,8375)))))},278:(e,t,a)=>{"use strict";a.d(t,{CK:()=>b,Gd:()=>s,Jd:()=>i,PX:()=>E,UK:()=>n,WA:()=>d,X4:()=>u,aC:()=>l,as:()=>o,fe:()=>p,jf:()=>T,kK:()=>c,l3:()=>h,lm:()=>m,ns:()=>f,pv:()=>y,tg:()=>x,yO:()=>g});var r=a(5008);const s=r.i18n.translate("xpack.triggersActionsUI.cases.label",{defaultMessage:"Cases"}),n=r.i18n.translate("xpack.triggersActionsUI.maintenanceWindows.label",{defaultMessage:"Maintenance Windows"}),i=r.i18n.translate("xpack.triggersActionsUI.sections.alertsTable.observability",{defaultMessage:"Observability"}),o=r.i18n.translate("xpack.triggersActionsUI.sections.alertsTable.security",{defaultMessage:"Security"}),l=r.i18n.translate("xpack.triggersActionsUI.sections.alertsTable.stack",{defaultMessage:"Stack"}),u=r.i18n.translate("xpack.triggersActionsUI.sections.alertsTable.stackMonitoring",{defaultMessage:"Stack Monitoring"}),c=r.i18n.translate("xpack.triggersActionsUI.sections.alertsTable.uptime",{defaultMessage:"Uptime"}),d=r.i18n.translate("xpack.triggersActionsUI.sections.alertsTable.apm",{defaultMessage:"APM"}),p=r.i18n.translate("xpack.triggersActionsUI.sections.alertsTable.infrastructure",{defaultMessage:"Infrastructure"}),g=r.i18n.translate("xpack.triggersActionsUI.sections.alertsTable.slos",{defaultMessage:"SLOs"}),h=r.i18n.translate("xpack.triggersActionsUI.sections.alertsTable.logs",{defaultMessage:"Logs"}),m=r.i18n.translate("xpack.triggersActionsUI.sections.alertsTable.ml",{defaultMessage:"Machine Learning"}),b=r.i18n.translate("xpack.triggersActionsUI.sections.globalAlerts.quickFilters.feature",{defaultMessage:"Feature"}),f=r.i18n.translate("xpack.triggersActionsUI.technicalPreviewBadgeLabel",{defaultMessage:"Technical preview"}),y=r.i18n.translate("xpack.triggersActionsUI.technicalPreviewBadgeDescription",{defaultMessage:"This functionality is in technical preview and may be changed or removed completely in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features."}),v=r.i18n.translate("xpack.triggersActionsUI.sections.showRequestModal.subheadingTitleEdit",{defaultMessage:"edit"}),_=r.i18n.translate("xpack.triggersActionsUI.sections.showRequestModal.subheadingTitleCreate",{defaultMessage:"create"}),x=e=>r.i18n.translate("xpack.triggersActionsUI.sections.showRequestModal.subheadingTitle",{defaultMessage:"This Kibana request will {requestType} this rule.",values:{requestType:e?v:_}}),S=r.i18n.translate("xpack.triggersActionsUI.sections.showRequestModal.headerTitleEdit",{defaultMessage:"Edit"}),A=r.i18n.translate("xpack.triggersActionsUI.sections.showRequestModal.headerTitleCreate",{defaultMessage:"Create"}),T=e=>r.i18n.translate("xpack.triggersActionsUI.sections.showRequestModal.headerTitle",{defaultMessage:"{requestType} alerting rule request",values:{requestType:e?S:A}}),E=r.i18n.translate("xpack.triggersActionsUI.sections.showRequestModal.somethingWentWrongDescription",{defaultMessage:"Sorry about that, something went wrong."})},8471:(e,t,a)=>{"use strict";a.d(t,{HC:()=>s,SU:()=>n});var r=a(5008);r.i18n.translate("xpack.triggersActionsUI.sections.actionForm.preconfiguredTitleMessage",{defaultMessage:"(preconfigured)"});const s=r.i18n.translate("xpack.triggersActionsUI.sections.deprecatedTitleMessage",{defaultMessage:"(deprecated)"}),n=r.i18n.translate("xpack.triggersActionsUI.sections.isDeprecatedDescription",{defaultMessage:"This connector is deprecated. Update it, or create a new one."})},7793:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AGGREGATION_TYPES:()=>i,ALERTS_PAGE_ID:()=>h,CONNECTORS_PLUGIN_ID:()=>m,ConnectorAddModal:()=>u.AR,DEFAULT_FREQUENCY:()=>d,I18N_WEEKDAY_OPTIONS:()=>p.z,I18N_WEEKDAY_OPTIONS_DDD:()=>p.i,PLUGIN_ID:()=>g,VIEW_LICENSE_OPTIONS_LINK:()=>n.cY,builtInAggregationTypes:()=>o,builtInComparators:()=>b,builtInGroupByTypes:()=>c,loadActionTypes:()=>l.w3,loadAllActions:()=>l.BX});let r=function(e){return e.GREATER_THAN=">",e.GREATER_THAN_OR_EQUALS=">=",e.BETWEEN="between",e.LESS_THAN="<",e.LESS_THAN_OR_EQUALS="<=",e.NOT_BETWEEN="notBetween",e}({});var s=a(5008),n=a(7346);let i=function(e){return e.COUNT="count",e.AVERAGE="avg",e.SUM="sum",e.MIN="min",e.MAX="max",e}({});const o={count:{text:"count()",fieldRequired:!1,value:i.COUNT,validNormalizedTypes:[]},avg:{text:"average()",fieldRequired:!0,validNormalizedTypes:["number"],value:i.AVERAGE},sum:{text:"sum()",fieldRequired:!0,validNormalizedTypes:["number"],value:i.SUM},min:{text:"min()",fieldRequired:!0,validNormalizedTypes:["number","date"],value:i.MIN},max:{text:"max()",fieldRequired:!0,validNormalizedTypes:["number","date"],value:i.MAX}};var l=a(6873),u=a(3142);const c={all:{text:s.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.groupByTypes.allDocumentsLabel",{defaultMessage:"all documents"}),sizeRequired:!1,value:"all",validNormalizedTypes:[]},top:{text:s.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.groupByTypes.topLabel",{defaultMessage:"top"}),sizeRequired:!0,value:"top",validNormalizedTypes:["number","date","keyword"]}},d={notifyWhen:a(2109).RuleNotifyWhen.CHANGE,throttle:null,summary:!1};var p=a(7379);const g="triggersActions",h="triggersActionsAlerts",m="triggersActionsConnectors",b={[r.GREATER_THAN]:{text:s.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.isAboveLabel",{defaultMessage:"Is above"}),value:r.GREATER_THAN,requiredValues:1},[r.GREATER_THAN_OR_EQUALS]:{text:s.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.isAboveOrEqualsLabel",{defaultMessage:"Is above or equals"}),value:r.GREATER_THAN_OR_EQUALS,requiredValues:1},[r.LESS_THAN]:{text:s.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.isBelowLabel",{defaultMessage:"Is below"}),value:r.LESS_THAN,requiredValues:1},[r.LESS_THAN_OR_EQUALS]:{text:s.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.isBelowOrEqualsLabel",{defaultMessage:"Is below or equals"}),value:r.LESS_THAN_OR_EQUALS,requiredValues:1},[r.BETWEEN]:{text:s.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.isBetweenLabel",{defaultMessage:"Is between"}),value:r.BETWEEN,requiredValues:2},[r.NOT_BETWEEN]:{text:s.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.isNotBetweenLabel",{defaultMessage:"Is not between"}),value:r.NOT_BETWEEN,requiredValues:2}}},4530:(e,t,a)=>{"use strict";a.d(t,{Z:()=>ExperimentalFeaturesService});var r=a(8915);class ExperimentalFeaturesService{static init({experimentalFeatures:e}){this.experimentalFeatures=e}static get(){return this.experimentalFeatures||this.throwUninitializedError(),this.experimentalFeatures}static throwUninitializedError(){throw new Error("Experimental features services not initialized - are you trying to import this module from outside of the triggers actions UI app?")}}(0,r.default)(ExperimentalFeaturesService,"experimentalFeatures",void 0)},1174:(e,t,a)=>{"use strict";a.d(t,{Q:()=>i});var r=a(4286);const s=(0,a(5384).Z)((0,r.lazy)((()=>a.e(7139).then(a.bind(a,7139)))));var n=a(6791);const i=e=>(0,n.jsx)(s,e)},4157:(e,t,a)=>{"use strict";a.d(t,{E:()=>i});var r=a(4022),s=a(4530);const n=(0,r.hK)(),i=e=>{if(!(0,r.eI)(e))throw new Error(`Invalid enable value ${e}. Allowed values are: ${n.join(", ")}`);return s.Z.get()[e]}},4456:(e,t,a)=>{"use strict";a.r(t),a.d(t,{BUCKET_SELECTOR_FIELD:()=>_.U0,ForLastExpression:()=>i,GroupByExpression:()=>n,NORMALIZED_FIELD_TYPES:()=>_.jB,OfExpression:()=>u,ThresholdExpression:()=>c,ValueExpression:()=>o,WhenExpression:()=>l,buildAggregation:()=>_.BZ,builtInAggregationTypes:()=>d.builtInAggregationTypes,builtInComparators:()=>d.builtInComparators,builtInGroupByTypes:()=>d.builtInGroupByTypes,connectorDeprecatedMessage:()=>p.SU,deprecatedMessage:()=>p.HC,firstFieldOption:()=>y,getFields:()=>f,getIndexOptions:()=>b,getTimeFieldOptions:()=>v.ey,getTimeOptions:()=>v.Sk,isCountAggregation:()=>_.Iq,isGroupAggregation:()=>_.Sn,parseAggregationResults:()=>_.E5,useKibana:()=>v.o1});var r=a(4286),s=a(5384);const n=(0,s.Z)((0,r.lazy)((()=>a.e(9426).then(a.bind(a,9426))))),i=(0,s.Z)((0,r.lazy)((()=>a.e(7012).then(a.bind(a,7012))))),o=(0,s.Z)((0,r.lazy)((()=>a.e(4169).then(a.bind(a,4169))))),l=(0,s.Z)((0,r.lazy)((()=>a.e(816).then(a.bind(a,816))))),u=(0,s.Z)((0,r.lazy)((()=>a.e(779).then(a.bind(a,779))))),c=(0,s.Z)((0,r.lazy)((()=>a.e(4027).then(a.bind(a,4027)))));var d=a(7793),p=a(8471),g=a(770),h=a(5008),m=a(1286);const b=async(e,t)=>{const a=[];if(!t)return a;const[r,s]=await Promise.all([(0,m.f$)({pattern:t,http:e}),(0,m.KK)(t)]);if(r.length||s.length){const e=(0,g.uniq)([...r,...s]);a.push({label:h.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.indicesAndIndexPatternsLabel",{defaultMessage:"Based on your data views"}),options:e.map((e=>({label:e,value:e})))})}return a.push({label:h.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.chooseLabel",{defaultMessage:"Choose"}),options:[{value:t,label:t}]}),a},f=async(e,t)=>await(0,m.qU)({indexes:t,http:e}),y={text:h.i18n.translate("xpack.triggersActionsUI.sections.ruleAdd.indexControls.timeFieldOptionLabel",{defaultMessage:"Select a field"}),value:""};var v=a(7286),_=a(9831)},1286:(e,t,a)=>{"use strict";a.d(t,{KK:()=>u,f$:()=>n,m7:()=>l,qU:()=>i});const r="/internal/triggers_actions_ui/data",s=e=>{let t=e;return t.startsWith("*")||(t=`*${t}`),t.endsWith("*")||(t=`${t}*`),t};async function n({pattern:e,http:t}){try{const a=s(e),{indices:n}=await t.post(`${r}/_indices`,{body:JSON.stringify({pattern:a})});return n}catch(e){return[]}}async function i({indexes:e,http:t}){const{fields:a}=await t.post(`${r}/_fields`,{body:JSON.stringify({indexPatterns:e})});return a}let o;const l=e=>{o=e},u=async e=>{const t=s(e);try{return(await o.find(t,1e3)).map((e=>e.title))}catch(e){return[]}}},8937:(e,t,a)=>{"use strict";a.d(t,{S:()=>n,e:()=>i});var r=a(988),s=a(5586);const n=e=>Object.entries(s.SY).map((([t,a])=>({text:(0,r.Q)(a,e.toString()),value:a}))),i=e=>{const t=[];return e.forEach((e=>{"date"!==e.type&&"date_nanos"!==e.type||t.push({text:e.name,value:e.name})})),t}},988:(e,t,a)=>{"use strict";a.d(t,{Q:()=>n});var r=a(5008),s=a(5586);function n(e=s.SY.SECOND,t="0"){switch(e){case s.SY.SECOND:return r.i18n.translate("xpack.triggersActionsUI.timeUnits.secondLabel",{defaultMessage:"{timeValue, plural, one {second} other {seconds}}",values:{timeValue:t}});case s.SY.MINUTE:return r.i18n.translate("xpack.triggersActionsUI.timeUnits.minuteLabel",{defaultMessage:"{timeValue, plural, one {minute} other {minutes}}",values:{timeValue:t}});case s.SY.HOUR:return r.i18n.translate("xpack.triggersActionsUI.timeUnits.hourLabel",{defaultMessage:"{timeValue, plural, one {hour} other {hours}}",values:{timeValue:t}});case s.SY.DAY:return r.i18n.translate("xpack.triggersActionsUI.timeUnits.dayLabel",{defaultMessage:"{timeValue, plural, one {day} other {days}}",values:{timeValue:t}})}}},7286:(e,t,a)=>{"use strict";a.d(t,{Sk:()=>r.S,_f:()=>s._f,ep:()=>s.ep,ey:()=>r.e,o1:()=>n.o1});var r=a(8937),s=a(2993),n=a(6406)},6406:(e,t,a)=>{"use strict";a.d(t,{Xf:()=>r.KibanaContextProvider,o1:()=>s,tH:()=>i});var r=a(409);const s=()=>(0,r.useKibana)();var n=a(4286);const i=()=>{const{spaces:e}=s().services,[t,a]=(0,n.useState)(void 0),r=null==e?void 0:e.ui.useSpaces();return(0,n.useEffect)((()=>{(async()=>{const e=await(null==r?void 0:r.spacesDataPromise);a(e)})()}),[e,r,a]),t}},2993:(e,t,a)=>{"use strict";a.d(t,{Mn:()=>l,Y6:()=>o,_f:()=>n,cw:()=>u,ep:()=>i});var r=a(2109),s=a(4157);const n=(e,t)=>{switch(e){case"succeeded":return t.colors.success;case"failed":return t.colors.danger;case"warning":return t.colors.warning;default:return"subdued"}},i=(e,t)=>{switch(e){case"active":return t.colors.success;case"error":return t.colors.danger;case"ok":return t.colors.primary;case"pending":return t.colors.accent;case"warning":return t.colors.warning;default:return"subdued"}},o=(e,t)=>(0,s.E)("ruleUseExecutionStatus")?i(e.executionStatus.status,t):e.lastRun&&n(e.lastRun.outcome,t)||"subdued",l=e=>{var t,a;return(null===(t=e.lastRun)||void 0===t?void 0:t.warning)===r.RuleExecutionStatusErrorReasons.License||(null===(a=e.executionStatus.error)||void 0===a?void 0:a.reason)===r.RuleExecutionStatusErrorReasons.License},u=({rule:e,licenseErrorText:t,lastOutcomeTranslations:a,executionStatusTranslations:r})=>{const n=l(e),i=(0,s.E)("ruleUseExecutionStatus");return n?t:i?r[e.executionStatus.status]:e.lastRun&&a[e.lastRun.outcome]}},8436:(e,t,a)=>{"use strict";a.r(t),a.d(t,{ALERT_HISTORY_PREFIX:()=>N.PK,ActionConnectorMode:()=>N.FQ,ActionForm:()=>p.dI,AlertConditions:()=>S.$I,AlertConditionsGroup:()=>S.q5,AlertHistoryDefaultIndexName:()=>N.VJ,AlertHistoryDocumentTemplate:()=>N.MF,AlertHistoryEsIndexConnectorId:()=>N.Vs,AlertProvidedActionVariables:()=>$.FI,AlertsTableContext:()=>ce.f,CreateConnectorFlyout:()=>p.t9,EditConnectorFlyout:()=>p.VL,ForLastExpression:()=>q.ForLastExpression,GroupByExpression:()=>q.GroupByExpression,JsonEditorWithMessageVariables:()=>B.gk,JsonFieldWrapper:()=>B.Er,MustacheTextFieldWrapper:()=>B.HE,OfExpression:()=>q.OfExpression,Plugin:()=>Plugin,SectionLoading:()=>B.iO,SimpleConnectorForm:()=>B.mW,TIME_UNITS:()=>D.SY,TextAreaWithMessageVariables:()=>B.JR,TextFieldWithMessageVariables:()=>B.GP,ThresholdExpression:()=>q.ThresholdExpression,ValueExpression:()=>q.ValueExpression,WhenExpression:()=>q.WhenExpression,builtInAggregationTypes:()=>q.builtInAggregationTypes,builtInComparators:()=>q.builtInComparators,builtInGroupByTypes:()=>q.builtInGroupByTypes,bulkDeleteRules:()=>te.d,connectorDeprecatedMessage:()=>q.connectorDeprecatedMessage,deprecatedMessage:()=>q.deprecatedMessage,executeAction:()=>W.yn,firstFieldOption:()=>q.firstFieldOption,getCategory:()=>z.p7,getFields:()=>q.getFields,getIndexOptions:()=>q.getIndexOptions,getNotifyWhenOptions:()=>pe,getTimeFieldOptions:()=>q.getTimeFieldOptions,getTimeOptions:()=>q.getTimeOptions,getTimeUnitLabel:()=>ie.Q,hasMustacheTokens:()=>W.VB,loadActionTypes:()=>ne.w,loadRule:()=>re.T,loadRuleAggregations:()=>ae.w,loadRuleSummary:()=>ee.L,loadRuleTypes:()=>se.U,plugin:()=>de,suspendedComponentWithProps:()=>y.Z,templateActionVariable:()=>W.HR,transformRule:()=>oe.V,updateActionConnector:()=>W.bF,useBulkUntrackAlerts:()=>ue.V,useConnectorContext:()=>V,useKibana:()=>q.useKibana,useLoadRuleTypesQuery:()=>X.N,useSubAction:()=>J,validateActionFilterQuery:()=>le.bN});var r=a(8915),s=a(5008),n=a(1215),i=a(2745),o=a(2657),l=a(1174),u=a(4286),c=a(3530),d=a(8084),p=a(3142),g=a(6791);const h=new c.QueryClient,m=new c.QueryClient;var b=a(8762),f=a(565),y=a(5384);const v=(0,y.Z)((0,u.lazy)((()=>Promise.all([a.e(1179),a.e(1398),a.e(1124),a.e(1971)]).then(a.bind(a,1124)))));var _=a(1319);const x=(0,u.lazy)((()=>Promise.all([a.e(1179),a.e(1398)]).then(a.bind(a,1398))));var S=a(9020);const A=new c.QueryClient,T=new c.QueryClient,E=new c.QueryClient;var w=a(4530),I=a(4022),R=a(7793);const C=(0,u.lazy)((()=>Promise.all([a.e(1179),a.e(1398),a.e(1124),a.e(1621),a.e(1696)]).then(a.bind(a,7899)))),j=(0,u.lazy)((()=>a.e(447).then(a.bind(a,447)))),k=new c.QueryClient;var M=a(3641);const L=(0,u.lazy)((()=>a.e(2491).then(a.bind(a,4872)))),F=new c.QueryClient,O=(0,u.lazy)((()=>Promise.all([a.e(8663),a.e(1367)]).then(a.bind(a,8663)))),P=new c.QueryClient;var U=a(770),D=a(5586);class AlertTableConfigRegistry{constructor(){(0,r.default)(this,"objectTypes",new Map)}has(e){return this.objectTypes.has(e)}register(e){if(this.has(e.id))throw new Error(s.i18n.translate("xpack.triggersActionsUI.typeRegistry.register.duplicateObjectTypeErrorMessage",{defaultMessage:'Object type "{id}" is already registered.',values:{id:e.id}}));this.objectTypes.set(e.id,e)}get(e){if(!this.has(e))throw new Error(s.i18n.translate("xpack.triggersActionsUI.typeRegistry.get.missingActionTypeErrorMessage",{defaultMessage:'Object type "{id}" is not registered.',values:{id:e}}));return this.objectTypes.get(e)}getActions(e){var t,a;return null!==(t=null===(a=this.objectTypes.get(e))||void 0===a?void 0:a.actions)&&void 0!==t?t:{toggleColumn:U.noop}}list(){return Array.from(this.objectTypes).map((([e,t])=>t))}update(e,t){if(!this.has(e))throw new Error(s.i18n.translate("xpack.triggersActionsUI.typeRegistry.get.missingActionTypeErrorMessage",{defaultMessage:'Object type "{id}" is not registered.',values:{id:e}}));return this.objectTypes.set(e,t),this.objectTypes.get(e)}getAlertConfigIdPerRuleTypes(e){const t=[];return Array.from(this.objectTypes).forEach((([a,r])=>{e.every((e=>{var t;return null===(t=r.ruleTypeIds)||void 0===t?void 0:t.includes(e)}))&&t.push(a)})),1===t.length?t[0]:D.zt}}class Plugin{constructor(e){(0,r.default)(this,"actionTypeRegistry",void 0),(0,r.default)(this,"ruleTypeRegistry",void 0),(0,r.default)(this,"alertsTableConfigurationRegistry",void 0),(0,r.default)(this,"config",void 0),(0,r.default)(this,"connectorServices",void 0),(0,r.default)(this,"experimentalFeatures",void 0),this.actionTypeRegistry=new o.O,this.ruleTypeRegistry=new o.O,this.alertsTableConfigurationRegistry=new AlertTableConfigRegistry,this.config=e.config.get(),this.experimentalFeatures=(0,I.xy)(this.config.enableExperimental||[])}setup(e,t){const r=this.actionTypeRegistry,o=this.ruleTypeRegistry,l=this.alertsTableConfigurationRegistry;this.connectorServices={validateEmailAddresses:t.actions.validateEmailAddresses},w.Z.init({experimentalFeatures:this.experimentalFeatures});const u=s.i18n.translate("xpack.triggersActionsUI.managementSection.displayName",{defaultMessage:"Rules"}),c=s.i18n.translate("xpack.triggersActionsUI.managementSection.displayDescription",{defaultMessage:"Detect conditions using rules."}),d=s.i18n.translate("xpack.triggersActionsUI.managementSection.alerts.displayName",{defaultMessage:"Alerts"}),p=s.i18n.translate("xpack.triggersActionsUI.managementSection.alerts.displayDescription",{defaultMessage:"Monitor all of your alerts in one place"}),g=s.i18n.translate("xpack.triggersActionsUI.managementSection.connectors.displayName",{defaultMessage:"Connectors"}),h=s.i18n.translate("xpack.triggersActionsUI.managementSection.connectors.displayDescription",{defaultMessage:"Connect third-party software with your alerting data."});return t.home&&(t.home.featureCatalogue.register({id:R.PLUGIN_ID,title:u,description:c,icon:"watchesApp",path:i.O,showOnHomePage:!1,category:"admin"}),t.home.featureCatalogue.register({id:R.CONNECTORS_PLUGIN_ID,title:g,description:h,icon:"watchesApp",path:i.O,showOnHomePage:!1,category:"admin"})),t.management.sections.section.insightsAndAlerting.registerApp({id:R.PLUGIN_ID,title:u,order:1,async mount(s){var i;const[u,c]=await e.getStartServices(),{renderApp:d}=await a.e(1804).then(a.bind(a,1804));let p;try{p=await c.features.getFeatures()}catch(e){p=[]}return d({...u,actions:t.actions,dashboard:c.dashboard,cloud:t.cloud,data:c.data,dataViews:c.dataViews,dataViewEditor:c.dataViewEditor,charts:c.charts,alerting:c.alerting,spaces:c.spaces,unifiedSearch:c.unifiedSearch,isCloud:Boolean(null===(i=t.cloud)||void 0===i?void 0:i.isCloudEnabled),element:s.element,theme:s.theme,storage:new n.Storage(window.localStorage),setBreadcrumbs:s.setBreadcrumbs,history:s.history,actionTypeRegistry:r,ruleTypeRegistry:o,alertsTableConfigurationRegistry:l,kibanaFeatures:p,licensing:c.licensing,expressions:c.expressions,isServerless:!!c.serverless,fieldFormats:c.fieldFormats,lens:c.lens})}}),t.management.sections.section.insightsAndAlerting.registerApp({id:R.CONNECTORS_PLUGIN_ID,title:g,order:2,async mount(s){var i;const[u,c]=await e.getStartServices(),{renderApp:d}=await a.e(6801).then(a.bind(a,6801));let p;try{p=await c.features.getFeatures()}catch(e){p=[]}return d({...u,actions:t.actions,dashboard:c.dashboard,data:c.data,dataViews:c.dataViews,dataViewEditor:c.dataViewEditor,charts:c.charts,alerting:c.alerting,spaces:c.spaces,unifiedSearch:c.unifiedSearch,isCloud:Boolean(null===(i=t.cloud)||void 0===i?void 0:i.isCloudEnabled),element:s.element,theme$:s.theme$,storage:new n.Storage(window.localStorage),setBreadcrumbs:s.setBreadcrumbs,history:s.history,actionTypeRegistry:r,ruleTypeRegistry:o,alertsTableConfigurationRegistry:l,kibanaFeatures:p})}}),this.experimentalFeatures.stackAlertsPage&&(t.management.sections.section.insightsAndAlerting.registerApp({id:R.ALERTS_PAGE_ID,title:d,capabilitiesId:R.PLUGIN_ID,order:0,async mount(s){var i;const{renderApp:u}=await a.e(6160).then(a.bind(a,6160)),[c,d]=await e.getStartServices();let p;try{p=await d.features.getFeatures()}catch(e){p=[]}return u({...c,actions:t.actions,dashboard:d.dashboard,data:d.data,dataViews:d.dataViews,dataViewEditor:d.dataViewEditor,charts:d.charts,alerting:d.alerting,spaces:d.spaces,unifiedSearch:d.unifiedSearch,isCloud:Boolean(null===(i=t.cloud)||void 0===i?void 0:i.isCloudEnabled),element:s.element,theme:s.theme,storage:new n.Storage(window.localStorage),setBreadcrumbs:s.setBreadcrumbs,history:s.history,actionTypeRegistry:r,ruleTypeRegistry:o,alertsTableConfigurationRegistry:l,kibanaFeatures:p,licensing:d.licensing,expressions:d.expressions,isServerless:!!d.serverless,fieldFormats:d.fieldFormats,lens:d.lens})}}),t.home&&t.home.featureCatalogue.register({id:R.ALERTS_PAGE_ID,title:d,description:p,icon:"watchesApp",path:i.O,showOnHomePage:!1,category:"admin"})),{actionTypeRegistry:this.actionTypeRegistry,ruleTypeRegistry:this.ruleTypeRegistry,alertsTableConfigurationRegistry:this.alertsTableConfigurationRegistry}}start(e,t){return a.e(1655).then(a.bind(a,1655)).then((({createGenericAlertsTableConfigurations:e})=>{e(t.fieldFormats).forEach((e=>this.alertsTableConfigurationRegistry.register(e)))})),{actionTypeRegistry:this.actionTypeRegistry,ruleTypeRegistry:this.ruleTypeRegistry,alertsTableConfigurationRegistry:this.alertsTableConfigurationRegistry,getActionForm:e=>{const{setActions:t,...a}=e;return(e=>(0,g.jsx)(d.v,{value:{services:e.connectorServices}},(0,g.jsx)(S.dI,e)))({...a,setActions:t,actionTypeRegistry:this.actionTypeRegistry,connectorServices:this.connectorServices})},getAddConnectorFlyout:e=>(e=>(0,g.jsx)(c.QueryClientProvider,{client:h},(0,g.jsx)(d.v,{value:{services:e.connectorServices}},(0,g.jsx)(p.t9,e))))({...e,actionTypeRegistry:this.actionTypeRegistry,connectorServices:this.connectorServices}),getEditConnectorFlyout:e=>(e=>(0,g.jsx)(d.v,{value:{services:e.connectorServices}},(0,g.jsx)(c.QueryClientProvider,{client:m},(0,g.jsx)(p.VL,e))))({...e,actionTypeRegistry:this.actionTypeRegistry,connectorServices:this.connectorServices}),getAddRuleFlyout:e=>(e=>(0,g.jsx)(d.v,{value:{services:e.connectorServices}},(0,g.jsx)(c.QueryClientProvider,{client:f.q},(0,g.jsx)(b._,e))))({...e,actionTypeRegistry:this.actionTypeRegistry,ruleTypeRegistry:this.ruleTypeRegistry,connectorServices:this.connectorServices}),getEditRuleFlyout:e=>(e=>(0,g.jsx)(d.v,{value:{services:e.connectorServices}},(0,g.jsx)(c.QueryClientProvider,{client:f.q},(0,g.jsx)(b.b,e))))({...e,actionTypeRegistry:this.actionTypeRegistry,ruleTypeRegistry:this.ruleTypeRegistry,connectorServices:this.connectorServices}),getAlertsStateTable:e=>(({hideLazyLoader:e,...t})=>(0,g.jsx)(u.Suspense,{fallback:e?null:(0,g.jsx)(_.EuiLoadingSpinner,null)},(0,g.jsx)(C,t)))(e),getAlertsSearchBar:e=>(e=>(0,g.jsx)(u.Suspense,{fallback:(0,g.jsx)(_.EuiLoadingSpinner,null)},(0,g.jsx)(c.QueryClientProvider,{client:k},(0,g.jsx)(j,e))))(e),getAlertsTable:e=>(e=>(0,g.jsx)(v,e))(e),getAlertsTableDefaultAlertActions:e=>(0,l.Q)(e),getFieldBrowser:e=>(e=>(0,g.jsx)(u.Suspense,{fallback:(0,g.jsx)(_.EuiLoadingSpinner,null)},(0,g.jsx)(x,e)))(e),getRuleStatusDropdown:e=>(e=>(0,g.jsx)(S.MR,e))(e),getRuleTagFilter:e=>(e=>(0,g.jsx)(c.QueryClientProvider,{client:A},(0,g.jsx)(S.xl,e)))(e),getRuleStatusFilter:e=>(e=>(0,g.jsx)(S.Bp,e))(e),getRuleTagBadge:e=>(e=>(0,g.jsx)(S.Wc,e))(e),getRuleEventLogList:e=>(e=>(0,g.jsx)(c.QueryClientProvider,{client:T},(0,g.jsx)(S.Rq,e)))(e),getGlobalRuleEventLogList:e=>(e=>(0,g.jsx)(c.QueryClientProvider,{client:P},(0,g.jsx)(S.s0,e)))(e),getRulesListNotifyBadge:e=>(e=>(0,g.jsx)(S.KC,e))(e),getRulesList:e=>(e=>(0,g.jsx)(d.v,{value:{services:e.connectorServices}},(0,g.jsx)(c.QueryClientProvider,{client:E},(0,g.jsx)(S.MJ,e.rulesListProps))))({connectorServices:this.connectorServices,rulesListProps:e}),getRuleDefinition:e=>(e=>(0,g.jsx)(S.il,e))({...e,actionTypeRegistry:this.actionTypeRegistry,ruleTypeRegistry:this.ruleTypeRegistry}),getRuleStatusPanel:e=>(e=>(0,g.jsx)(S.rD,e))(e),getAlertSummaryWidget:a=>(e=>(0,g.jsx)(u.Suspense,{fallback:(0,g.jsx)(M.UP,{fullSize:e.fullSize,isLoadingWithoutChart:e.hideChart})},(0,g.jsx)(L,e)))({...a,dependencies:{charts:t.charts,uiSettings:e.uiSettings}}),getRuleSnoozeModal:e=>(e=>(0,g.jsx)(S.mN,e))(e),getRulesSettingsLink:()=>(0,g.jsx)(c.QueryClientProvider,{client:F},(0,g.jsx)(u.Suspense,{fallback:(0,g.jsx)(_.EuiLoadingSpinner,null)},(0,g.jsx)(O,null)))}}stop(){}}var N=a(4039);const V=()=>{const e=(0,u.useContext)(d.r);if(!e)throw new Error("useConnectorContext must be used within a ConnectorProvider and have a defined value.");return e};var z=a(6429),B=a(9132),W=a(3456),$=a(7918),q=a(4456),G=a(4513),H=a.n(G),K=a(6406),Y=a(6873),Q=function(e){return e[e.START=0]="START",e[e.STOP=1]="STOP",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR",e}(Q||{});const Z=(e,t)=>{switch(t.type){case Q.START:return{...e,isLoading:!0,error:null};case Q.STOP:return{...e,isLoading:!1,error:null};case Q.SUCCESS:return{...e,response:t.payload,isLoading:!1,error:null};case Q.ERROR:return{...e,error:t.payload,isLoading:!1};default:return e}},J=({connectorId:e,subAction:t,subActionParams:a,disabled:r=!1})=>{const{http:s}=(0,K.o1)().services,[{isLoading:n,response:i,error:o},l]=(0,u.useReducer)(Z,{isLoading:!1,response:void 0,error:null}),c=(e=>{const t=(0,u.useRef)(e);return H()(t.current,e)||(t.current=e),t.current})(a);return(0,u.useEffect)((()=>{if(r||!e||!t)return void l({type:Q.STOP});const a=new AbortController;let n=!0;return(async()=>{try{l({type:Q.START});const r=await(0,Y.yn)({id:e,params:{subAction:t,subActionParams:c},http:s,signal:a.signal});return n&&(r.status&&"ok"===r.status?l({type:Q.SUCCESS,payload:r.data}):l({type:Q.ERROR,payload:new Error(`${r.message}: ${r.serviceMessage}`)})),r.data}catch(e){n&&l({type:Q.ERROR,payload:e})}})(),()=>{n=!1,a.abort()}}),[c,r,e,t,s]),{isLoading:n,response:i,error:o}};var X=a(6254),ee=a(4768),te=a(8235),ae=a(6255),re=a(2514),se=a(2413),ne=a(5660),ie=a(988),oe=a(9293),le=a(3770),ue=a(7017),ce=a(3056);function de(e){return new Plugin(e)}const pe=async()=>{const{NOTIFY_WHEN_OPTIONS:e}=await a.e(865).then(a.bind(a,3246));return e}},4039:(e,t,a)=>{"use strict";a.d(t,{D2:()=>u,FQ:()=>s.F,IV:()=>n,MF:()=>r.AlertHistoryDocumentTemplate,PK:()=>r.ALERT_HISTORY_PREFIX,VJ:()=>r.AlertHistoryDefaultIndexName,Vs:()=>r.AlertHistoryEsIndexConnectorId,ZJ:()=>o,a4:()=>i,ci:()=>l});var r=a(6728),s=a(8190);a(3268);let n=function(e){return e[e.SAVED=0]="SAVED",e[e.CANCELED=1]="CANCELED",e}({}),i=function(e){return e.Configuration="configuration",e.Test="test",e.Rules="rules",e}({}),o=function(e){return e.P50="P50",e.P95="P95",e.P99="P99",e}({}),l=function(e){return e.add="add",e.delete="delete",e.clear="clear",e.selectCurrentPage="selectCurrentPage",e.selectAll="selectAll",e.rowCountUpdate="rowCountUpdate",e.updateRowLoadingState="updateRowLoadingState",e.updateAllLoadingState="updateAllLoadingState",e}({}),u=function(e){return e[e.YEARLY=0]="YEARLY",e[e.MONTHLY=1]="MONTHLY",e[e.WEEKLY=2]="WEEKLY",e[e.DAILY=3]="DAILY",e}({})},1216:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(8721),s=a.n(r),n=a(186),i=a.n(n)()(s());i.push([e.id,'.messageVariablesPanel{height:100%;mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);max-height:320px;max-width:320px;overflow-x:hidden;overflow-y:auto;scrollbar-color:#5a6d8c80 #0000;scrollbar-width:thin;transform:translateZ(0)}.messageVariablesPanel::-webkit-scrollbar{height:16px;width:16px}.messageVariablesPanel::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#5a6d8c80;border:6px solid #0000;border-radius:16px}.messageVariablesPanel::-webkit-scrollbar-corner,.messageVariablesPanel::-webkit-scrollbar-track{background-color:#0000}.messageVariablesPanel:focus{outline:none}.messageVariablesPanel[tabindex="0"]:focus:focus-visible{outline-style:auto}',""]);const o=i},8908:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(8721),s=a.n(r),n=a(186),i=a.n(n)()(s());i.push([e.id,".actAccordionActionForm,.actCheckActionTypeEnabled__disabledActionWarningCard{background-color:#ecf1f9}.actAccordionActionForm .euiCard{box-shadow:none}.actAccordionActionForm__button{padding:12px 12px 12px 24px}.actAccordionActionForm .euiAccordion__arrow{transform:translateX(12px) rotate(0deg)!important}.actAccordionActionForm .euiAccordion__arrow[aria-expanded=true]{transform:translateX(12px) rotate(90deg)!important}",""]);const o=i},1723:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(8721),s=a.n(r),n=a(186),i=a.n(n)()(s());i.push([e.id,'.messageVariablesPanel{height:100%;mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);max-height:320px;max-width:320px;overflow-x:hidden;overflow-y:auto;scrollbar-color:#7186a880 #0000;scrollbar-width:thin;transform:translateZ(0)}.messageVariablesPanel::-webkit-scrollbar{height:16px;width:16px}.messageVariablesPanel::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#7186a880;border:6px solid #0000;border-radius:16px}.messageVariablesPanel::-webkit-scrollbar-corner,.messageVariablesPanel::-webkit-scrollbar-track{background-color:#0000}.messageVariablesPanel:focus{outline:none}.messageVariablesPanel[tabindex="0"]:focus:focus-visible{outline-style:auto}',""]);const o=i},3663:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(8721),s=a.n(r),n=a(186),i=a.n(n)()(s());i.push([e.id,".actAccordionActionForm,.actCheckActionTypeEnabled__disabledActionWarningCard{background-color:#172336}.actAccordionActionForm .euiCard{box-shadow:none}.actAccordionActionForm__button{padding:12px 12px 12px 24px}.actAccordionActionForm .euiAccordion__arrow{transform:translateX(12px) rotate(0deg)!important}.actAccordionActionForm .euiAccordion__arrow[aria-expanded=true]{transform:translateX(12px) rotate(90deg)!important}",""]);const o=i},186:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a="",r=void 0!==t[5];return t[4]&&(a+="@supports (".concat(t[4],") {")),t[2]&&(a+="@media ".concat(t[2]," {")),r&&(a+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),a+=e(t),r&&(a+="}"),t[2]&&(a+="}"),t[4]&&(a+="}"),a})).join("")},t.i=function(e,a,r,s,n){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(i[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&i[c[0]]||(void 0!==n&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=n),a&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=a):c[2]=a),s&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=s):c[4]="".concat(s)),t.push(c))}},t}},8721:e=>{"use strict";e.exports=function(e){return e[1]}},4513:e=>{"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var r,s,n;if(Array.isArray(t)){if((r=t.length)!=a.length)return!1;for(s=r;0!=s--;)if(!e(t[s],a[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((r=(n=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(s=r;0!=s--;)if(!Object.prototype.hasOwnProperty.call(a,n[s]))return!1;for(s=r;0!=s--;){var i=n[s];if(!e(t[i],a[i]))return!1}return!0}return t!=t&&a!=a}},5873:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(7264),s=a.n(r),n=a(6449),i=a.n(n),o=a(4811),l=a.n(o),u=a(4272),c=a.n(u),d=a(8332),p=a.n(d),g=a(4745),h=a.n(g),m=a(1216),b={};b.styleTagTransform=h(),b.setAttributes=c(),b.insert=l().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=p(),s()(m.A,b);const f=m.A&&m.A.locals?m.A.locals:void 0},3101:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(7264),s=a.n(r),n=a(6449),i=a.n(n),o=a(4811),l=a.n(o),u=a(4272),c=a.n(u),d=a(8332),p=a.n(d),g=a(4745),h=a.n(g),m=a(8908),b={};b.styleTagTransform=h(),b.setAttributes=c(),b.insert=l().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=p(),s()(m.A,b);const f=m.A&&m.A.locals?m.A.locals:void 0},3003:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(7264),s=a.n(r),n=a(6449),i=a.n(n),o=a(4811),l=a.n(o),u=a(4272),c=a.n(u),d=a(8332),p=a.n(d),g=a(4745),h=a.n(g),m=a(1723),b={};b.styleTagTransform=h(),b.setAttributes=c(),b.insert=l().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=p(),s()(m.A,b);const f=m.A&&m.A.locals?m.A.locals:void 0},5116:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(7264),s=a.n(r),n=a(6449),i=a.n(n),o=a(4811),l=a.n(o),u=a(4272),c=a.n(u),d=a(8332),p=a.n(d),g=a(4745),h=a.n(g),m=a(3663),b={};b.styleTagTransform=h(),b.setAttributes=c(),b.insert=l().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=p(),s()(m.A,b);const f=m.A&&m.A.locals?m.A.locals:void 0},7264:e=>{"use strict";var t=[];function a(e){for(var a=-1,r=0;r<t.length;r++)if(t[r].identifier===e){a=r;break}return a}function r(e,r){for(var n={},i=[],o=0;o<e.length;o++){var l=e[o],u=r.base?l[0]+r.base:l[0],c=n[u]||0,d="".concat(u," ").concat(c);n[u]=c+1;var p=a(d),g={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(g);else{var h=s(g,r);r.byIndex=o,t.splice(o,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function s(e,t){var a=t.domAPI(t);return a.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;a.update(e=t)}else a.remove()}}e.exports=function(e,s){var n=r(e=e||[],s=s||{});return function(e){e=e||[];for(var i=0;i<n.length;i++){var o=a(n[i]);t[o].references--}for(var l=r(e,s),u=0;u<n.length;u++){var c=a(n[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}n=l}}},4811:e=>{"use strict";var t={};e.exports=function(e,a){var r=function(e){if(void 0===t[e]){var a=document.querySelector(e);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}t[e]=a}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(a)}},8332:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},4272:(e,t,a)=>{"use strict";e.exports=function(e){var t=a.nc;t&&e.setAttribute("nonce",t)}},6449:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(a){!function(e,t,a){var r="";a.supports&&(r+="@supports (".concat(a.supports,") {")),a.media&&(r+="@media ".concat(a.media," {"));var s=void 0!==a.layer;s&&(r+="@layer".concat(a.layer.length>0?" ".concat(a.layer):""," {")),r+=a.css,s&&(r+="}"),a.media&&(r+="}"),a.supports&&(r+="}");var n=a.sourceMap;n&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,a)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4745:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},5277:e=>{!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],a="undefined"!=typeof window,r=a&&null!=window.mozInnerScreenX;function s(e,s,n){if(!a)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var i=n&&n.debug||!1;if(i){var o=document.querySelector("#input-textarea-caret-position-mirror-div");o&&o.parentNode.removeChild(o)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var u=l.style,c=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,d="INPUT"===e.nodeName;u.whiteSpace="pre-wrap",d||(u.wordWrap="break-word"),u.position="absolute",i||(u.visibility="hidden"),t.forEach((function(e){d&&"lineHeight"===e?u.lineHeight=c.height:u[e]=c[e]})),r?e.scrollHeight>parseInt(c.height)&&(u.overflowY="scroll"):u.overflow="hidden",l.textContent=e.value.substring(0,s),d&&(l.textContent=l.textContent.replace(/\s/g,""));var p=document.createElement("span");p.textContent=e.value.substring(s)||".",l.appendChild(p);var g={top:p.offsetTop+parseInt(c.borderTopWidth),left:p.offsetLeft+parseInt(c.borderLeftWidth),height:parseInt(c.lineHeight)};return i?p.style.backgroundColor="#aaa":document.body.removeChild(l),g}void 0!==e.exports?e.exports=s:a&&(window.getCaretCoordinates=s)}()},1841:(e,t,a)=>{a.p=window.__kbnPublicPath__.triggersActionsUi},5367:(e,t,a)=>{switch(window.__kbnThemeTag__){case"borealislight":return a(5873);case"borealisdark":return a(3003)}},8315:(e,t,a)=>{switch(window.__kbnThemeTag__){case"borealislight":return a(3101);case"borealisdark":return a(5116)}},6728:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/actions/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},2109:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/alerting/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},8496:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/alerting/common/parse_duration");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},1309:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/controls/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},2677:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/controls/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},7195:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},9718:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/embeddable/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},8744:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},5296:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/components");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},791:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/helpers");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},2602:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/hook_form_lib");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},2374:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/fieldFormats/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},2137:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},409:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},1215:(e,t,a)=>{a.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},3185:(e,t,a)=>{e.exports=a(2497)(51858)},8915:(e,t,a)=>{e.exports=a(2497)(67493)},3059:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticCharts},1319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},6752:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticNumeral},6791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},3782:e=>{"use strict";e.exports=__kbnSharedDeps__.IoTs},6494:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnDatemath},5964:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnEsQuery},5008:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},5879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},482:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnReactKibanaContextRender},193:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxRouter},770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},1060:e=>{"use strict";e.exports=__kbnSharedDeps__.LodashFp},1783:e=>{"use strict";e.exports=__kbnSharedDeps__.Moment},2488:e=>{"use strict";e.exports=__kbnSharedDeps__.MomentTimezone},4286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},2874:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactDom},3530:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactQuery},1493:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouterDom},190:e=>{"use strict";e.exports=__kbnSharedDeps__.Rxjs},5079:e=>{"use strict";e.exports=__kbnSharedDeps__.SaferLodashSet},1941:e=>{"use strict";e.exports=__kbnSharedDeps__.TsLib},9472:e=>{"use strict";e.exports=__kbnSharedDeps__.Uuid},2497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},s={};function n(e){var t=s[e];if(void 0!==t)return t.exports;var a=s[e]={id:e,exports:{}};return r[e].call(a.exports,a,a.exports,n),a.exports}n.m=r,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"==typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"==typeof a.then)return a}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&a;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>a[e]));return i.default=()=>a,n.d(s,i),s},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,a)=>(n.f[a](e,t),t)),[])),n.u=e=>"triggersActionsUi.chunk."+e+".js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},n.l=(e,t,r,s)=>{if(a[e])a[e].push(t);else{var i,o;if(void 0!==r)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var c=l[u];if(c.getAttribute("src")==e){i=c;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.src=e),a[e]=[t];var d=(t,r)=>{i.onerror=i.onload=null,clearTimeout(p);var s=a[e];if(delete a[e],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((e=>e(r))),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),o&&document.head.appendChild(i)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var r=a.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=a[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={3179:0};n.f.j=(t,a)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var s=new Promise(((a,s)=>r=e[t]=[a,s]));a.push(r[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,(a=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,r[1](o)}}),"chunk-"+t,t)}};var t=(t,a)=>{var r,s,[i,o,l]=a,u=0;if(i.some((t=>0!==e[t]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);l&&l(n)}for(t&&t(a);u<i.length;u++)s=i[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},a=self.triggersActionsUi_bundle_jsonpfunction=self.triggersActionsUi_bundle_jsonpfunction||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),n.nc=void 0,n(1841),__kbnBundles__.define("plugin/triggersActionsUi/public",n,8436),__kbnBundles__.define("plugin/triggersActionsUi/public/common",n,4456),__kbnBundles__.define("plugin/triggersActionsUi/public/common/constants",n,7793)})();