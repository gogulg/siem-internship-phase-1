/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,r={875:(e,r,t)=>{"use strict";t.d(r,{iR:()=>s,oU:()=>a});const a="stackAlerts",s=".es-query"},5475:(e,r,t)=>{"use strict";t.d(r,{o:()=>a});let a=function(e){return e.GREATER_THAN=">",e.GREATER_THAN_OR_EQUALS=">=",e.BETWEEN="between",e.LESS_THAN="<",e.LESS_THAN_OR_EQUALS="<=",e.NOT_BETWEEN="notBetween",e}({})},2787:(e,r,t)=>{"use strict";t.d(r,{Sk:()=>i,Tu:()=>o,XN:()=>n,iL:()=>a,ow:()=>l,u7:()=>s});const a=4,s=5,i=100,n=["host.name","host.hostname","host.id","container.id","kubernetes.pod.uid"],o=1e4,l=100},3480:(e,r,t)=>{"use strict";t.r(r),t.d(r,{ComparatorFnNames:()=>o,ComparatorFns:()=>i,ES_QUERY_MAX_HITS_PER_EXECUTION:()=>p.Tu,ES_QUERY_MAX_HITS_PER_EXECUTION_SERVERLESS:()=>p.ow,getComparatorScript:()=>n,getHumanReadableComparator:()=>l,rowToDocument:()=>u,toEsQueryHits:()=>d,transformDatatableToEsqlTable:()=>c});let a=function(e){return e.GT=">",e.LT="<",e.GT_OR_EQ=">=",e.LT_OR_EQ="<=",e.BETWEEN="between",e.NOT_BETWEEN="notBetween",e}({});const s=new Map([[a.LT,"less than"],[a.LT_OR_EQ,"less than or equal to"],[a.GT_OR_EQ,"greater than or equal to"],[a.GT,"greater than"],[a.BETWEEN,"between"],[a.NOT_BETWEEN,"not between"]]),i=new Map([[a.LT,(e,r)=>e<r[0]],[a.LT_OR_EQ,(e,r)=>e<=r[0]],[a.GT_OR_EQ,(e,r)=>e>=r[0]],[a.GT,(e,r)=>e>r[0]],[a.BETWEEN,(e,r)=>e>=r[0]&&e<=r[1]],[a.NOT_BETWEEN,(e,r)=>e<r[0]||e>r[1]]]),n=(e,r,t)=>{if(0===r.length)throw new Error("Threshold value required");function s(e){return Number.isInteger(e)?`${e}L`:`${e}`}switch(e){case a.LT:return`${t} < ${s(r[0])}`;case a.LT_OR_EQ:return`${t} <= ${s(r[0])}`;case a.GT:return`${t} > ${s(r[0])}`;case a.GT_OR_EQ:return`${t} >= ${s(r[0])}`;case a.BETWEEN:if(r.length<2)throw new Error("Threshold values required");return`${t} >= ${s(r[0])} && ${t} <= ${s(r[1])}`;case a.NOT_BETWEEN:if(r.length<2)throw new Error("Threshold values required");return`${t} < ${s(r[0])} || ${t} > ${s(r[1])}`}},o=new Set(i.keys());function l(e){return s.has(e)?s.get(e):e}const u=(e,r)=>e.reduce(((e,t,a)=>(e[t.name]=r[a],e)),{}),d=e=>{const r=e.values.map((r=>({_id:"esql_query_document",_index:"",_source:u(e.columns,r)})));return{hits:r,total:r.length}},c=e=>({columns:e.columns.map((e=>({name:e.id,type:e.meta.type}))),values:e.rows.map((e=>Object.values(e)))});var p=t(2787)},4285:(e,r,t)=>{"use strict";t.r(r),t.d(r,{DataViewSelectPopover:()=>g.R,plugin:()=>y});var a=t(8915),s=t(4286),i=t(5008);const n=e=>{const{index:r,geoField:t,entity:a,dateField:s,boundaryType:n,boundaryIndexTitle:o,boundaryGeoField:l}=e,u={errors:{}},d={index:new Array,indexId:new Array,geoField:new Array,entity:new Array,dateField:new Array,boundaryType:new Array,boundaryIndexTitle:new Array,boundaryIndexId:new Array,boundaryGeoField:new Array};return u.errors=d,r||d.index.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredIndexTitleText",{defaultMessage:"Data view is required."})),t||d.geoField.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredGeoFieldText",{defaultMessage:"Geo field is required."})),a||d.entity.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredEntityText",{defaultMessage:"Entity is required."})),s||d.dateField.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredDateFieldText",{defaultMessage:"Date field is required."})),n||d.boundaryType.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredBoundaryTypeText",{defaultMessage:"Boundary type is required."})),o||d.boundaryIndexTitle.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredBoundaryIndexTitleText",{defaultMessage:"Boundary data view is required."})),l||d.boundaryGeoField.push(i.i18n.translate("xpack.stackAlerts.geoContainment.error.requiredBoundaryGeoFieldText",{defaultMessage:"Boundary geo field is required."})),u};var o=t(5964),l=t(3073);const u=e=>{const{index:r,timeField:t,aggType:a,aggField:s,groupBy:n,termSize:u,termField:d,threshold:c,timeWindowSize:p,thresholdComparator:h,filterKuery:g}=e,y={errors:{}},m={aggField:new Array,termSize:new Array,termField:new Array,timeWindowSize:new Array,threshold0:new Array,threshold1:new Array,index:new Array,timeField:new Array,filterKuery:new Array};if(y.errors=m,g)try{(0,o.toElasticsearchQuery)((0,o.fromKueryExpression)(g))}catch(e){m.filterKuery.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.invalidKql",{defaultMessage:"Filter query is invalid."}))}return r&&0!==r.length||m.index.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredIndexText",{defaultMessage:"Index is required."})),t||m.timeField.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredTimeFieldText",{defaultMessage:"Time field is required."})),a&&l.builtInAggregationTypes[a].fieldRequired&&!s&&m.aggField.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredAggFieldText",{defaultMessage:"Aggregation field is required."})),n&&l.builtInGroupByTypes[n]&&l.builtInGroupByTypes[n].sizeRequired&&!u&&m.termSize.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredTermSizedText",{defaultMessage:"Term size is required."})),n&&l.builtInGroupByTypes[n].validNormalizedTypes&&l.builtInGroupByTypes[n].validNormalizedTypes.length>0&&!d&&m.termField.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredTermFieldText",{defaultMessage:"Term field is required."})),p||m.timeWindowSize.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredTimeWindowSizeText",{defaultMessage:"Time window size is required."})),c&&0!==c.length&&void 0!==c[0]||m.threshold0.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredThreshold0Text",{defaultMessage:"Threshold0 is required."})),h&&l.builtInComparators[h].requiredValues>1&&(!c||void 0===c[1]||c&&c.length<l.builtInComparators[h].requiredValues)&&m.threshold1.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.requiredThreshold1Text",{defaultMessage:"Threshold1 is required."})),c&&2===c.length&&c[0]>c[1]&&m.threshold1.push(i.i18n.translate("xpack.stackAlerts.threshold.ui.validation.error.greaterThenThreshold0Text",{defaultMessage:"Threshold1 should be > Threshold0."})),y};var d=t(875),c=t(9196),p=t(6587);function h({ruleTypeRegistry:e,alerting:r},a){a||e.register({id:".geo-containment",description:i.i18n.translate("xpack.stackAlerts.geoContainment.descriptionText",{defaultMessage:"Alert when an entity is contained or no longer contained within a boundary."}),iconClass:"globe",documentationUrl:null,ruleParamsExpression:(0,s.lazy)((()=>t.e(508).then(t.bind(t,9508)))),validate:n,requiresAppContext:!1}),e.register({id:".index-threshold",description:i.i18n.translate("xpack.stackAlerts.threshold.ui.alertType.descriptionText",{defaultMessage:"Alert when an aggregated query meets the threshold."}),iconClass:"alert",documentationUrl:e=>e.links.alerting.indexThreshold,ruleParamsExpression:(0,s.lazy)((()=>t.e(204).then(t.bind(t,9204)))),validate:u,defaultActionMessage:i.i18n.translate("xpack.stackAlerts.threshold.ui.alertType.defaultActionMessage",{defaultMessage:"Rule '{{rule.name}}' is active for group '{{context.group}}':\n\n- Value: '{{context.value}}'\n- Conditions Met: '{{context.conditions}}' over '{{rule.params.timeWindowSize}}{{rule.params.timeWindowUnit}}'\n- Timestamp: '{{context.date}}'"}),requiresAppContext:!1}),e.register(function(e){return function(e){e.registerNavigation("discover",d.iR,(e=>`/app/discover#/viewAlert/${e.id}`)),e.registerNavigation(d.oU,d.iR,(e=>{if((0,p.k_)(e.params))return`/app/discover#/viewAlert/${e.id}`})),e.registerNavigation("logs",d.iR,(e=>{if((0,p.k_)(e.params))return`/app/discover#/viewAlert/${e.id}`})),e.registerNavigation("infrastructure",d.iR,(e=>{if((0,p.k_)(e.params))return`/app/discover#/viewAlert/${e.id}`})),e.registerNavigation("observability",d.iR,(e=>{if((0,p.k_)(e.params))return`/app/discover#/viewAlert/${e.id}`}))}(e),{id:d.iR,description:i.i18n.translate("xpack.stackAlerts.esQuery.ui.alertType.descriptionText",{defaultMessage:"Alert when matches are found during the latest query run."}),iconClass:"logoElastic",documentationUrl:e=>e.links.alerting.esQuery,ruleParamsExpression:(0,s.lazy)((()=>t.e(504).then(t.bind(t,9504)))),validate:c.P,defaultActionMessage:i.i18n.translate("xpack.stackAlerts.esQuery.ui.alertType.defaultActionMessage",{defaultMessage:"Elasticsearch query rule '{{rule.name}}' is active:\n\n- Value: '{{context.value}}'\n- Conditions Met: '{{context.conditions}}' over '{{rule.params.timeWindowSize}}''{{rule.params.timeWindowUnit}}'\n- Timestamp: '{{context.date}}'\n- Link: '{{context.link}}'"}),requiresAppContext:!1}}(r))}class StackAlertsPublicPlugin{constructor(e){(0,a.default)(this,"isServerless",void 0),this.isServerless="serverless"===e.env.packageInfo.buildFlavor}setup(e,{triggersActionsUi:r,alerting:t}){h({ruleTypeRegistry:r.ruleTypeRegistry,alerting:t},this.isServerless)}start(){}stop(){}}var g=t(1887);const y=e=>new StackAlertsPublicPlugin(e)},1887:(e,r,t)=>{"use strict";t.d(r,{R:()=>d});var a=t(4286),s=t(5008),i=t(5879),n=t(6791),o=t(1319),l=t(1684);const u=e=>({id:e.id,title:e.title,name:e.name,type:e.type,isAdhoc:!e.isPersisted()}),d=({dependencies:{dataViews:e,dataViewEditor:r},metadata:t={adHocDataViewList:[],isManagementPage:!0},dataView:d,onSelectDataView:c,onChangeMetaData:p})=>{var h;const[g,y]=(0,a.useState)(!1),[m,T]=(0,a.useState)([]),[_,x]=(0,a.useState)(!1),f=(0,o.useIsWithinBreakpoints)(["xs"]),v=(0,a.useRef)(),k=(0,a.useMemo)((()=>[...null!=m?m:[],...t.adHocDataViewList.map(u)]),[m,t.adHocDataViewList]),b=(0,a.useCallback)((()=>x(!1)),[]),w=(0,a.useCallback)((async r=>{const t=await e.get(r);c(t),b()}),[b,e,c]),A=(0,a.useCallback)((async()=>{y(!0);try{const r=await e.getIds(!0),t=await Promise.all(r.map((r=>e.get(r))));T(t.map(u))}catch(e){}y(!1)}),[e]),E=(0,a.useCallback)((e=>{p({...t,adHocDataViewList:[...t.adHocDataViewList,e]})}),[t,p]),q=(0,a.useMemo)((()=>r.userPermissions.editDataView()?()=>{v.current=r.openEditor({onSave:async e=>{e.id&&(e.isPersisted()||E(e),await A(),await w(e.id))},allowAdHocDataView:!0})}:void 0),[r,A,w,E]);(0,a.useEffect)((()=>()=>{v.current&&v.current()}),[]),(0,a.useEffect)((()=>{A()}),[A]);const S=(0,o.useEuiPaddingCSS)("left"),M=(0,a.useCallback)((async r=>{var t;const a=await e.create(r);"date"===(null===(t=a.fields.getByName("@timestamp"))||void 0===t?void 0:t.type)&&(a.timeFieldName="@timestamp"),E(a),w(a.id)}),[e,E,w]);return g?(0,n.jsx)(o.EuiLoadingSpinner,null):(0,n.jsx)(o.EuiPopover,{id:"dataViewPopover",button:(0,n.jsx)(o.EuiExpression,{display:"columns","data-test-subj":"selectDataViewExpression",description:s.i18n.translate("xpack.stackAlerts.components.ui.alertParams.dataViewLabel",{defaultMessage:"data view"}),value:null!==(h=null==d?void 0:d.getName())&&void 0!==h?h:s.i18n.translate("xpack.stackAlerts.components.ui.alertParams.dataViewPlaceholder",{defaultMessage:"Select a data view"}),isActive:_,onClick:()=>{x(!0)},isInvalid:!(null!=d&&d.id)}),isOpen:_,closePopover:b,ownFocus:!0,anchorPosition:"downLeft",display:"block"},(0,n.jsx)("div",{css:(0,n.css)("width:",f?"350px":"450px",";",""),"data-test-subj":"chooseDataViewPopoverContent"},(0,n.jsx)(o.EuiPopoverTitle,null,(0,n.jsx)(o.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},(0,n.jsx)(o.EuiFlexItem,null,s.i18n.translate("xpack.stackAlerts.components.ui.alertParams.dataViewPopoverTitle",{defaultMessage:"Data view"})),(0,n.jsx)(o.EuiFlexItem,{grow:!1},(0,n.jsx)(o.EuiButtonIcon,{"data-test-subj":"closeDataViewPopover",iconType:"cross",color:"danger","aria-label":s.i18n.translate("xpack.stackAlerts.components.ui.alertParams.closeDataViewPopoverLabel",{defaultMessage:"Close"}),onClick:b})))),(0,n.jsx)(l.DataViewSelector,{currentDataViewId:null==d?void 0:d.id,dataViewsList:k,setPopoverIsOpen:x,onChangeDataView:w,onCreateDefaultAdHocDataView:M}),q?(0,n.jsx)(o.EuiPopoverFooter,{paddingSize:"none"},(0,n.jsx)(o.EuiButtonEmpty,{css:S.s,iconType:"plusInCircleFilled","data-test-subj":"chooseDataViewPopover.createDataViewButton",onClick:()=>{b(),q()}},s.i18n.translate("xpack.stackAlerts.components.ui.alertParams.dataViewPopover.createDataViewButton",{defaultMessage:"Create a data view"}))):(0,n.jsx)(o.EuiPopoverFooter,null,(0,n.jsx)(o.EuiText,{color:"subdued",size:"xs"},(0,n.jsx)(i.FormattedMessage,{id:"xpack.stackAlerts.components.ui.alertParams.dataViewPopover.createDataViewButton.noPermissionDescription",defaultMessage:"You need additional privileges to create data views. Contact your administrator."})))))}},5070:(e,r,t)=>{"use strict";t.d(r,{FO:()=>n,LP:()=>a,P8:()=>d,Qz:()=>s,bN:()=>l,mK:()=>o,pj:()=>i});const a={THRESHOLD_COMPARATOR:t(5475).o.GREATER_THAN,QUERY:'{\n    "query":{\n      "match_all" : {}\n    }\n  }',SIZE:100,TIME_WINDOW_SIZE:5,TIME_WINDOW_UNIT:"m",THRESHOLD:[1e3],AGGREGATION_TYPE:"count",TERM_SIZE:5,GROUP_BY:"all",EXCLUDE_PREVIOUS_HITS:!1,CAN_SELECT_MULTI_TERMS:!0},s={SIZE:10},i={searchType:new Array,threshold0:new Array,threshold1:new Array,timeWindowSize:new Array,size:new Array,aggField:new Array,aggType:new Array,groupBy:new Array,termSize:new Array,termField:new Array,sourceFields:new Array},n={searchConfiguration:new Array,timeField:new Array},o={index:new Array,esQuery:new Array,timeField:new Array},l={esqlQuery:new Array,timeField:new Array,thresholdComparator:new Array,threshold0:new Array},u={...i,...n,...o},d=Object.keys(u)},6587:(e,r,t)=>{"use strict";t.d(r,{Af:()=>l,U3:()=>u,gQ:()=>n,k_:()=>i,rG:()=>o});var a=t(3073),s=t(9399);const i=e=>"searchSource"===e.searchType,n=e=>"esqlQuery"===e.searchType,o=e=>(null!=e?e:[]).filter((e=>e.isMapped||e.runtimeField)).map((e=>{const r={name:e.name,searchable:e.searchable,aggregatable:e.aggregatable,type:e.type,normalizedType:e.type};if("string"===e.type){const t=e.esTypes&&e.esTypes.length>0?e.esTypes[0]:e.type;r.type=t,r.normalizedType=t}else if("number"===e.type){const t=e.esTypes&&e.esTypes.length>0?e.esTypes[0]:e.type;r.type=t}return r})),l=e=>{const r=[];let t;try{t=Object.keys(e)}catch(e){return r}for(const a of t){const t=e[a].type,i=s.NORMALIZED_FIELD_TYPES[t]||t,n="lookup"!==t,o=n,l=n;t&&r.push({name:a,type:t,normalizedType:i,aggregatable:o,searchable:l})}return r},u=()=>(0,a.useKibana)().services},9196:(e,r,t)=>{"use strict";t.d(r,{F:()=>h,P:()=>p});var a=t(770),s=t(5008),i=t(3073),n=t(5475),o=t(2787),l=t(6587),u=t(5070);const d=e=>{const r=(0,a.defaultsDeep)({},u.FO);return e.searchConfiguration?e.searchConfiguration.index?(e.timeField||r.timeField.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredDataViewTimeFieldText",{defaultMessage:"Data view should have a time field."})),r):(r.searchConfiguration.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredDataViewText",{defaultMessage:"Data view is required."})),r):(r.searchConfiguration.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredSearchConfiguration",{defaultMessage:"Search source configuration is required."})),r)},c=e=>{const r=(0,a.defaultsDeep)({},u.bN);return e.esqlQuery||r.esqlQuery.push(s.i18n.translate("xpack.stackAlerts.esqlQuery.ui.validation.error.requiredQueryText",{defaultMessage:"ES|QL query is required."})),e.timeField||r.timeField.push(s.i18n.translate("xpack.stackAlerts.esqlQuery.ui.validation.error.requiredTimeFieldText",{defaultMessage:"Time field is required."})),e.thresholdComparator!==n.o.GREATER_THAN&&r.thresholdComparator.push(s.i18n.translate("xpack.stackAlerts.esqlQuery.ui.validation.error.requiredThresholdComparatorText",{defaultMessage:"Threshold comparator is required to be greater than."})),e.threshold&&0!==e.threshold[0]&&r.threshold0.push(s.i18n.translate("xpack.stackAlerts.esqlQuery.ui.validation.error.requiredThreshold0Text",{defaultMessage:"Threshold is required to be 0."})),r},p=(e,r)=>{const t={errors:{}},n=((e,r)=>{const{size:t,threshold:n,timeWindowSize:l,thresholdComparator:d,aggType:c,aggField:p,groupBy:h,termSize:g,termField:y,sourceFields:m}=e,T=(0,a.defaultsDeep)({},u.pj);if(!("index"in e)&&!e.searchType)return T.searchType.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredSearchType",{defaultMessage:"Query type is required."})),T;c&&i.builtInAggregationTypes[c].fieldRequired&&!p&&T.aggField.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredAggFieldText",{defaultMessage:"Aggregation field is required."})),h&&i.builtInGroupByTypes[h]&&i.builtInGroupByTypes[h].sizeRequired&&!g&&T.termSize.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredTermSizedText",{defaultMessage:"Term size is required."})),h&&i.builtInGroupByTypes[h]&&i.builtInGroupByTypes[h].sizeRequired&&t&&t>o.Sk&&T.size.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.sizeTooLargeForGroupByText",{defaultMessage:"Size cannot exceed {max} when using a group by field.",values:{max:o.Sk}})),h&&i.builtInGroupByTypes[h].validNormalizedTypes&&i.builtInGroupByTypes[h].validNormalizedTypes.length>0&&(!y||y.length<=0)&&T.termField.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredTermFieldText",{defaultMessage:"Term field is required."})),h&&i.builtInGroupByTypes[h].validNormalizedTypes&&i.builtInGroupByTypes[h].validNormalizedTypes.length>0&&y&&Array.isArray(y)&&y.length>o.iL&&T.termField.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.overNumberedTermFieldText",{defaultMessage:"Cannot select more than {max} terms",values:{max:o.iL}})),n&&0!==n.length&&void 0!==n[0]||T.threshold0.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredThreshold0Text",{defaultMessage:"Threshold 0 is required."})),d&&i.builtInComparators[d].requiredValues>1&&(!n||void 0===n[1]||n&&n.length<i.builtInComparators[d].requiredValues)&&T.threshold1.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredThreshold1Text",{defaultMessage:"Threshold 1 is required."})),n&&2===n.length&&n[0]>n[1]&&T.threshold1.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.greaterThenThreshold0Text",{defaultMessage:"Threshold 1 must be > Threshold 0."})),l||T.timeWindowSize.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredTimeWindowSizeText",{defaultMessage:"Time window size is required."})),(0,a.isNil)(t)&&T.size.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredSizeText",{defaultMessage:"Size is required."}));const _=r?o.ow:o.Tu;return(t&&t<0||t>_)&&T.size.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.invalidSizeRangeText",{defaultMessage:"Size must be between 0 and {max, number}.",values:{max:_}})),m&&Array.isArray(m)&&m.length>o.u7&&T.sourceFields.push(s.i18n.translate("xpack.stackAlerts.esqlQuery.ui.validation.error.sourceFields",{defaultMessage:"Cannot select more than {max} fields",values:{max:o.u7}})),T})(e,r);if(t.errors=n,(0,l.k_)(e))return t.errors={...t.errors,...d(e)},t;if((0,l.gQ)(e))return t.errors={...t.errors,...c(e)},t;const p=(e=>{const r=(0,a.defaultsDeep)({},u.mK);if(e.index&&0!==e.index.length||r.index.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredIndexText",{defaultMessage:"Index is required."})),e.timeField||r.timeField.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredTimeFieldText",{defaultMessage:"Time field is required."})),e.esQuery)try{JSON.parse(e.esQuery).query||r.esQuery.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredEsQueryText",{defaultMessage:"Query field is required."}))}catch(e){r.esQuery.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.jsonQueryText",{defaultMessage:"Query must be valid JSON."}))}else r.esQuery.push(s.i18n.translate("xpack.stackAlerts.esQuery.ui.validation.error.requiredQueryText",{defaultMessage:"Elasticsearch query is required."}));return r})(e);return t.errors={...t.errors,...p},t},h=(e,r)=>{const{errors:t}=p(e,r);return Object.keys(t).some((e=>t[e]&&t[e].length))}},5072:(e,r,t)=>{t.p=window.__kbnPublicPath__.stackAlerts},2109:(e,r,t)=>{t.r(r);var a=__kbnBundles__.get("plugin/alerting/common");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},8496:(e,r,t)=>{t.r(r);var a=__kbnBundles__.get("plugin/alerting/common/parse_duration");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},7195:(e,r,t)=>{t.r(r);var a=__kbnBundles__.get("plugin/data/common");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},4627:(e,r,t)=>{t.r(r);var a=__kbnBundles__.get("plugin/data/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},8744:(e,r,t)=>{t.r(r);var a=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},104:(e,r,t)=>{t.r(r);var a=__kbnBundles__.get("plugin/esql/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},409:(e,r,t)=>{t.r(r);var a=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},3073:(e,r,t)=>{t.r(r);var a=__kbnBundles__.get("plugin/triggersActionsUi/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},9399:(e,r,t)=>{t.r(r);var a=__kbnBundles__.get("plugin/triggersActionsUi/public/common");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},1684:(e,r,t)=>{t.r(r);var a=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(r,Object.getOwnPropertyDescriptors(a))},8915:(e,r,t)=>{e.exports=t(2497)(67493)},5927:e=>{"use strict";e.exports=__kbnSharedDeps__.Classnames},3059:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticCharts},1319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},6791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},9424:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnCodeEditor},9551:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnCryptoBrowser},5964:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnEsQuery},1991:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnEsqlAst},5008:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},5879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},2488:e=>{"use strict";e.exports=__kbnSharedDeps__.MomentTimezone},4286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},190:e=>{"use strict";e.exports=__kbnSharedDeps__.Rxjs},2497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},t={};function a(e){var s=t[e];if(void 0!==s)return s.exports;var i=t[e]={id:e,exports:{}};return r[e](i,i.exports,a),i.exports}a.m=r,a.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return a.d(r,{a:r}),r},a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((r,t)=>(a.f[t](e,r),r)),[])),a.u=e=>"stackAlerts.chunk."+e+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),e={},a.l=(r,t,s,i)=>{if(e[r])e[r].push(t);else{var n,o;if(void 0!==s)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r){n=d;break}}n||(o=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.src=r),e[r]=[t];var c=(t,a)=>{n.onerror=n.onload=null,clearTimeout(p);var s=e[r];if(delete e[r],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach((e=>e(a))),t)return t(a)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=c.bind(null,n.onerror),n.onload=c.bind(null,n.onload),o&&document.head.appendChild(n)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var r=a.g.document;if(!e&&r&&(r.currentScript&&"SCRIPT"===r.currentScript.tagName.toUpperCase()&&(e=r.currentScript.src),!e)){var t=r.getElementsByTagName("script");if(t.length)for(var s=t.length-1;s>-1&&(!e||!/^http(s?):/.test(e));)e=t[s--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={56:0};a.f.j=(r,t)=>{var s=a.o(e,r)?e[r]:void 0;if(0!==s)if(s)t.push(s[2]);else{var i=new Promise(((t,a)=>s=e[r]=[t,a]));t.push(s[2]=i);var n=a.p+a.u(r),o=new Error;a.l(n,(t=>{if(a.o(e,r)&&(0!==(s=e[r])&&(e[r]=void 0),s)){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;o.message="Loading chunk "+r+" failed.\n("+i+": "+n+")",o.name="ChunkLoadError",o.type=i,o.request=n,s[1](o)}}),"chunk-"+r,r)}};var r=(r,t)=>{var s,i,[n,o,l]=t,u=0;if(n.some((r=>0!==e[r]))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);l&&l(a)}for(r&&r(t);u<n.length;u++)i=n[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},t=self.stackAlerts_bundle_jsonpfunction=self.stackAlerts_bundle_jsonpfunction||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})(),a.nc=void 0,a(5072),__kbnBundles__.define("plugin/stackAlerts/public",a,4285),__kbnBundles__.define("plugin/stackAlerts/common",a,3480)})();