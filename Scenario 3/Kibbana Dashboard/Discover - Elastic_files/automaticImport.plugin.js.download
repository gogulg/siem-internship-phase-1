/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,t,r={5549:(e,t,r)=>{"use strict";r.r(t),r.d(t,{plugin:()=>y});var o=r(8915);const i=__kbnSharedDeps__.Rxjs;var n=r(1319),s=r(4286),a=r.n(s),p=r(6791);const l=a().lazy((()=>r.e(516).then(r.bind(r,641)).then((e=>({default:e.CreateIntegration}))))),c=e=>a().memo((function(){return(0,p.jsx)(s.Suspense,{fallback:(0,p.jsx)(n.EuiLoadingSpinner,{size:"l"})},(0,p.jsx)(l,{services:e}))})),d=a().lazy((()=>r.e(180).then(r.bind(r,6180)).then((e=>({default:e.CreateIntegrationCardButton})))));var u=r(746);const m={[u.S.UploadIntegrationZipComplete]:{integrationName:{type:"keyword",_meta:{description:"The name of the integration in the zip file that was uploaded",optional:!0}},errorMessage:{type:"text",_meta:{description:"The error message if the upload failed",optional:!0}}},[u.S.AutomaticImportOpen]:{sessionId:{type:"keyword",_meta:{description:"The ID to identify all the events the same session",optional:!1}}},[u.S.AutomaticImportStepComplete]:{sessionId:{type:"keyword",_meta:{description:"The ID to identify all the events the same session",optional:!1}},step:{type:"long",_meta:{description:"The step number",optional:!1}},stepName:{type:"keyword",_meta:{description:"The name of the step",optional:!1}},durationMs:{type:"long",_meta:{description:"Time spent in the current step",optional:!1}},sessionElapsedTime:{type:"long",_meta:{description:"Total time spent in the current generation session",optional:!1}}},[u.S.AutomaticImportGenerationComplete]:{sessionId:{type:"keyword",_meta:{description:"The ID to identify all the events the same session",optional:!1}},sampleRows:{type:"long",_meta:{description:"The number of log rows provided as sample data",optional:!1}},durationMs:{type:"long",_meta:{description:"Time spent in the generation process",optional:!1}},actionTypeId:{type:"keyword",_meta:{description:"The connector action type ID",optional:!1}},model:{type:"keyword",_meta:{description:"The model used to generate the integration",optional:!1}},provider:{type:"keyword",_meta:{description:"The provider of the LLM",optional:!1}},errorMessage:{type:"text",_meta:{description:"The error message if the generation failed",optional:!0}}},[u.S.AutomaticImportCelGenerationComplete]:{sessionId:{type:"keyword",_meta:{description:"The ID to identify all the events the same session",optional:!1}},durationMs:{type:"long",_meta:{description:"Time spent in the generation process",optional:!1}},actionTypeId:{type:"keyword",_meta:{description:"The connector action type ID",optional:!1}},model:{type:"keyword",_meta:{description:"The model used to generate the integration",optional:!1}},provider:{type:"keyword",_meta:{description:"The provider of the LLM",optional:!1}},errorMessage:{type:"text",_meta:{description:"The error message if the generation failed",optional:!0}}},[u.S.AutomaticImportComplete]:{sessionId:{type:"keyword",_meta:{description:"The ID to identify all the events the same session",optional:!1}},durationMs:{type:"long",_meta:{description:"Total time spent in the workflow",optional:!1}},integrationName:{type:"keyword",_meta:{description:"The name of the integration",optional:!1}},integrationDescription:{type:"keyword",_meta:{description:"The description of the integration",optional:!1}},dataStreamName:{type:"keyword",_meta:{description:"The name of the data stream used for the integration",optional:!1}},inputTypes:{type:"array",items:{type:"keyword",_meta:{description:"The input type used for the integration",optional:!1}}},actionTypeId:{type:"keyword",_meta:{description:"The connector action type ID",optional:!1}},model:{type:"keyword",_meta:{description:"The model used to generate the integration",optional:!1}},provider:{type:"keyword",_meta:{description:"The provider of the LLM",optional:!1}},errorMessage:{type:"text",_meta:{description:"The error message if the workflow failed",optional:!0}}}};class Telemetry{constructor(){(0,o.default)(this,"analytics",void 0)}setup(e){this.analytics=e,Object.entries(m).forEach((([t,r])=>{const o={eventType:t,schema:r};e.registerEventType(o)}))}start(){var e;const t=null===(e=this.analytics)||void 0===e?void 0:e.reportEvent.bind(this.analytics);if(!t)throw new Error("The Telemetry.setup() method has not been invoked, be sure to call it during the plugin setup.");return{reportEvent:t}}}class ExperimentalFeaturesService{static init(e){this.experimentalFeatures=e}static get(){return this.experimentalFeatures||this.throwUninitializedError(),this.experimentalFeatures}static throwUninitializedError(){throw new Error("Experimental features service not initialized")}}(0,o.default)(ExperimentalFeaturesService,"experimentalFeatures",void 0);const _=Object.freeze({generateCel:!1}),h=Object.keys(_),g=e=>h.includes(e);class AutomaticImportPlugin{constructor(e){(0,o.default)(this,"telemetry",new Telemetry),(0,o.default)(this,"renderUpselling$",new i.BehaviorSubject(void 0)),(0,o.default)(this,"config",void 0),(0,o.default)(this,"experimentalFeatures",void 0),this.initializerContext=e,this.config=this.initializerContext.config.get(),this.experimentalFeatures=(e=>{const t={..._};for(const r of e)g(r)&&(t[r]=!0);return{..._,...t}})(this.config.enableExperimental||[]),ExperimentalFeaturesService.init(this.experimentalFeatures)}setup(e){return this.telemetry.setup(e.analytics),this.config=this.config,{}}start(e,t){const r={...e,...t,telemetry:this.telemetry.start(),renderUpselling$:this.renderUpselling$.asObservable()};return{components:{CreateIntegration:c(r),CreateIntegrationCardButton:a().memo((function(e){return(0,p.jsx)(s.Suspense,{fallback:(0,p.jsx)(n.EuiLoadingSpinner,{size:"l"})},(0,p.jsx)(d,e))}))},renderUpselling:e=>{this.renderUpselling$.next(e)}}}stop(){}}function y(e){return new AutomaticImportPlugin(e)}},746:(e,t,r)=>{"use strict";r.d(t,{S:()=>o});let o=function(e){return e.UploadIntegrationZipComplete="upload_integration_zip_complete",e.AutomaticImportOpen="automatic_import_open",e.AutomaticImportStepComplete="automatic_import_step_complete",e.AutomaticImportGenerationComplete="automatic_import_generation_complete",e.AutomaticImportCelGenerationComplete="automatic_import_cel_generation_complete",e.AutomaticImportComplete="automatic_import_complete",e}({})},185:(e,t,r)=>{r.p=window.__kbnPublicPath__.automaticImport},6728:(e,t,r)=>{r.r(t);var o=__kbnBundles__.get("plugin/actions/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},5296:(e,t,r)=>{r.r(t);var o=__kbnBundles__.get("plugin/esUiShared/static/forms/components");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},791:(e,t,r)=>{r.r(t);var o=__kbnBundles__.get("plugin/esUiShared/static/forms/helpers");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},2602:(e,t,r)=>{r.r(t);var o=__kbnBundles__.get("plugin/esUiShared/static/forms/hook_form_lib");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},409:(e,t,r)=>{r.r(t);var o=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},1215:(e,t,r)=>{r.r(t);var o=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},2218:(e,t,r)=>{r.r(t);var o=__kbnBundles__.get("plugin/stackConnectors/public/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},1701:(e,t,r)=>{r.r(t);var o=__kbnBundles__.get("plugin/triggersActionsUi/public/common/constants");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},8915:(e,t,r)=>{e.exports=r(2497)(67493)},5927:e=>{"use strict";e.exports=__kbnSharedDeps__.Classnames},1319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},6791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},9424:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnCodeEditor},5008:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},5879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},911:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnMonaco},193:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxRouter},1060:e=>{"use strict";e.exports=__kbnSharedDeps__.LodashFp},4286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},3530:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactQuery},1493:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouterDom},1941:e=>{"use strict";e.exports=__kbnSharedDeps__.TsLib},9472:e=>{"use strict";e.exports=__kbnSharedDeps__.Uuid},2497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=r,i.amdD=function(){throw new Error("define cannot be used indirect")},i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>"automaticImport.chunk."+e+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@kbn/automatic-import-plugin:",i.l=(r,o,n,s)=>{if(e[r])e[r].push(o);else{var a,p;if(void 0!==n)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+n){a=d;break}}a||(p=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+n),a.src=r),e[r]=[o];var u=(t,o)=>{a.onerror=a.onload=null,clearTimeout(m);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(o))),t)return t(o)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=u.bind(null,a.onerror),a.onload=u.bind(null,a.onload),p&&document.head.appendChild(a)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={603:0};i.f.j=(t,r)=>{var o=i.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var n=new Promise(((r,i)=>o=e[t]=[r,i]));r.push(o[2]=n);var s=i.p+i.u(t),a=new Error;i.l(s,(r=>{if(i.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var n=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",a.name="ChunkLoadError",a.type=n,a.request=s,o[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,n,[s,a,p]=r,l=0;if(s.some((t=>0!==e[t]))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);p&&p(i)}for(t&&t(r);l<s.length;l++)n=s[l],i.o(e,n)&&e[n]&&e[n][0](),e[n]=0},r=self.automaticImport_bundle_jsonpfunction=self.automaticImport_bundle_jsonpfunction||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),i(185),__kbnBundles__.define("plugin/automaticImport/public",i,5549)})();