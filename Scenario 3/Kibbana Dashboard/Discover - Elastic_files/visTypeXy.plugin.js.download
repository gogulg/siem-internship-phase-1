(()=>{var e,t,i,a={435:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ChartType:()=>a});let a=function(e){return e.Line="line",e.Area="area",e.Histogram="histogram",e}({})},330:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n}),i(286);var a=i(8),s=i(319),r=i(791);function n({disabled:e,value:t=null,setValue:i}){return(0,r.jsx)(s.EuiFormRow,{label:a.i18n.translate("visTypeXy.controls.truncateLabel",{defaultMessage:"Truncate"}),fullWidth:!0,display:"rowCompressed"},(0,r.jsx)(s.EuiFieldNumber,{"data-test-subj":"xyLabelTruncateInput",disabled:e,value:null===t?"":t,onChange:e=>i("truncate",""===e.target.value?null:parseFloat(e.target.value)),fullWidth:!0,compressed:!0}))}},229:(e,t,i)=>{"use strict";i.d(t,{T:()=>n});var a=i(185),s=i(286),r=i(791);function n({component:e,...t}){const[i,n]=(0,s.useState)({}),o=Object.values(i).every((e=>e.isValid)),{setValidity:l}=t,d=(0,s.useCallback)(((e,t)=>{n((i=>({...i,[e]:{isValid:t}})))}),[]);return(0,s.useEffect)((()=>{l(o)}),[o,l]),(0,r.jsx)(e,(0,a.default)({},t,{setMultipleValidity:d}))}},9:(e,t,i)=>{"use strict";i.d(t,{D:()=>r});var a=i(8),s=i(59);const r=()=>[{text:a.i18n.translate("visTypeXy.legendPositions.topText",{defaultMessage:"Top"}),value:s.Position.Top},{text:a.i18n.translate("visTypeXy.legendPositions.leftText",{defaultMessage:"Left"}),value:s.Position.Left},{text:a.i18n.translate("visTypeXy.legendPositions.rightText",{defaultMessage:"Right"}),value:s.Position.Right},{text:a.i18n.translate("visTypeXy.legendPositions.bottomText",{defaultMessage:"Bottom"}),value:s.Position.Bottom}]},301:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var a=i(8),s=i(369);const r=()=>[{text:a.i18n.translate("visTypeXy.scaleTypes.linearText",{defaultMessage:"Linear"}),value:s.bF.Linear},{text:a.i18n.translate("visTypeXy.scaleTypes.logText",{defaultMessage:"Log"}),value:s.bF.Log},{text:a.i18n.translate("visTypeXy.scaleTypes.squareRootText",{defaultMessage:"Square root"}),value:s.bF.SquareRoot}]},353:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AxisType:()=>p.Gw,ScaleType:()=>p.bF,TruncateLabelsOption:()=>j.Z,getPositions:()=>z.D,getScaleTypes:()=>I.a,plugin:()=>U});var a=i(915),s=i(107),r=i(8),n=i(319),o=i(59),l=i(627),d=i(500),u=i(240),p=i(369);const c=__kbnSharedDeps__.Moment;var g=i.n(c),m=i(904),f=i(435),y=i(322);const v=e=>{const t=String(e);return t.includes("[")||t.includes(".")?t.substring(0,-1!==t.indexOf("[")?t.indexOf("["):t.indexOf(".")):t};var h=i(556);const b=(e,t)=>{const i=(0,m.buildExpressionFunction)("legendConfig",{isVisible:e.addLegend,maxLines:e.maxLegendLines,position:e.legendPosition,shouldTruncate:e.truncateLegend,showSingleSeries:!0,legendSize:t,legendStats:e.labels.show?[o.LegendValue.CurrentAndLastValue]:void 0});return(0,m.buildExpression)([i])},_=(e,t)=>"number"==typeof e.accessor?`col-${e.accessor}-${t}`:e.accessor,x=e=>{const t=(0,m.buildExpressionFunction)("custom"===e.name?"palette":"system_palette","custom"===e.name?{...e.params}:{name:e.name});return(0,m.buildExpression)([t])},T=(e,t)=>{var i;return{truncate:e.labels.truncate,labelsOrientation:-(null!==(i=e.labels.rotate)&&void 0!==i?i:t?0:90),showOverlappingLabels:!1===e.labels.filter,showDuplicates:!1===e.labels.filter,labelColor:e.labels.color,showLabels:e.labels.show}},w=(e,t)=>{const i=(0,m.buildExpressionFunction)("axisExtentConfig",{mode:(0,h.getMode)(e,t),lowerBound:(null==t?void 0:t.min)||e.min,upperBound:(null==t?void 0:t.max)||e.max,enforce:!0});return(0,m.buildExpression)([i])};function L(e,t,i=!1,a=!1){if(i)return o.ScaleType.Time;if(a)return o.ScaleType.Linear;if(!t)return o.ScaleType.Ordinal;const s=null==e?void 0:e.type;return s===p.bF.SquareRoot?o.ScaleType.Sqrt:s}const A=(e,t,i,a)=>{const s=(0,m.buildExpressionFunction)("xAxisConfig",{hide:!e.show,position:(r=e.position,r===o.Position.Left?o.Position.Bottom:r===o.Position.Right?o.Position.Top:r),title:e.title.text,extent:w(e.scale,i),showGridLines:t,...T(e,a)});var r;return(0,m.buildExpression)([s])},P=(e,t)=>{const i=(0,m.buildExpressionFunction)("referenceLine",{value:e.value,color:e.color,lineWidth:e.width,lineStyle:(0,h.getLineStyle)(e.style),axisId:t});return(0,m.buildExpression)([i])},S=e=>{const t=(0,m.buildExpressionFunction)("visdimension",{accessor:e.accessor});return e.format&&(t.addArgument("format",e.format.id),t.addArgument("formatParams",JSON.stringify(e.format.params))),(0,m.buildExpression)([t])},E=e=>e.date,C=async(e,t)=>{var i,a,s,n,u,c,C,B,M,O,k,R,F,V,N,G,X,D;const j=(0,d.getVisSchemas)(e,t),z={x:j.segment?j.segment[0]:null,y:j.metric,z:j.radius,width:j.width,series:j.group,splitRow:j.split_row,splitColumn:j.split_column},I=null!==(i=null===(a=e.data.aggs)||void 0===a?void 0:a.getResponseAggs().filter((({enabled:e})=>e)))&&void 0!==i?i:[],U=null===(s=e.type.schemas)||void 0===s?void 0:s.metrics[0].name,H=e.params.valueAxes[0].id,q=(0,y.s)(e.data.aggs,e.params.seriesParams,U,H),Y=null!=q?q:e.params.seriesParams;let W=!1;if(z.x){const i=I[z.x.accessor];if(i.type.name===l.BUCKET_TYPES.DATE_HISTOGRAM){W=!0,z.x.params.date=!0;const{esUnit:e,esValue:t}=i.buckets.getInterval();z.x.params.intervalESUnit=e,z.x.params.intervalESValue=t,z.x.params.interval=g().duration(t,e).asMilliseconds(),z.x.params.format=i.buckets.getScaledDateFormat();const a=i.buckets.getBounds();a&&null!=a&&a.min&&null!=a&&a.max&&(z.x.params.bounds={min:a.min.valueOf(),max:a.max.valueOf()})}else if(i.type.name===l.BUCKET_TYPES.HISTOGRAM){W=!0;const a=i.type.paramByName("interval"),s={params:{}};await a.modifyAggConfigOnSearchRequestStart(i,e.data.searchSource,{abortSignal:t.abortSignal}),a.write(i,s),z.x.params.interval=s.params.interval}}(z.y||[]).forEach((t=>{const i=I[t.accessor],a=v(i.id),s=(e.params.seriesParams||[]).find((e=>e.data.id===a));if(s){const i=(e.params.valueAxes||[]).find((e=>e.id===s.valueAxis));"percentage"===(null==i?void 0:i.scale.mode)&&(t.format={id:"percent"})}}));let K=e.params.legendSize;e.params.legendPosition!==o.Position.Top&&e.params.legendPosition!==o.Position.Bottom||(K=d.LegendSize.AUTO);const $=(z.y||[]).reduce(((e,t)=>{const i=I[t.accessor],a=v(i.id),s={...t,accessor:_(t,i.id)};return e[a]?e[a].push(s):e[a]=[s],e}),{}),J=e.params.categoryAxes[0].scale;let Z;z.x||(Z=(0,m.buildExpressionFunction)("mapColumn",{id:"all",expression:"_all",name:r.i18n.translate("visTypeXy.allDocsTitle",{defaultMessage:"All docs"})}));const Q=Y.filter((e=>e.show&&$[e.data.id])),ee=(0,m.buildExpressionFunction)("layeredXyVis",{layers:[...Q.map((t=>((e,t,i,a,s,r,n,d,u)=>{var c,g,y,v,b,T;const w=i.some((t=>e.valueAxis===t.id&&t.position!==o.Position.Left&&t.position!==o.Position.Right)),A=e.type===f.ChartType.Histogram,P=(0,m.buildExpressionFunction)("extendedDataLayer",{seriesType:A?"bar":e.type,isHistogram:t,isHorizontal:w,isStacked:e.mode===p.Ev.Stacked,lineWidth:A?void 0:e.lineWidth,showPoints:A?void 0:e.showCircles,pointsRadius:A?void 0:null!==(c=e.circlesRadius)&&void 0!==c?c:3,showLines:A?void 0:e.drawLinesBetweenPoints,curveType:(0,h.getCurveType)(e.interpolate),decorations:a.map((t=>((e,t,i)=>{const a=(0,m.buildExpressionFunction)("dataDecorationConfig",{forAccessor:_(t,i),axisId:e});return(0,m.buildExpression)([a])})(e.valueAxis,t,e.data.id))),accessors:a.map((e=>S(e))),xAccessor:s?S(s):"all",xScaleType:L(u,"number"===(null==s||null===(g=s.format)||void 0===g?void 0:g.id)||"number"===(null==s||null===(y=s.format)||void 0===y||null===(v=y.params)||void 0===v?void 0:v.id)&&(null==s||null===(b=s.format)||void 0===b?void 0:b.id)!==l.BUCKET_TYPES.RANGE&&(null==s||null===(T=s.format)||void 0===T?void 0:T.id)!==l.BUCKET_TYPES.TERMS,"date"in((null==s?void 0:s.params)||{}),"interval"in((null==s?void 0:s.params)||{})),splitAccessors:r?r.map(S):void 0,markSizeAccessor:n&&!A?S(n):void 0,palette:d?x(d):void 0,columnToLabel:JSON.stringify([...a,s,...null!=r?r:[]].reduce(((t,i)=>(i&&(t[_(i,e.data.id)]=i.label),t)),{}))});return(0,m.buildExpression)([P])})(t,W,e.params.valueAxes,$[t.data.id],z.x,z.series,z.z?z.z[0]:void 0,e.params.palette,J))),...e.params.thresholdLine.show?[P(e.params.thresholdLine,e.params.valueAxes[0].id)]:[]],addTimeMarker:e.params.addTimeMarker&&(null===(n=z.x)||void 0===n||null===(u=n.params)||void 0===u?void 0:u.date),orderBucketsBySum:e.params.orderBucketsBySum,fittingFunction:e.params.fittingFunction?e.params.fittingFunction.charAt(0).toUpperCase()+e.params.fittingFunction.slice(1):void 0,detailedTooltip:e.params.detailedTooltip,fillOpacity:e.params.fillOpacity,showTooltip:e.params.addTooltip,markSizeRatio:z.z&&Q.some((e=>e.type===f.ChartType.Area||e.type===f.ChartType.Line))?.6*e.params.radiusRatio:void 0,legend:b(e.params,K),xAxisConfig:A(e.params.categoryAxes[0],e.params.grid.categoryLines,null!==(c=z.x)&&void 0!==c&&c.params&&E(null===(C=z.x)||void 0===C?void 0:C.params)?null===(B=z.x)||void 0===B?void 0:B.params.bounds:void 0,null!==(M=z.x)&&void 0!==M&&M.params&&E(null===(O=z.x)||void 0===O?void 0:O.params)?null===(k=z.x)||void 0===k?void 0:k.params.date:void 0),yAxisConfigs:e.params.valueAxes.filter((e=>Q.some((t=>t.valueAxis===e.id)))).map((t=>((e,t)=>{const i=(0,m.buildExpressionFunction)("yAxisConfig",{id:e.id,hide:!e.show,position:(0,h.getYAxisPosition)(e.position),title:e.title.text,extent:w(e.scale),boundsMargin:e.scale.boundsMargin,scaleType:L(e.scale,!0),mode:e.scale.mode,showGridLines:t,...T(e)});return(0,m.buildExpression)([i])})(t,e.params.grid.valueAxis===t.id))),minTimeBarInterval:null!==(R=z.x)&&void 0!==R&&R.params&&E(null===(F=z.x)||void 0===F?void 0:F.params)&&null!==(V=z.x)&&void 0!==V&&V.params.date&&Q.some((e=>e.type===f.ChartType.Histogram))?(null===(N=z.x)||void 0===N?void 0:N.params.intervalESValue)+(null===(G=z.x)||void 0===G?void 0:G.params.intervalESUnit):void 0,splitColumnAccessor:null===(X=z.splitColumn)||void 0===X?void 0:X.map(S),splitRowAccessor:null===(D=z.splitRow)||void 0===D?void 0:D.map(S),valueLabels:e.params.labels.show?"show":"hide",singleTable:!0});return(0,m.buildExpression)(Z?[Z,ee]:[ee]).toAst()};var B=i(185),M=i(286),O=i(791);const k=(0,M.lazy)((()=>i.e(905).then(i.bind(i,905)))),R=(0,M.lazy)((()=>i.e(99).then(i.bind(i,99)))),F=e=>(0,O.jsx)(k,e),V=e=>(0,O.jsx)(R,e);var N=i(229);const G=[{name:"advanced",title:r.i18n.translate("visTypeXy.area.tabs.metricsAxesTitle",{defaultMessage:"Metrics & axes"}),editor:e=>(0,O.jsx)(N.T,(0,B.default)({},e,{component:V}))},{name:"options",title:r.i18n.translate("visTypeXy.area.tabs.panelSettingsTitle",{defaultMessage:"Panel settings"}),editor:e=>(0,O.jsx)(N.T,(0,B.default)({},e,{component:F}))}],X=e=>{var t,i,a,s;let r=null==e||null===(t=e.seriesParams)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.type;return"histogram"===r&&["left","right"].includes(null==e||null===(a=e.categoryAxes)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.position)&&(r="horizontal_bar"),r},D=[{name:"area",title:r.i18n.translate("visTypeXy.area.areaTitle",{defaultMessage:"Area"}),icon:"visArea",description:r.i18n.translate("visTypeXy.area.areaDescription",{defaultMessage:"Emphasize the data between an axis and a line."}),fetchDatatable:!0,toExpressionAst:C,getSupportedTriggers:()=>[d.VIS_EVENT_TO_TRIGGER.filter,d.VIS_EVENT_TO_TRIGGER.brush],updateVisTypeOnParamsChange:X,visConfig:{defaults:{type:f.ChartType.Area,grid:{categoryLines:!1},categoryAxes:[{id:"CategoryAxis-1",type:p.Gw.Category,position:o.Position.Bottom,show:!0,scale:{type:p.bF.Linear},labels:{show:!0,filter:!0,truncate:100},title:{},style:{}}],valueAxes:[{id:"ValueAxis-1",name:"LeftAxis-1",type:p.Gw.Value,position:o.Position.Left,show:!0,scale:{type:p.bF.Linear,mode:p.pb.Normal},labels:{show:!0,rotate:u.LabelRotation.Horizontal,filter:!0,truncate:100},title:{text:""},style:{}}],seriesParams:[{show:!0,type:f.ChartType.Area,mode:p.Ev.Stacked,data:{label:u.defaultCountLabel,id:"1"},drawLinesBetweenPoints:!0,lineWidth:2,showCircles:!0,circlesRadius:1,interpolate:p.uN.Linear,valueAxis:"ValueAxis-1"}],addTooltip:!0,detailedTooltip:!0,palette:{type:"palette",name:"default"},addLegend:!0,legendPosition:o.Position.Right,fittingFunction:o.Fit.Linear,times:[],addTimeMarker:!1,truncateLegend:!0,maxLegendLines:1,radiusRatio:9,thresholdLine:{show:!1,value:10,width:1,style:p.rM.Full,color:(0,n.euiPaletteColorBlind)()[9]},labels:{}}},editorConfig:{enableDataViewChange:!0,optionTabs:G,schemas:[{group:l.AggGroupNames.Metrics,name:"metric",title:r.i18n.translate("visTypeXy.area.metricsTitle",{defaultMessage:"Y-axis"}),aggFilter:["!geo_centroid","!geo_bounds","!filtered_metric","!single_percentile","!single_percentile_rank"],min:1,defaults:[{schema:"metric",type:"count"}]},{group:l.AggGroupNames.Metrics,name:"radius",title:r.i18n.translate("visTypeXy.area.radiusTitle",{defaultMessage:"Dot size"}),min:0,max:1,aggFilter:["count","avg","sum","min","max","cardinality"]},{group:l.AggGroupNames.Buckets,name:"segment",title:r.i18n.translate("visTypeXy.area.segmentTitle",{defaultMessage:"X-axis"}),min:0,max:1,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]},{group:l.AggGroupNames.Buckets,name:"group",title:r.i18n.translate("visTypeXy.area.groupTitle",{defaultMessage:"Split series"}),min:0,max:3,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]},{group:l.AggGroupNames.Buckets,name:"split",title:r.i18n.translate("visTypeXy.area.splitTitle",{defaultMessage:"Split chart"}),min:0,max:1,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]}]},requiresSearch:!0},{name:"line",title:r.i18n.translate("visTypeXy.line.lineTitle",{defaultMessage:"Line"}),icon:"visLine",description:r.i18n.translate("visTypeXy.line.lineDescription",{defaultMessage:"Display data as a series of points."}),fetchDatatable:!0,toExpressionAst:C,getSupportedTriggers:()=>[d.VIS_EVENT_TO_TRIGGER.filter,d.VIS_EVENT_TO_TRIGGER.brush],updateVisTypeOnParamsChange:X,visConfig:{defaults:{type:f.ChartType.Line,grid:{categoryLines:!1},categoryAxes:[{id:"CategoryAxis-1",type:p.Gw.Category,position:o.Position.Bottom,show:!0,scale:{type:p.bF.Linear},labels:{show:!0,filter:!0,truncate:100},title:{},style:{}}],valueAxes:[{id:"ValueAxis-1",name:"LeftAxis-1",type:p.Gw.Value,position:o.Position.Left,show:!0,scale:{type:p.bF.Linear,mode:p.pb.Normal},labels:{show:!0,rotate:u.LabelRotation.Horizontal,filter:!0,truncate:100},title:{text:""},style:{}}],seriesParams:[{show:!0,type:f.ChartType.Line,mode:p.Ev.Normal,data:{label:u.defaultCountLabel,id:"1"},valueAxis:"ValueAxis-1",drawLinesBetweenPoints:!0,lineWidth:2,interpolate:p.uN.Linear,showCircles:!0,circlesRadius:1}],addTooltip:!0,detailedTooltip:!0,palette:{type:"palette",name:"default"},addLegend:!0,legendPosition:o.Position.Right,fittingFunction:o.Fit.Linear,times:[],addTimeMarker:!1,truncateLegend:!0,maxLegendLines:1,labels:{},radiusRatio:9,thresholdLine:{show:!1,value:10,width:1,style:p.rM.Full,color:(0,n.euiPaletteColorBlind)()[9]}}},editorConfig:{enableDataViewChange:!0,optionTabs:G,schemas:[{group:l.AggGroupNames.Metrics,name:"metric",title:r.i18n.translate("visTypeXy.line.metricTitle",{defaultMessage:"Y-axis"}),min:1,aggFilter:["!geo_centroid","!geo_bounds","!filtered_metric","!single_percentile","!single_percentile_rank"],defaults:[{schema:"metric",type:"count"}]},{group:l.AggGroupNames.Metrics,name:"radius",title:r.i18n.translate("visTypeXy.line.radiusTitle",{defaultMessage:"Dot size"}),min:0,max:1,aggFilter:["count","avg","sum","min","max","cardinality","top_hits"]},{group:l.AggGroupNames.Buckets,name:"segment",title:r.i18n.translate("visTypeXy.line.segmentTitle",{defaultMessage:"X-axis"}),min:0,max:1,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]},{group:l.AggGroupNames.Buckets,name:"group",title:r.i18n.translate("visTypeXy.line.groupTitle",{defaultMessage:"Split series"}),min:0,max:3,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]},{group:l.AggGroupNames.Buckets,name:"split",title:r.i18n.translate("visTypeXy.line.splitTitle",{defaultMessage:"Split chart"}),min:0,max:1,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]}]},requiresSearch:!0},{name:"histogram",title:r.i18n.translate("visTypeXy.histogram.histogramTitle",{defaultMessage:"Vertical bar"}),icon:"visBarVertical",description:r.i18n.translate("visTypeXy.histogram.histogramDescription",{defaultMessage:"Present data in vertical bars on an axis."}),fetchDatatable:!0,toExpressionAst:C,getSupportedTriggers:()=>[d.VIS_EVENT_TO_TRIGGER.filter,d.VIS_EVENT_TO_TRIGGER.brush],updateVisTypeOnParamsChange:X,visConfig:{defaults:{type:f.ChartType.Histogram,grid:{categoryLines:!1},categoryAxes:[{id:"CategoryAxis-1",type:p.Gw.Category,position:o.Position.Bottom,show:!0,scale:{type:p.bF.Linear},labels:{show:!0,filter:!0,truncate:100},title:{},style:{}}],valueAxes:[{id:"ValueAxis-1",name:"LeftAxis-1",type:p.Gw.Value,position:o.Position.Left,show:!0,scale:{type:p.bF.Linear,mode:p.pb.Normal},labels:{show:!0,rotate:u.LabelRotation.Horizontal,filter:!0,truncate:100},title:{text:""},style:{}}],seriesParams:[{show:!0,type:f.ChartType.Histogram,mode:p.Ev.Stacked,data:{label:u.defaultCountLabel,id:"1"},interpolate:p.uN.Linear,valueAxis:"ValueAxis-1",drawLinesBetweenPoints:!0,lineWidth:2,showCircles:!0,circlesRadius:1}],radiusRatio:0,addTooltip:!0,detailedTooltip:!0,palette:{type:"palette",name:"default"},addLegend:!0,legendPosition:o.Position.Right,times:[],addTimeMarker:!1,truncateLegend:!0,maxLegendLines:1,labels:{show:!1},thresholdLine:{show:!1,value:10,width:1,style:p.rM.Full,color:(0,n.euiPaletteColorBlind)()[9]}}},editorConfig:{enableDataViewChange:!0,optionTabs:G,schemas:[{group:l.AggGroupNames.Metrics,name:"metric",title:r.i18n.translate("visTypeXy.histogram.metricTitle",{defaultMessage:"Y-axis"}),min:1,aggFilter:["!geo_centroid","!geo_bounds","!filtered_metric","!single_percentile","!single_percentile_rank"],defaults:[{schema:"metric",type:"count"}]},{group:l.AggGroupNames.Metrics,name:"radius",title:r.i18n.translate("visTypeXy.histogram.radiusTitle",{defaultMessage:"Dot size"}),min:0,max:1,aggFilter:["count","avg","sum","min","max","cardinality"]},{group:l.AggGroupNames.Buckets,name:"segment",title:r.i18n.translate("visTypeXy.histogram.segmentTitle",{defaultMessage:"X-axis"}),min:0,max:1,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]},{group:l.AggGroupNames.Buckets,name:"group",title:r.i18n.translate("visTypeXy.histogram.groupTitle",{defaultMessage:"Split series"}),min:0,max:3,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]},{group:l.AggGroupNames.Buckets,name:"split",title:r.i18n.translate("visTypeXy.histogram.splitTitle",{defaultMessage:"Split chart"}),min:0,max:1,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]}]},requiresSearch:!0},{name:"horizontal_bar",title:r.i18n.translate("visTypeXy.horizontalBar.horizontalBarTitle",{defaultMessage:"Horizontal bar"}),icon:"visBarHorizontal",description:r.i18n.translate("visTypeXy.horizontalBar.horizontalBarDescription",{defaultMessage:"Present data in horizontal bars on an axis."}),fetchDatatable:!0,toExpressionAst:C,getSupportedTriggers:()=>[d.VIS_EVENT_TO_TRIGGER.filter,d.VIS_EVENT_TO_TRIGGER.brush],updateVisTypeOnParamsChange:X,visConfig:{defaults:{type:f.ChartType.Histogram,grid:{categoryLines:!1},categoryAxes:[{id:"CategoryAxis-1",type:p.Gw.Category,position:o.Position.Left,show:!0,scale:{type:p.bF.Linear},labels:{show:!0,rotate:u.LabelRotation.Horizontal,filter:!0,truncate:200},title:{},style:{}}],valueAxes:[{id:"ValueAxis-1",name:"LeftAxis-1",type:p.Gw.Value,position:o.Position.Bottom,show:!0,scale:{type:p.bF.Linear,mode:p.pb.Normal},labels:{show:!0,rotate:u.LabelRotation.Angled,filter:!0,truncate:100},title:{text:""},style:{}}],seriesParams:[{show:!0,type:f.ChartType.Histogram,mode:p.Ev.Normal,data:{label:u.defaultCountLabel,id:"1"},interpolate:p.uN.Linear,valueAxis:"ValueAxis-1",drawLinesBetweenPoints:!0,lineWidth:2,showCircles:!0,circlesRadius:1}],addTooltip:!0,detailedTooltip:!0,palette:{type:"palette",name:"default"},addLegend:!0,legendPosition:o.Position.Right,times:[],addTimeMarker:!1,truncateLegend:!0,maxLegendLines:1,labels:{},radiusRatio:0,thresholdLine:{show:!1,value:10,width:1,style:p.rM.Full,color:(0,n.euiPaletteColorBlind)()[9]}}},editorConfig:{enableDataViewChange:!0,optionTabs:G,schemas:[{group:l.AggGroupNames.Metrics,name:"metric",title:r.i18n.translate("visTypeXy.horizontalBar.metricTitle",{defaultMessage:"Y-axis"}),min:1,aggFilter:["!geo_centroid","!geo_bounds","!filtered_metric","!single_percentile","!single_percentile_rank"],defaults:[{schema:"metric",type:"count"}]},{group:l.AggGroupNames.Metrics,name:"radius",title:r.i18n.translate("visTypeXy.horizontalBar.radiusTitle",{defaultMessage:"Dot size"}),min:0,max:1,aggFilter:["count","avg","sum","min","max","cardinality"]},{group:l.AggGroupNames.Buckets,name:"segment",title:r.i18n.translate("visTypeXy.horizontalBar.segmentTitle",{defaultMessage:"X-axis"}),min:0,max:1,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]},{group:l.AggGroupNames.Buckets,name:"group",title:r.i18n.translate("visTypeXy.horizontalBar.groupTitle",{defaultMessage:"Split series"}),min:0,max:3,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]},{group:l.AggGroupNames.Buckets,name:"split",title:r.i18n.translate("visTypeXy.horizontalBar.splitTitle",{defaultMessage:"Split chart"}),min:0,max:1,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]}]},requiresSearch:!0}].map((e=>({...e,navigateToLens:async(e,t)=>{const{convertToLens:a}=await i.e(529).then(i.bind(i,529));return e?a(e,t):null},getExpressionVariables:async(e,t)=>{const{convertToLens:a}=await i.e(529).then(i.bind(i,529));return{canNavigateToLens:Boolean(null!=e&&e.params?await a(e,t):null)}}})));class VisTypeXyPlugin{constructor(e){(0,a.default)(this,"initializerContext",void 0),this.initializerContext=e}setup(e,{visualizations:t,charts:i}){(0,s.Ur)(e.uiSettings),(0,s.UA)(i.palettes);const{readOnly:a}=this.initializerContext.config.get();return D.forEach((e=>t.createBaseVisualization({...e,disableCreate:Boolean(a),disableEdit:Boolean(a)}))),{}}start(e,{dataViews:t}){return(0,s.LB)(t),{}}}var j=i(330),z=i(9),I=i(301);function U(e){return new VisTypeXyPlugin(e)}},107:(e,t,i)=>{"use strict";i.d(t,{E4:()=>n,LB:()=>d,UA:()=>o,Ur:()=>r,qG:()=>s,xE:()=>l});var a=i(215);const[s,r]=(0,a.createGetterSetter)("xy core.uiSettings"),[n,o]=(0,a.createGetterSetter)("xy charts.palette"),[l,d]=(0,a.createGetterSetter)("dataViews")},369:(e,t,i)=>{"use strict";i.d(t,{pb:()=>o,Gw:()=>r,Ev:()=>a,uN:()=>s,bF:()=>n,rM:()=>l});let a=function(e){return e.Normal="normal",e.Stacked="stacked",e}({}),s=function(e){return e.Linear="linear",e.Cardinal="cardinal",e.StepAfter="step-after",e}({}),r=function(e){return e.Category="category",e.Value="value",e}({}),n=function(e){return e.Linear="linear",e.Log="log",e.SquareRoot="square root",e}({}),o=function(e){return e.Normal="normal",e.Percentage="percentage",e.Wiggle="wiggle",e.Silhouette="silhouette",e}({}),l=function(e){return e.Full="full",e.Dashed="dashed",e.DotDashed="dot-dashed",e}({})},556:(e,t,i)=>{"use strict";i.r(t),i.d(t,{getCurveType:()=>s,getLineStyle:()=>o,getMode:()=>r,getYAxisPosition:()=>n});var a=i(59);const s=e=>{switch(e){case"cardinal":return"CURVE_MONOTONE_X";case"step-after":return"CURVE_STEP_AFTER";default:return"LINEAR"}},r=(e,t)=>e.defaultYExtents?"dataBounds":e.setYExtents||t?"custom":"full",n=e=>e===a.Position.Top?a.Position.Right:e===a.Position.Bottom?a.Position.Left:e,o=e=>{switch(e){case"full":return"solid";case"dashed":case"dot-dashed":return e}}},322:(e,t,i)=>{"use strict";i.d(t,{s:()=>r});var a=i(369),s=i(435);const r=(e,t,i,r)=>{const n=null==e?void 0:e.bySchemaName(i);return null==n?void 0:n.map((e=>{const i=t.find((t=>t.data.id===e.id)),n=e.makeLabel();if(i)return{...i,data:{...i.data,label:n}};{const i=((e,t,i,r)=>{const n={id:e,label:t};return{show:!0,mode:a.Ev.Normal,type:s.ChartType.Line,drawLinesBetweenPoints:!0,showCircles:!0,circlesRadius:1,interpolate:a.uN.Linear,lineWidth:2,valueAxis:i,...r,data:n}})(e.id,n,r,t[t.length-1]);return i}}))}},710:(e,t,i)=>{i.p=window.__kbnPublicPath__.visTypeXy},212:(e,t,i)=>{i.r(t);var a=__kbnBundles__.get("plugin/charts/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},240:(e,t,i)=>{i.r(t);var a=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},627:(e,t,i)=>{i.r(t);var a=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},904:(e,t,i)=>{i.r(t);var a=__kbnBundles__.get("plugin/expressions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},215:(e,t,i)=>{i.r(t);var a=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},499:(e,t,i)=>{i.r(t);var a=__kbnBundles__.get("plugin/visDefaultEditor/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},587:(e,t,i)=>{i.r(t);var a=__kbnBundles__.get("plugin/visualizations/common/convert_to_lens");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},500:(e,t,i)=>{i.r(t);var a=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},185:(e,t,i)=>{e.exports=i(497)(51858)},915:(e,t,i)=>{e.exports=i(497)(67493)},59:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticCharts},319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},8:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},472:e=>{"use strict";e.exports=__kbnSharedDeps__.Uuid},497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},s={};function r(e){var t=s[e];if(void 0!==t)return t.exports;var i=s[e]={exports:{}};return a[e](i,i.exports,r),i.exports}r.m=a,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(i,a){if(1&a&&(i=this(i)),8&a)return i;if("object"==typeof i&&i){if(4&a&&i.__esModule)return i;if(16&a&&"function"==typeof i.then)return i}var s=Object.create(null);r.r(s);var n={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&i;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>n[e]=()=>i[e]));return n.default=()=>i,r.d(s,n),s},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,i)=>(r.f[i](e,t),t)),[])),r.u=e=>"visTypeXy.chunk."+e+".js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i={},r.l=(e,t,a,s)=>{if(i[e])i[e].push(t);else{var n,o;if(void 0!==a)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==e){n=u;break}}n||(o=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,r.nc&&n.setAttribute("nonce",r.nc),n.src=e),i[e]=[t];var p=(t,a)=>{n.onerror=n.onload=null,clearTimeout(c);var s=i[e];if(delete i[e],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach((e=>e(a))),t)return t(a)},c=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),o&&document.head.appendChild(n)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var a=i.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=i[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={890:0};r.f.j=(t,i)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)i.push(a[2]);else{var s=new Promise(((i,s)=>a=e[t]=[i,s]));i.push(a[2]=s);var n=r.p+r.u(t),o=new Error;r.l(n,(i=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=i&&("load"===i.type?"missing":i.type),n=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",o.name="ChunkLoadError",o.type=s,o.request=n,a[1](o)}}),"chunk-"+t,t)}};var t=(t,i)=>{var a,s,[n,o,l]=i,d=0;if(n.some((t=>0!==e[t]))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);l&&l(r)}for(t&&t(i);d<n.length;d++)s=n[d],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.visTypeXy_bundle_jsonpfunction=self.visTypeXy_bundle_jsonpfunction||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),r(710),__kbnBundles__.define("plugin/visTypeXy/public",r,353),__kbnBundles__.define("plugin/visTypeXy/common",r,435)})();