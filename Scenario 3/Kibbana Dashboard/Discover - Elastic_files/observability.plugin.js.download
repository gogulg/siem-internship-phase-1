/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,t,r,a={2888:(e,t,r)=>{"use strict";r.d(t,{fI:()=>i,fO:()=>o,gE:()=>n,oB:()=>l});var a=r(3803),s=r(5008);const n=a.euiLightVars.euiColorAccent,i="#F04E981A",o=s.i18n.translate("eventAnnotationCommon.manualAnnotation.defaultAnnotationLabel",{defaultMessage:"Event"}),l=s.i18n.translate("eventAnnotationCommon.manualAnnotation.defaultRangeAnnotationLabel",{defaultMessage:"Event range"})},2708:(e,t,r)=>{"use strict";r.d(t,{L$:()=>s,Ov:()=>a});const a={APM:"apm",LOGS:"logs",INFRASTRUCTURE:"infrastructure",OBSERVABILITY:"observability",SLO:"slo",SIEM:"siem",UPTIME:"uptime",ML:"ml",STACK_ALERTS:"stackAlerts",EXAMPLE:"AlertingExample",MONITORING:"monitoring",ALERTS:"alerts",DISCOVER:"discover"},s=(Object.values(a).map((e=>e)),e=>e.startsWith("siem."))},454:(e,t,r)=>{"use strict";r.d(t,{AR:()=>n,O3:()=>s,R5:()=>a});const a="active",s="recovered",n="untracked"},9219:(e,t,r)=>{"use strict";r.d(t,{BI:()=>I,CB:()=>x,Cl:()=>D,DW:()=>m,Ez:()=>T,IQ:()=>g,JG:()=>d,Kp:()=>k,L7:()=>_,Rn:()=>F,Ry:()=>A,S2:()=>o,SL:()=>O,Sy:()=>$,Wp:()=>f,Yw:()=>q,ZQ:()=>M,ZT:()=>U,_9:()=>B,at:()=>S,e$:()=>L,fJ:()=>R,gH:()=>i,h:()=>w,h9:()=>p,ht:()=>a,i2:()=>u,iZ:()=>c,lj:()=>y,pR:()=>h,qT:()=>C,qp:()=>v,sR:()=>P,tU:()=>E,tV:()=>V,tg:()=>b,vT:()=>s,xv:()=>l,z1:()=>j,zt:()=>n});const a="@timestamp",s="kibana",n=`${s}.alert`,i=`${n}.rule`,o=`${s}.space_ids`,l=`${s}.version`,u=`${n}.action_group`,c=`${n}.previous_action_group`,d=`${n}.severity_improving`,p=`${n}.case_ids`,f=`${n}.duration.us`,m=`${n}.end`,b=`${n}.flapping`,v=`${n}.flapping_history`,y=`${n}.maintenance_window_ids`,g=`${n}.consecutive_matches`,h=`${n}.instance.id`,_=`${n}.last_detected`,x=`${n}.intended_timestamp`,S=`${n}.reason`,k=`${n}.start`,T=`${n}.status`,A=`${n}.time_range`,w=`${n}.uuid`,O=`${n}.workflow_status`,E=`${n}.workflow_tags`,D=`${n}.workflow_assignee_ids`,I=`${i}.category`,R=`${i}.consumer`,L=`${i}.execution.timestamp`,j=`${i}.execution.uuid`,C=`${i}.name`,M=`${i}.parameters`,F=`${i}.producer`,$=`${i}.revision`,P=`${i}.tags`,V=`${i}.rule_type_id`,U=`${n}.url`,B=`${i}.uuid`,q=`${i}.execution.type`},1363:(e,t,r)=>{"use strict";r.d(t,{$9:()=>C,C6:()=>u,Ii:()=>L,Ip:()=>T,J0:()=>b,JJ:()=>R,M8:()=>c,MT:()=>v,NW:()=>s,PP:()=>d,TL:()=>g,Tm:()=>$,W8:()=>F,Zu:()=>k,aH:()=>P,aT:()=>m,bv:()=>D,f8:()=>o,fN:()=>_,gp:()=>l,hK:()=>f,iL:()=>i,ir:()=>n,jT:()=>p,ji:()=>j,nw:()=>w,op:()=>y,qO:()=>S,rj:()=>O,tJ:()=>h,u8:()=>x,uT:()=>M,wO:()=>I,yi:()=>A});var a=r(9219);const s="ecs.version",n="event.action",i="event.kind",o="event.original",l="tags",u=`${a.zt}.risk_score`,c=`${a.gH}.author`,d=`${a.gH}.created_at`,p=`${a.gH}.created_by`,f=`${a.gH}.description`,m=`${a.gH}.enabled`,b=`${a.gH}.from`,v=`${a.gH}.interval`,y=`${a.gH}.license`,g=`${a.gH}.note`,h=`${a.gH}.references`,_=`${a.gH}.rule_id`,x=`${a.gH}.rule_name_override`,S=`${a.gH}.to`,k=`${a.gH}.type`,T=`${a.gH}.updated_at`,A=`${a.gH}.updated_by`,w=`${a.gH}.version`,O=`${a.zt}.severity`,E=`${a.zt}.suppression`,D=`${E}.terms`,I=`${D}.field`,R=`${D}.value`,L=`${E}.start`,j=`${E}.end`,C=`${E}.docs_count`,M=`${a.zt}.system_status`,F=`${a.zt}.workflow_reason`,$=`${a.zt}.workflow_user`,P=`${a.zt}.workflow_status_updated_at`},9397:(e,t,r)=>{"use strict";r.d(t,{Yj:()=>u,bj:()=>s,eg:()=>o,lN:()=>c,lV:()=>m,n8:()=>d,wE:()=>a});const a="observability.rules.custom_threshold";let s=function(e){return e.ErrorCount="apm.error_rate",e.TransactionErrorRate="apm.transaction_error_rate",e.TransactionDuration="apm.transaction_duration",e.Anomaly="apm.anomaly",e}({});const n=Object.values(s),i=["xpack.synthetics.alerts.monitorStatus","xpack.synthetics.alerts.tls"],o="slo.rules.burnRate",l=[o],u="metrics.alert.inventory.threshold",c="metrics.alert.threshold",d="logs.alert.document.count",p=[d];let f=function(e){return e.MetricThreshold="metrics.alert.threshold",e.InventoryThreshold="metrics.alert.inventory.threshold",e}({});const m=[...n,...i,...Object.values(f),"xpack.uptime.alerts.tls","xpack.uptime.alerts.tlsCertificate","xpack.uptime.alerts.monitorStatus","xpack.uptime.alerts.durationAnomaly",...p,...l,a]},875:(e,t,r)=>{"use strict";r.d(t,{CJ:()=>s,hb:()=>n,iR:()=>a});const a=".es-query",s="xpack.ml.anomaly_detection_alert",n=[a,s]},1753:(e,t,r)=>{"use strict";r.d(t,{KY:()=>n,Wj:()=>i,XA:()=>d,Zb:()=>l,Zw:()=>o,c6:()=>c,vN:()=>u});var a=r(9219),s=r(1363);a.gH,a.zt;const n=`${a.zt}.evaluation.threshold`,i=`${a.zt}.evaluation.value`,o=`${a.zt}.context`,l=`${a.zt}.evaluation.values`,u=`${a.zt}.group`,c=`${u}.field`,d=`${u}.value`;a.gH,a.gH,a.vT,a.zt,a.gH,s.NW,s.iL,s.ir,s.gp,a.ht,a.i2,a.Wp,a.DW,a.tg,a.lj,a.pR,a.fJ,a.Rn,a.at,s.C6,a.h9,s.M8,s.PP,s.jT,s.hK,s.aT,a.z1,s.J0,s.MT,s.op,a.qT,s.TL,a.ZQ,s.tJ,s.fN,s.u8,a.sR,s.qO,s.Zu,a.tV,s.Ip,s.yi,s.nw,a.Kp,a.Ry,s.rj,a.Ez,s.uT,a.h,a.Cl,s.W8,a.SL,a.tU,s.Tm,a._9,a.BI,s.bv,s.wO,s.JJ,s.Ii,s.ji,s.$9,a.S2,a.xv},5228:(e,t,r)=>{"use strict";r.d(t,{Pv:()=>l});var a=r(4286),s=r(2874),n=r.n(s),i=r(482),o=r(6791);const l=(e,t)=>r=>(n().render((0,o.jsx)(i.KibanaRenderContextProvider,t,e),r),()=>n().unmountComponentAtNode(r));r(8915),r(5008),a.Component},5006:(e,t,r)=>{"use strict";r.d(t,{V:()=>m});var a=r(4286),s=r.n(a),n=r(3185),i=r(7880),o=r(6791);const l=s().createContext(null),u=({children:e,...t})=>{const{navigateToUrl:r,currentAppId:a}=t;return(0,o.jsx)(l.Provider,{value:{navigateToUrl:r,currentAppId:a}},e)},c=({children:e,coreStart:t})=>{const{navigateToUrl:r,currentAppId$:a}=t.application,s=(0,i.A)(a,void 0);return(0,o.jsx)(l.Provider,{value:{navigateToUrl:r,currentAppId:s}},e)},d={name:"h42ud6",styles:"display:inherit;height:inherit;width:inherit;flex:1;flex-flow:column nowrap"},p=({children:e,navigateToUrl:t,currentAppId:r,...s})=>{const i=(0,a.useRef)(null),l=(0,a.useCallback)((e=>(({event:e,container:t,navigateToUrl:r,currentAppId:a})=>{if(!t||!a)return;const s=((e,t)=>{let r=e;do{var a,s;if("a"===(null===(a=r)||void 0===a?void 0:a.tagName.toLowerCase()))return r;const e=null===(s=r)||void 0===s?void 0:s.parentElement;if(!e||e===document.body||e===t)break;r=e}while(parent||parent!==document.body||parent!==t)})(e.target,t);if(!s)return;const n=s.href,i=""===s.target||"_self"===s.target,o=0===e.button;n&&i&&o&&!e.defaultPrevented&&!(e=>e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)(e)&&(e.preventDefault(),r(s.href))})({event:e,currentAppId:r,navigateToUrl:t,container:i.current})),[r,t]);return(0,o.jsx)("div",(0,n.default)({onClick:l,ref:i,css:d,"data-test-subj":"kbnRedirectAppLink"},s),e)},f=({children:e,...t})=>(0,o.jsx)(p,(0,n.default)({},function(){const e=(0,a.useContext)(l);if(!e)throw new Error("RedirectAppLinksContext is missing.  Ensure your component or React root is wrapped with RedirectAppLinksProvider.");return e}(),t),e),m=({children:e,...t})=>{if(void 0!==t.coreStart){const{coreStart:r,...a}=t,s=(0,o.jsx)(f,a,e);return(0,o.jsx)(c,{coreStart:r},s)}const{navigateToUrl:r,currentAppId:a,...s}=t,n=(0,o.jsx)(f,s,e);return(0,o.jsx)(u,{currentAppId:a,navigateToUrl:r},n)}},8786:(e,t,r)=>{"use strict";r.d(t,{o:()=>a});let a=function(e){return e.GREATER_THAN=">",e.GREATER_THAN_OR_EQUALS=">=",e.BETWEEN="between",e.LESS_THAN="<",e.LESS_THAN_OR_EQUALS="<=",e.NOT_BETWEEN="notBetween",e}({})},1306:(e,t,r)=>{"use strict";r.d(t,{F:()=>n});var a=r(1783),s=r.n(a);const n=(e,t,r)=>{const a=s().duration(s()(t).diff(s()(e))),n=s()().toISOString(),i=a.asMinutes()<160?s().duration(20,"minutes").asMilliseconds():a.asMilliseconds()/8,o=r&&s().duration(20*r.size,r.unit).asMilliseconds(),l=o&&o-i>0?o:i;return{from:s()(e).subtract(l,"millisecond").toISOString(),to:t&&s()(t).add(l,"millisecond").isBefore(n)?s()(t).add(l,"millisecond").toISOString():n}}},2787:(e,t,r)=>{"use strict";r.d(t,{Wq:()=>i,bG:()=>d,gs:()=>o,qn:()=>c,s8:()=>u,wP:()=>l});var a=r(2708),s=r(9397),n=r(875);const i="all",o="_a",l=[a.Ov.APM,a.Ov.INFRASTRUCTURE,a.Ov.LOGS,a.Ov.UPTIME,a.Ov.SLO,a.Ov.OBSERVABILITY,a.Ov.ALERTS],u=[a.Ov.INFRASTRUCTURE,a.Ov.LOGS,a.Ov.OBSERVABILITY],c="events",d=[...s.lV,...n.hb]},6655:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});var a=r(1306),s=r(2445);const n=({dataViewId:e,endedAt:t,groups:r,logsLocator:n,metrics:i=[],searchConfiguration:o,startedAt:l=(new Date).toISOString(),spaceId:u})=>{if(!n)return"";const c=null==o?void 0:o.query.query,d=(null==o?void 0:o.filter)||[],p=(0,s.dO)(r),f=(0,a.F)(l,t);f.to=t?f.to:"now";const m={query:"",language:"kuery"},b=1===i.length&&"count"===i[0].aggType&&i[0].filter;return c&&b?m.query=`${c} and ${i[0].filter}`:b?m.query=i[0].filter:c&&(m.query=c),n.getRedirectUrl({dataViewId:e,dataViewSpec:null==o?void 0:o.index,timeRange:f,query:m,filters:[...d,...p]},{spaceId:u})}},2445:(e,t,r)=>{"use strict";r.d(t,{dO:()=>a,f:()=>s});const a=(e,t)=>((e,t)=>e&&e.map((e=>({match_phrase:{[t||e.field]:e.value}})))||[])(e,t).map((e=>({meta:{},query:e}))),s=(e=[],t=[])=>e.map(((r,a)=>({field:e[a],value:t[a]})))},5344:(e,t,r)=>{"use strict";r.d(t,{AD:()=>o,g3:()=>n,hw:()=>i,t:()=>l,x3:()=>s});var a=r(5008);const s=a.i18n.translate("xpack.observability.notAvailable",{defaultMessage:"N/A"}),n=a.i18n.translate("xpack.observability.customThreshold.rule.threshold.below",{defaultMessage:"below"}),i=a.i18n.translate("xpack.observability.customThreshold.rule.threshold.belowOrEqual",{defaultMessage:"below or equal"}),o=a.i18n.translate("xpack.observability.customThreshold.rule.threshold.above",{defaultMessage:"above"}),l=a.i18n.translate("xpack.observability.customThreshold.rule.threshold.aboveOrEqual",{defaultMessage:"above or equal"});a.i18n.translate("xpack.observability.customThreshold.rule.threshold.between",{defaultMessage:"between"}),a.i18n.translate("xpack.observability.customThreshold.rule.threshold.notBetween",{defaultMessage:"not between"})},8223:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AlertsLocatorDefinition:()=>AlertsLocatorDefinition,ProcessorEvent:()=>f,ProgressiveLoadingQuality:()=>b,alertsLocatorID:()=>M,apmAWSLambdaPriceFactor:()=>m.js,apmAWSLambdaRequestCostPerMillion:()=>m.ET,apmEnableContinuousRollups:()=>m.kM,apmEnableProfilingIntegration:()=>m.on,apmEnableServiceInventoryTableSearchBar:()=>m.mi,apmEnableServiceMetrics:()=>m.wt,apmEnableTableSearchBar:()=>m.vv,apmEnableTransactionProfiling:()=>m.Ey,apmLabsButton:()=>m.vM,apmProgressiveLoading:()=>m.I,apmServiceGroupMaxNumberOfServices:()=>m.nf,apmServiceInventoryOptimizedSorting:()=>m.Fc,apmTraceExplorerTab:()=>m.uX,asAbsoluteDateTime:()=>a.Z0,asDuration:()=>a.Fi,asDynamicBytes:()=>a.dg,asInteger:()=>a.JU,asPercent:()=>a.wG,casesFeatureId:()=>A,casesFeatureIdV2:()=>w,casesFeatureIdV3:()=>O,convertToBuiltInComparators:()=>p.B,defaultApmServiceEnvironment:()=>m.wK,enableAgentExplorerView:()=>m.Pb,enableAwsLambdaMetrics:()=>m.rT,enableComparisonByDefault:()=>m.dt,enableCriticalPath:()=>m.is,enableInfrastructureAssetCustomDashboards:()=>m.By,enableInfrastructureProfilingIntegration:()=>m.pC,enableInspectEsQueries:()=>m.IG,entityCentricExperience:()=>m.in,formatDurationFromTimeUnitChar:()=>a.BO,getAlertDetailsUrl:()=>d,getAlertUrl:()=>c,getDurationFormatter:()=>a.tF,getInspectResponse:()=>i,getProbabilityFromProgressiveLoadingQuality:()=>v,maxSuggestions:()=>m._z,observabilityAlertFeatureIds:()=>T.wP,observabilityAppId:()=>D,observabilityFeatureId:()=>I,observabilityPaths:()=>B,profilingAWSCostDiscountRate:()=>m._j,profilingAzureCostDiscountRate:()=>m.eA,profilingCo2PerKWH:()=>m.SO,profilingCostPervCPUPerHour:()=>m.EN,profilingDatacenterPUE:()=>m.IW,profilingFetchTopNFunctionsFromStacktraces:()=>m.dK,profilingPervCPUWattArm64:()=>m.Cs,profilingPervCPUWattX86:()=>m.w8,profilingShowErrorFrames:()=>m.a_,ruleDetailsLocatorID:()=>F,rulesLocatorID:()=>$,sloDetailsLocatorID:()=>P,sloEditLocatorID:()=>V,sloFeatureId:()=>E,sloListLocatorID:()=>U,syntheticsEditMonitorLocatorID:()=>j,syntheticsMonitorDetailLocatorID:()=>R,syntheticsMonitorLocationQueryLocatorID:()=>L,syntheticsSettingsLocatorID:()=>C,syntheticsThrottlingEnabled:()=>m.bM,uptimeOverviewLocatorID:()=>y});var a=r(7525),s=r(5008);function n({esRequestParams:e,esResponse:t,kibanaRequest:r}){var a,n;const i={...r.query?{kibanaApiQueryParameters:{label:s.i18n.translate("xpack.observability.inspector.stats.kibanaApiQueryParametersLabel",{defaultMessage:"Kibana API query parameters"}),description:s.i18n.translate("xpack.observability.inspector.stats.kibanaApiQueryParametersDescription",{defaultMessage:"The query parameters used in the Kibana API request that initiated the Elasticsearch request."}),value:JSON.stringify(r.query,null,2)}}:{},kibanaApiRoute:{label:s.i18n.translate("xpack.observability.inspector.stats.kibanaApiRouteLabel",{defaultMessage:"Kibana API route"}),description:s.i18n.translate("xpack.observability.inspector.stats.kibanaApiRouteDescription",{defaultMessage:"The route of the Kibana API request that initiated the Elasticsearch request."}),value:`${r.route.method.toUpperCase()} ${r.route.path}`},indexPattern:{label:s.i18n.translate("xpack.observability.inspector.stats.dataViewLabel",{defaultMessage:"Data view"}),value:e.index,description:s.i18n.translate("xpack.observability.inspector.stats.dataViewDescription",{defaultMessage:"The data view that connected to the Elasticsearch indices."})}};if(null!=t&&null!==(a=t.hits)&&void 0!==a&&a.hits&&(i.hits={label:s.i18n.translate("xpack.observability.inspector.stats.hitsLabel",{defaultMessage:"Hits"}),value:`${t.hits.hits.length}`,description:s.i18n.translate("xpack.observability.inspector.stats.hitsDescription",{defaultMessage:"The number of documents returned by the query."})}),null!=t&&t.took&&(i.queryTime={label:s.i18n.translate("xpack.observability.inspector.stats.queryTimeLabel",{defaultMessage:"Query time"}),value:s.i18n.translate("xpack.observability.inspector.stats.queryTimeValue",{defaultMessage:"{queryTime}ms",values:{queryTime:t.took}}),description:s.i18n.translate("xpack.observability.inspector.stats.queryTimeDescription",{defaultMessage:"The time it took to process the query. Does not include the time to send the request or parse it in the browser."})}),void 0!==(null==t||null===(n=t.hits)||void 0===n?void 0:n.total)){let e;if("number"==typeof t.hits.total)e=t.hits.total;else{const r=t.hits.total;e="eq"===r.relation?`${r.value}`:`> ${r.value}`}i.hitsTotal={label:s.i18n.translate("xpack.observability.inspector.stats.hitsTotalLabel",{defaultMessage:"Hits (total)"}),value:e,description:s.i18n.translate("xpack.observability.inspector.stats.hitsTotalDescription",{defaultMessage:"The number of documents that match the query."})}}return i}function i({esError:e,esRequestParams:t,esRequestStatus:r,esResponse:a,kibanaRequest:s,operationName:i,startTime:o}){var l;const u=`${i} (${s.route.path})`;return{id:u,json:null!==(l=t.body)&&void 0!==l?l:t,name:u,response:{json:e?e.originalError:a},startTime:o,stats:n({esRequestParams:t,esResponse:a,kibanaRequest:s}),status:r}}var o=r(1254),l=r(1783),u=r.n(l);const c=async(e,t,r,a,s)=>{if(!s||!a||!e)return"";const n=u()(r).subtract("5","minute").toISOString();return(await a.getLocation({baseUrl:s,spaceId:t,kuery:`kibana.alert.uuid: "${e}"`,rangeFrom:n})).path},d=(e,t,r)=>(0,o.addSpaceIdToPath)(e.publicBaseUrl,t,`/app/observability/alerts/${r}`);var p=r(1280);let f=function(e){return e.transaction="transaction",e.error="error",e.metric="metric",e.span="span",e}({});var m=r(1463);let b=function(e){return e.low="low",e.medium="medium",e.high="high",e.off="off",e}({});function v(e){switch(e){case b.high:return.1;case b.medium:return.01;case b.low:return.001;case b.off:return 1}}const y="UPTIME_OVERVIEW_LOCATOR";var g=r(9488),h=r(8915),_=r(151);const x=__kbnSharedDeps__.KbnRison;var S=r.n(x),k=r(1359),T=r(2787);class AlertsLocatorDefinition{constructor(){(0,h.default)(this,"id",M),(0,h.default)(this,"getLocation",(async({baseUrl:e,spaceId:t,kuery:r,rangeTo:a,rangeFrom:s,status:n})=>{const i={};i.rangeFrom=s||"now-15m",i.rangeTo=a||"now",i.kuery=r||"",i.status=n||"all";const l=(0,o.addSpaceIdToPath)(e,t,"/app/observability/alerts"),u=new URL(l);return u.search=function(e){const t=k.url.encodeQuery(e,(e=>encodeURIComponent(e).replace(/%3A/g,":")));return(0,_.stringify)(t,{sort:!1,encode:!1})}({[T.gs]:S().encodeUnknown(i)}),{app:"observability",path:u.href,state:{}}}))}}const A="observabilityCases",w="observabilityCasesV2",O="observabilityCasesV3",E="slo",D="observability-overview",I="observability",R="SYNTHETICS_MONITOR_DETAIL_LOCATOR",L="SYNTHETICS_MONITOR_GROUP_BY_LOCATION_LOCATOR",j="SYNTHETICS_EDIT_MONITOR_LOCATOR",C="SYNTHETICS_SETTINGS",M="ALERTS_LOCATOR",F="RULE_DETAILS_LOCATOR",$="RULES_LOCATOR",P="SLO_DETAILS_LOCATOR",V="SLO_EDIT_LOCATOR",U="SLO_LIST_LOCATOR",B=g.f0.observability},9488:(e,t,r)=>{"use strict";r.d(t,{$P:()=>y,Al:()=>_,C4:()=>o,Ci:()=>v,Dl:()=>s,IE:()=>n,JP:()=>h,K0:()=>g,MU:()=>c,Mv:()=>m,PG:()=>l,QS:()=>u,Qp:()=>a,TB:()=>p,Ws:()=>d,X_:()=>k,bh:()=>b,f0:()=>S,gB:()=>i,qV:()=>f,r$:()=>x});const a="/app/observability",s="/",n="/landing",i="/overview",o="/alerts",l="/alerts/:alertId",u="/exploratory-view",c="/alerts/rules",d="/alerts/rules/logs",p="/alerts/rules/:ruleId",f="/alerts/rules/create/:ruleTypeId",m="/cases",b="/annotations",v="/slos",y="/slos/welcome",g="/slos/outdated-definitions",h="/slos/:sloId",_="/slos/edit/:sloId",x="/:sloId",S={observability:{alerts:`${a}${o}`,annotations:`${a}${b}`,alertDetails:e=>`${a}${o}/${encodeURIComponent(e)}`,rules:`${a}${c}`,ruleDetails:e=>`${a}${c}/${encodeURIComponent(e)}`,createRule:e=>`${a}${c}/create/${encodeURIComponent(e)}`}},k={observability:{ruleDetails:e=>`${c}/${encodeURIComponent(e)}`}}},1463:(e,t,r)=>{"use strict";r.d(t,{By:()=>f,Cs:()=>D,EN:()=>j,ET:()=>_,Ey:()=>M,Fc:()=>l,I:()=>o,IG:()=>a,IW:()=>R,Pb:()=>b,SO:()=>I,_j:()=>L,_z:()=>s,a_:()=>O,bM:()=>T,dK:()=>F,dt:()=>n,eA:()=>C,in:()=>y,is:()=>x,js:()=>h,kM:()=>k,mi:()=>g,nf:()=>u,on:()=>w,pC:()=>p,rT:()=>m,uX:()=>c,vM:()=>d,vv:()=>v,w8:()=>E,wK:()=>i,wt:()=>S,ye:()=>A});const a="observability:enableInspectEsQueries",s="observability:maxSuggestions",n="observability:enableComparisonByDefault",i="observability:apmDefaultServiceEnvironment",o="observability:apmProgressiveLoading",l="observability:apmServiceInventoryOptimizedSorting",u="observability:apmServiceGroupMaxNumberOfServices",c="observability:apmTraceExplorerTab",d="observability:apmLabsButton",p="observability:enableInfrastructureProfilingIntegration",f="observability:enableInfrastructureAssetCustomDashboards",m="observability:enableAwsLambdaMetrics",b="observability:apmAgentExplorerView",v="observability:apmEnableTableSearchBar",y="observability:entityCentricExperience",g="observability:apmEnableServiceInventoryTableSearchBar",h="observability:apmAWSLambdaPriceFactor",_="observability:apmAWSLambdaRequestCostPerMillion",x="observability:apmEnableCriticalPath",S="observability:apmEnableServiceMetrics",k="observability:apmEnableContinuousRollups",T="observability:syntheticsThrottlingEnabled",A="observability:enableLegacyUptimeApp",w="observability:apmEnableProfilingIntegration",O="observability:profilingShowErrorFrames",E="observability:profilingPerVCPUWattX86",D="observability:profilingPervCPUWattArm64",I="observability:profilingCo2PerKWH",R="observability:profilingDatacenterPUE",L="observability:profilingAWSCostDiscountRate",j="observability:profilingCostPervCPUPerHour",C="observability:profilingAzureCostDiscountRate",M="observability:apmEnableTransactionProfiling",F="observability:profilingFetchTopNFunctionsFromStacktraces"},1280:(e,t,r)=>{"use strict";r.d(t,{B:()=>n,o:()=>s});var a=r(8786);let s=function(e){return e.OUTSIDE_RANGE="outside",e}({});function n(e){return e===s.OUTSIDE_RANGE?a.o.NOT_BETWEEN:e}},940:(e,t,r)=>{"use strict";r.d(t,{Z0:()=>n});const a=__kbnSharedDeps__.MomentTimezone;var s=r.n(a);function n(e,t="milliseconds"){const r=s()(e),a=function(e){const t=e.utcOffset()/60,r=t>0?`+${t}`:t,a=Number.isInteger(t)?r:"Z";return e.format(`(UTC${a})`)}(r);return r.format(`${function(e){switch(e){case"years":return"YYYY";case"months":return"MMM YYYY";case"days":return"MMM D, YYYY";default:return""}}("days")}, ${function(e){switch(e){case"hours":return"HH";case"minutes":return"HH:mm";case"seconds":return"HH:mm:ss";case"milliseconds":return"HH:mm:ss.SSS";default:return""}}(t)} ${a}`)}},7968:(e,t,r)=>{"use strict";r.d(t,{BO:()=>b,Fi:()=>f,Qy:()=>m,bR:()=>c,tF:()=>p});var a=r(5008),s=r(1783),n=r.n(s),i=r(770),o=r(5344),l=r(3599),u=r(9504);function c({unit:e,microseconds:t,defaultValue:r=o.x3,extended:s}){if(!(0,u.B)(t))return{value:r,formatted:r};const{convertedValue:i,unitLabel:c,unitLabelExtended:d}=function(e,t){switch(e){case"hours":return{unitLabel:a.i18n.translate("xpack.observability.formatters.hoursTimeUnitLabel",{defaultMessage:"h"}),unitLabelExtended:a.i18n.translate("xpack.observability.formatters.hoursTimeUnitLabelExtended",{defaultMessage:"hours"}),convertedValue:(0,l.tm)(n().duration(t/1e3).asHours())};case"minutes":return{unitLabel:a.i18n.translate("xpack.observability.formatters.minutesTimeUnitLabel",{defaultMessage:"min"}),unitLabelExtended:a.i18n.translate("xpack.observability.formatters.minutesTimeUnitLabelExtended",{defaultMessage:"minutes"}),convertedValue:(0,l.tm)(n().duration(t/1e3).asMinutes())};case"seconds":return{unitLabel:a.i18n.translate("xpack.observability.formatters.secondsTimeUnitLabel",{defaultMessage:"s"}),unitLabelExtended:a.i18n.translate("xpack.observability.formatters.secondsTimeUnitLabelExtended",{defaultMessage:"seconds"}),convertedValue:(0,l.tm)(n().duration(t/1e3).asSeconds())};case"milliseconds":return{unitLabel:a.i18n.translate("xpack.observability.formatters.millisTimeUnitLabel",{defaultMessage:"ms"}),unitLabelExtended:a.i18n.translate("xpack.observability.formatters.millisTimeUnitLabelExtended",{defaultMessage:"milliseconds"}),convertedValue:(0,l.tm)(n().duration(t/1e3).asMilliseconds())};case"microseconds":return{unitLabel:a.i18n.translate("xpack.observability.formatters.microsTimeUnitLabel",{defaultMessage:"μs"}),unitLabelExtended:a.i18n.translate("xpack.observability.formatters.microsTimeUnitLabelExtended",{defaultMessage:"microseconds"}),convertedValue:(0,l.JU)(t)}}}(e,t);return{value:i,unit:c,formatted:`${i} ${s?d:c}`}}const d=(e,t)=>1e3*n().duration(e,t).asMilliseconds(),p=(0,i.memoize)((e=>{const t=function(e){return e>d(10,"hours")?"hours":e>d(10,"minutes")?"minutes":e>d(1,"seconds")?"seconds":e>d(1,"milliseconds")?"milliseconds":"microseconds"}(e);return(e,{defaultValue:r,extended:a}={})=>c({unit:t,microseconds:e,defaultValue:r,extended:a})}));function f(e,{defaultValue:t=o.x3,extended:r}={}){return(0,u.B)(e)?p(e)(e,{defaultValue:t,extended:r}).formatted:t}function m(e){return c({unit:"milliseconds",microseconds:e}).formatted}const b=(e,t)=>{const r=0!==e&&e>1?"s":"";switch(t){case"s":return`${e} sec${r}`;case"m":return`${e} min${r}`;case"h":return`${e} hr${r}`;case"d":return`${e} day${r}`;default:return`${e} ${t}`}}},3599:(e,t,r)=>{"use strict";r.d(t,{JU:()=>l,qQ:()=>o,tm:()=>c,wG:()=>u});var a=r(6752),s=r.n(a),n=r(5344),i=r(9504);function o(e){return(0,i.B)(e)?s()(e).format("0,0.0"):n.x3}function l(e){return(0,i.B)(e)?s()(e).format("0,0"):n.x3}function u(e,t,r=n.x3){if(!t||!(0,i.B)(e))return r;const a=e/t;return Math.abs(a)>=.1||0===a?s()(a).format("0%"):s()(a).format("0.0%")}function c(e){return 0===e||Math.abs(e)>=10?l(e):o(e)}},7525:(e,t,r)=>{"use strict";r.d(t,{Z0:()=>s.Z0,Fi:()=>n.Fi,dg:()=>f,JU:()=>a.JU,Qy:()=>n.Qy,wG:()=>a.wG,bR:()=>n.bR,BO:()=>n.BO,tF:()=>n.tF});var a=r(3599),s=r(940),n=r(7968),i=r(770);function o(e){return`${(0,a.qQ)(e/1e3)} KB`}function l(e){return`${(0,a.qQ)(e/1e6)} MB`}function u(e){return`${(0,a.qQ)(e/1e9)} GB`}function c(e){return`${(0,a.qQ)(e/1e12)} TB`}function d(e){return`${(0,a.qQ)(e)} B`}const p=e=>t=>null==t||isNaN(t)?"":e(t),f=((0,i.memoize)((e=>{const t=m(e);return p(t)})),p((e=>m(e)(e)))),m=e=>e>1e12?c:e>1e9?u:e>1e6?l:e>1e3?o:d},9504:(e,t,r)=>{"use strict";r.d(t,{B:()=>s});var a=r(770);function s(e){return(0,a.isFinite)(e)}},7404:(e,t,r)=>{"use strict";r.d(t,{$2:()=>l,Di:()=>f,HH:()=>o,NN:()=>m,OF:()=>p,jI:()=>c,m$:()=>u,yu:()=>d});var a=r(5008),s=r(454),n=r(9219),i=r(2787);const o=[],l="",u={status:i.Wq,query:"",filter:[],label:a.i18n.translate("xpack.observability.alerts.alertStatusFilter.showAll",{defaultMessage:"Show all"})},c={status:s.R5,query:`${n.Ez}: "${s.R5}"`,filter:[{query:{match_phrase:{[n.Ez]:s.R5}},meta:{}}],label:a.i18n.translate("xpack.observability.alerts.alertStatusFilter.active",{defaultMessage:"Active"})},d={status:s.O3,query:`${n.Ez}: "${s.O3}"`,filter:[{query:{match_phrase:{[n.Ez]:s.O3}},meta:{}}],label:a.i18n.translate("xpack.observability.alerts.alertStatusFilter.recovered",{defaultMessage:"Recovered"})},p={status:s.AR,query:`${n.Ez}: "${s.AR}"`,filter:[{query:{match_phrase:{[n.Ez]:s.AR}},meta:{}}],label:a.i18n.translate("xpack.observability.alerts.alertStatusFilter.untracked",{defaultMessage:"Untracked"})},f={[c.status]:c.query,[d.status]:d.query,[p.status]:p.query},m={[c.status]:c.filter,[d.status]:d.filter,[p.status]:p.filter}},1494:(e,t,r)=>{"use strict";r.d(t,{Xh:()=>A,I1:()=>k,Kq:()=>x});var a=r(4286),s=r(3185),n=r(3059),i=r(1319),o=r(5008),l=r(6763),u=r(1783),c=r.n(u),d=r(770),p=r(6791);const f=(0,a.lazy)((()=>r.e(720).then(r.bind(r,5720))));function m(e){return(0,p.jsx)(a.Suspense,{fallback:null},(0,p.jsx)(f,e))}function b({slo:e,isCreateOpen:t}){const{watch:r,getValues:a}=(0,l.xW)(),s=r("@timestamp"),n=r("event.end");if(!s||!n||!t)return null;const i=a(),o=r("annotation.style"),u=r("annotation.type");return(0,p.jsx)(v,{annotation:(0,d.cloneDeep)({...i,annotation:{...i.annotation,style:o,type:u},...e?{slo:{id:e.id,instanceId:e.instanceId}}:{}})})}function v({annotation:e}){var t,r,a,s;const o=e.message,l=e["@timestamp"],u=null===(t=e.event)||void 0===t?void 0:t.end,{euiTheme:d}=(0,i.useEuiTheme)(),f=null===(r=e.annotation)||void 0===r?void 0:r.style,b=null!==(a=null==f?void 0:f.color)&&void 0!==a?a:d.colors.warning;return(0,p.jsx)(n.RectAnnotation,{dataValues:[{coordinates:{x0:c()(l).valueOf(),x1:c()(u).valueOf()},details:o}],id:"id"in e?e.id:`${l}${o}`,style:{fill:b,opacity:1},outside:"outside"===(null==f||null===(s=f.rect)||void 0===s?void 0:s.fill),outsideDimension:14,customTooltip:()=>(0,p.jsx)(m,{annotation:e})})}function y({slo:e,isCreateOpen:t}){const{watch:r,getValues:a}=(0,l.xW)();if(r("event.end")||!t)return null;const s=a(),n=r("annotation.style"),i=r("annotation.type");return(0,p.jsx)(g,{annotation:(0,d.cloneDeep)({...s,annotation:{...s.annotation,style:n,type:i},...e?{slo:{id:e.id,instanceId:e.instanceId}}:{}})})}function g({annotation:e}){var t,r,a,s,o,l,u,d,f,b,v,y,g;const h=e["@timestamp"],_=e.message,{euiTheme:x}=(0,i.useEuiTheme)(),S=null===(t=e.annotation.style)||void 0===t?void 0:t.line;return(0,p.jsx)(n.LineAnnotation,{id:"id"in e?e.id:`${h}${_}`,domainType:n.AnnotationDomainType.XDomain,dataValues:[{dataValue:c()(h).valueOf(),details:_,header:e.message}],style:{line:{strokeWidth:null!==(r=null==S?void 0:S.width)&&void 0!==r?r:2,stroke:null!==(a=null==e||null===(s=e.annotation.style)||void 0===s?void 0:s.color)&&void 0!==a?a:x.colors.warning,opacity:1,..."dashed"===(null==S?void 0:S.style)&&{dash:[3*(null!==(o=null==S?void 0:S.width)&&void 0!==o?o:2),null!==(l=null==S?void 0:S.width)&&void 0!==l?l:2]},..."dotted"===(null==S?void 0:S.style)&&{dash:[null!==(u=null==S?void 0:S.width)&&void 0!==u?u:2,null!==(d=null==S?void 0:S.width)&&void 0!==d?d:2]}}},marker:(0,p.jsx)("span",null,(0,p.jsx)(A,{annotation:e})),markerBody:(0,p.jsx)(i.EuiText,null,null!==(f=null===(b=e.annotation)||void 0===b?void 0:b.title)&&void 0!==f?f:e.message),markerPosition:null!==(v=null===(y=e.annotation.style)||void 0===y||null===(g=y.line)||void 0===g?void 0:g.iconPosition)&&void 0!==v?v:"top",customTooltip:()=>(0,p.jsx)(m,{annotation:e})})}function h({annotation:e}){var t;return null!==(t=e.event)&&void 0!==t&&t.end&&"line"!==e.annotation.type?(0,p.jsx)(v,{annotation:e}):(0,p.jsx)(g,{annotation:e})}function _({slo:e,tooltipSpecs:t,annotations:r,isCreateOpen:a,setIsCreateOpen:u}){const{setValue:d}=(0,l.xW)(),f=[{label:o.i18n.translate("xpack.observability.createAnnotation.addAnnotationModalHeaderTitleLabel",{defaultMessage:"Create annotation"}),onSelect:(e,t)=>{var r,a,s;d("@timestamp",c()(new Date(null!==(r=null==e||null===(a=e[0])||void 0===a?void 0:a.datum.key)&&void 0!==r?r:null==t||null===(s=t[0])||void 0===s?void 0:s.datum.key))),u(!0)}}];return(0,p.jsx)(i.EuiErrorBoundary,null,(0,p.jsx)(n.Tooltip,(0,s.default)({},null!=t?t:{},{actions:f,type:n.TooltipType.VerticalCursor})),null==r?void 0:r.map(((e,t)=>{var r;return(0,p.jsx)(h,{annotation:e,key:null!==(r=e.id)&&void 0!==r?r:t})})),(0,p.jsx)(y,{slo:e,isCreateOpen:a}),(0,p.jsx)(b,{slo:e,isCreateOpen:a}))}function x(e){return(0,p.jsx)(_,e)}const S=(0,a.lazy)((()=>Promise.all([r.e(94),r.e(817),r.e(645)]).then(r.bind(r,8645))));function k(e){return(0,p.jsx)(a.Suspense,{fallback:null},(0,p.jsx)(S,e))}const T=(0,a.lazy)((()=>r.e(458).then(r.bind(r,9458))));function A(e){return(0,p.jsx)(a.Suspense,{fallback:null},(0,p.jsx)(T,e))}},1668:(e,t,r)=>{"use strict";r.d(t,{g:()=>c}),r(4286);var a=r(3530),s=r(5228),n=r(5879),i=r(5008),o=r(5006),l=r(3222),u=r(6791);function c(){const{i18n:e,theme:t,http:r,notifications:{toasts:c}}=(0,l.o)().services,d=(0,l.o)().services;return(0,a.useMutation)(["deleteAnnotation"],(async({annotations:e})=>{for(const t of e)await r.delete(`/api/observability/annotation/${t.id}`);return Promise.resolve()}),{onSuccess:(r,{annotations:a})=>{c.addSuccess({title:(0,s.Pv)((0,u.jsx)(o.V,{coreStart:d,"data-test-subj":"observabilityMainContainer"},(0,u.jsx)(n.FormattedMessage,{id:"xpack.observability.annotation.delete.successNotification",defaultMessage:"Successfully deleted annotations {name}.",values:{name:a.map((e=>e.message)).join(", ")}})),{i18n:e,theme:t})})},onError:(e,{annotations:t},r)=>{var a,s;c.addError(new Error(null!==(a=null===(s=e.body)||void 0===s?void 0:s.message)&&void 0!==a?a:e.message),{title:i.i18n.translate("xpack.observability.delete.annotation",{defaultMessage:"Something went wrong while deleting annotation {message}",values:{message:t.map((e=>{var t,r;return null!==(t=null===(r=e.annotation)||void 0===r?void 0:r.title)&&void 0!==t?t:e.message})).join(", ")}})})}})}},7012:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var a=r(3530),s=r(3222);function n({start:e,end:t,slo:r}){const{http:n}=(0,s.o)().services,i=null==r?void 0:r.id,o=null==r?void 0:r.instanceId;let l;null!=r&&r.indicator.params&&"service"in(null==r?void 0:r.indicator.params)&&(l=null==r?void 0:r.indicator.params.service);const{isLoading:u,isError:c,isSuccess:d,data:p,refetch:f}=(0,a.useQuery)({queryKey:["fetchAnnotationList",e,t,i,o,l],queryFn:async({})=>await n.get("/api/observability/annotation/find",{query:{start:e,end:t,serviceName:l,sloId:i,sloInstanceId:o}}),refetchOnWindowFocus:!1,keepPreviousData:!0});return{data:p,isLoading:u,isSuccess:d,isError:c,refetch:f}}},888:(e,t,r)=>{"use strict";r.d(t,{w:()=>x});var a=r(4286),s=r(6763),n=r(1783),i=r.n(n),o=r(130),l=r(770),u=r(2888);function c({slo:e,timestamp:t,eventEnd:r}){const a=null==e?void 0:e.id,s=null==e?void 0:e.instanceId;return{message:r?u.oB:u.fO,"@timestamp":null!=t?t:i()(),event:{start:t,end:r},annotation:{title:r?u.oB:u.fO,style:{icon:"triangle",color:r?u.fI:u.gE,line:{width:2,style:"solid",textDecoration:"name"},rect:{fill:"inside"}}},...a?{slo:{id:a,instanceId:s}}:{}}}var d=r(1494),p=r(7012),f=r(3530),m=r(5228),b=r(5879),v=r(5008),y=r(5006),g=r(3222),h=r(6791),_=r(1668);const x=({domain:e,editAnnotation:t,slo:r,setEditAnnotation:n}={})=>{var u;const[x,S]=(0,a.useState)(!1),k=(0,s.mN)({defaultValues:c({slo:r}),mode:"all"}),{setValue:T,reset:A}=k,[w,O]=(0,a.useState)(!1),[E,D]=(0,a.useState)(null),{data:I,refetch:R}=(0,p.s)({start:null!=e&&e.min?String(null==e?void 0:e.min):"now-30d",end:null!=e&&e.min?String(null==e?void 0:e.max):"now",slo:r});(0,o.A)((e=>e.metaKey),(e=>{O("keydown"===e.type)})),(({reset:e,editAnnotation:t,setIsCreateOpen:r})=>{(0,a.useEffect)((()=>{var a,s;if(!t)return;const n=null===(a=t.event)||void 0===a?void 0:a.end;e({...t,"@timestamp":i()(t["@timestamp"]),event:{start:i()(null===(s=t.event)||void 0===s?void 0:s.start),end:n?i()(n):void 0}}),r(!0)}),[t,r,e])})({reset:A,editAnnotation:t,setIsCreateOpen:S});const L=(0,a.useCallback)((()=>{T("event.end",null),S(!1),D(null),null==n||n(null)}),[n,T]),{createAnnotation:j,updateAnnotation:C,deleteAnnotation:M,isLoading:F}=(()=>{const{mutateAsync:e,isLoading:t}=function(){const{i18n:e,theme:t,http:r,notifications:{toasts:a}}=(0,g.o)().services,s=(0,g.o)().services;return(0,f.useMutation)(["createAnnotation"],(({annotation:e})=>{var t,a;e.message||(e.message=null!==(t=null===(a=e.annotation)||void 0===a?void 0:a.title)&&void 0!==t?t:"");const s=JSON.stringify(e);return r.post("/api/observability/annotation",{body:s})}),{onSuccess:(r,{annotation:n})=>{a.addSuccess({title:(0,m.Pv)((0,h.jsx)(y.V,{coreStart:s,"data-test-subj":"observabilityMainContainer"},(0,h.jsx)(b.FormattedMessage,{id:"xpack.observability.annotation.create.successNotification",defaultMessage:"Successfully created annotation {name}",values:{name:n.message}})),{i18n:e,theme:t})})},onError:(e,{annotation:t},r)=>{var s,n,i,o;a.addError(new Error(null!==(s=null===(n=e.body)||void 0===n?void 0:n.message)&&void 0!==s?s:e.message),{title:v.i18n.translate("xpack.observability.create.annotation",{defaultMessage:"Something went wrong while creating annotation {message}",values:{message:null!==(i=null===(o=t.annotation)||void 0===o?void 0:o.title)&&void 0!==i?i:t.message}})})}})}(),{mutateAsync:r,isLoading:a}=function(){const{i18n:e,theme:t,http:r,notifications:{toasts:a}}=(0,g.o)().services,s=(0,g.o)().services;return(0,f.useMutation)(["updateAnnotation"],(async({annotation:e})=>{var t,a;e.message||(e.message=null!==(t=null===(a=e.annotation)||void 0===a?void 0:a.title)&&void 0!==t?t:"");const s=JSON.stringify(e);return await r.put(`/api/observability/annotation/${e.id}`,{body:s})}),{onSuccess:(r,{annotation:n})=>{var i,o;a.addSuccess({title:(0,m.Pv)((0,h.jsx)(y.V,{coreStart:s,"data-test-subj":"observabilityMainContainer"},(0,h.jsx)(b.FormattedMessage,{id:"xpack.observability.annotation.updated.successNotification",defaultMessage:"Successfully updated annotation {name}",values:{name:null!==(i=null===(o=n.annotation)||void 0===o?void 0:o.title)&&void 0!==i?i:n.message}})),{i18n:e,theme:t})})},onError:(e,{annotation:t},r)=>{var s,n,i,o;a.addError(new Error(null!==(s=null===(n=e.body)||void 0===n?void 0:n.message)&&void 0!==s?s:e.message),{title:v.i18n.translate("xpack.observability.update.annotation",{defaultMessage:"Something went wrong while updating annotation {message}",values:{message:null!==(i=null===(o=t.annotation)||void 0===o?void 0:o.title)&&void 0!==i?i:t.message}})})}})}(),{mutateAsync:s,isLoading:n}=(0,_.g)();return{updateAnnotation:r,createAnnotation:e,deleteAnnotation:s,isSaving:t,isUpdating:a,isDeleting:n,isLoading:t||a||n}})(),$=(0,a.useMemo)((()=>x?()=>(0,h.jsx)(d.I1,{onSave:()=>{S(!1),R()},onCancel:L,editAnnotation:null!=t?t:E,isCreateAnnotationsOpen:x,createAnnotation:j,updateAnnotation:C,deleteAnnotation:M,isLoading:F}):()=>null),[j,M,t,x,F,L,R,E,C]);return{annotations:null!==(u=null==I?void 0:I.items)&&void 0!==u?u:[],onAnnotationClick:e=>{if(e.rects.length){var t;const r=null==I||null===(t=I.items)||void 0===t?void 0:t.find((t=>e.rects[0].id.includes(t.id)));if(r){const e=(0,l.clone)(r);A({...e,"@timestamp":i()(e["@timestamp"]),event:{end:e.event?i()(e.event.end):void 0,start:i()(e["@timestamp"])}}),S(!0),D(e)}}if(e.lines.length){var r;const t=null==I||null===(r=I.items)||void 0===r?void 0:r.find((t=>e.lines[0].id.includes(t.id)));if(t){const e=(0,l.clone)(t);A({...e,"@timestamp":i()(e["@timestamp"])}),D(e),S(!0)}}},wrapOnBrushEnd:e=>t=>{if(w){D(null);const{to:e,from:a}=function(e){var t,r;const[a,s]=[Number(null===(t=e.x)||void 0===t?void 0:t[0]),Number(null===(r=e.x)||void 0===r?void 0:r[1])],[n,o]=[i()(a).format(),i()(s).format()];return{from:n,to:o}}(t);A(c({slo:r,timestamp:i()(a),eventEnd:i()(e)})),S(!0)}else null==e||e(t)},createAnnotation:(e,t)=>{if(x)return;const a=isNaN(Number(e))?i()(e):i()(new Date(Number(e)));A(c({slo:r,timestamp:a,eventEnd:t?i()(new Date(Number(t))):void 0})),S(!0)},AddAnnotationButton:()=>(0,h.jsx)(s.Op,k,(0,h.jsx)($,null)),ObservabilityAnnotations:({tooltipSpecs:e,annotations:t})=>(0,h.jsx)(s.Op,k,(0,h.jsx)(d.Kq,{tooltipSpecs:e,annotations:t,slo:r,isCreateOpen:x,setIsCreateOpen:S}),(0,h.jsx)($,null))}}},7133:(e,t,r)=>{"use strict";r.d(t,{O:()=>u}),r(4286);var a=r(3059),s=r(1319),n=r(5008),i=r(6791);const o=n.i18n.translate("xpack.observability.customThreshold.rule.noDataValue",{defaultMessage:"No Data"}),l=n.i18n.translate("xpack.observability.customThreshold.rule.thresholdNoDataTitle",{defaultMessage:"Alert when"});function u({chartProps:{theme:e,baseTheme:t},comparator:r,id:u,threshold:c,title:d,value:p,valueFormatter:f=e=>String(e)}){const m=(0,s.useEuiBackgroundColor)("danger");return(0,i.jsx)(s.EuiPanel,{paddingSize:"none",style:{height:"170px",overflow:"hidden",position:"relative",minWidth:"100%"},hasShadow:!1,"data-test-subj":`threshold-${c.join("-")}-${p}`,grow:!1},(0,i.jsx)(a.Chart,null,(0,i.jsx)(a.Settings,{theme:e,baseTheme:t,locale:n.i18n.getLocale()}),(0,i.jsx)(a.Metric,{id:u,data:[[{title:d,extra:(0,i.jsx)("span",null,p?n.i18n.translate("xpack.observability.customThreshold.rule.thresholdExtraTitle",{values:{comparator:r,threshold:c.map((e=>f(e))).join(" - ")},defaultMessage:"Alert when {comparator} {threshold}"}):l),color:m,value:null!=p?p:o,valueFormatter:f,icon:({width:e,height:t,color:r})=>(0,i.jsx)(s.EuiIcon,{width:e,height:t,color:r,type:"alert"})}]]})))}},4023:(e,t,r)=>{"use strict";r.d(t,{D2:()=>s,Jz:()=>l,MN:()=>i,Or:()=>a,Y0:()=>o,eI:()=>n});const a="60s",s="YYYY-MM-DD HH:mm",n="alerts-page-alerts-table",i="related-alerts-table",o="rule-details-alerts-table",l="searchBarParams"},2043:(e,t,r)=>{"use strict";r.d(t,{R:()=>p,Y:()=>d});var a=r(4286),s=r(3e3),n=r(1493),i=r(151),o=r(409),l=r(9314),u=r(8626),c=r(6791);const d=(0,a.createContext)({});function p({children:e}){var t,r,p;const m=(0,n.useLocation)(),b=(0,n.useHistory)(),v=(0,a.useCallback)(((e,t=!1)=>{const r={...m,search:(0,l.fromQuery)({...(0,l.toQuery)(m.search),...e})};t?b.replace(r):b.push(r)}),[b,m]),[y,g]=(0,a.useState)(Date.now()),{data:h}=(0,o.useKibana)().services,_=h.query.timefilter.timefilter.getTimeDefaults(),x=h.query.timefilter.timefilter.getTime(),S=h.query.timefilter.timefilter.getRefreshIntervalDefaults(),k=h.query.timefilter.timefilter.getRefreshInterval(),{rangeFrom:T=(null!==(t=x.from)&&void 0!==t?t:_.from),rangeTo:A=(null!==(r=x.to)&&void 0!==r?r:_.to),refreshInterval:w=k.value||S.value||1e4,refreshPaused:O=(null!==(p=k.pause)&&void 0!==p?p:S.pause)}=(0,i.parse)(m.search,{sort:!1}),E=T,D=A,I=(0,a.useMemo)((()=>(0,u.x)(E)),[E,y]),R=(0,a.useMemo)((()=>(0,u.x)(D,{roundUp:!0})),[D,y]),L=(0,a.useCallback)((({start:e,end:t})=>{h.query.timefilter.timefilter.setTime({from:e,to:t}),v({rangeFrom:e,rangeTo:t}),g(Date.now())}),[h.query.timefilter.timefilter,v]),j=(0,a.useCallback)((({interval:e,isPaused:t})=>{v({refreshInterval:e,refreshPaused:t}),h.query.timefilter.timefilter.setRefreshInterval({value:e,pause:t}),g(Date.now())}),[h.query.timefilter.timefilter,v]);return(0,s.A)((()=>{v({rangeFrom:E,rangeTo:D},!0)})),(0,c.jsx)(d.Provider,{value:{relativeStart:E,relativeEnd:D,absoluteStart:I,absoluteEnd:R,refreshInterval:f(w),refreshPaused:(C=O,"boolean"==typeof C?C:"false"!==C),updateTimeRange:L,updateRefreshInterval:j,lastUpdated:y}},e);var C}function f(e){switch(typeof e){case"number":return e;case"string":return parseInt(e,10)||0;default:return 0}}},383:(e,t,r)=>{"use strict";r.d(t,{Tn:()=>n,u8:()=>s});const a={};function s({appName:e,fetchData:t,hasData:r}){a[e]={fetchData:t,hasData:r}}function n(e){const t=a[e];if(t)return t}},8968:(e,t,r)=>{"use strict";r.d(t,{W:()=>i});var a=r(4286),s=r(7195),n=r(3222);const i=()=>{const{uiSettings:e}=(0,n.o)().services;return(0,a.useMemo)((()=>new s.TimeBuckets({"histogram:maxBars":e.get(s.UI_SETTINGS.HISTOGRAM_MAX_BARS),"histogram:barTarget":e.get(s.UI_SETTINGS.HISTOGRAM_BAR_TARGET),dateFormat:e.get("dateFormat"),"dateFormat:scaled":e.get("dateFormat:scaled")})),[e])}},9314:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AutocompleteField:()=>le,DatePicker:()=>V,DatePickerContextProvider:()=>Y.R,LazyAlertsFlyout:()=>ve,ObservabilityAlertSearchBar:()=>$,RuleConditionChart:()=>fe,RuleFlyoutKueryBar:()=>ie,Threshold:()=>me.O,WithKueryAutocompletion:()=>ce,alertsLocatorID:()=>c.alertsLocatorID,apmEnableTableSearchBar:()=>R.vv,apmServiceGroupMaxNumberOfServices:()=>R.nf,buildEsQuery:()=>K.z,calculateTimeRangeBucketSize:()=>X.W,convertTo:()=>ee.bR,createObservabilityRuleTypeRegistryMock:()=>G,createUseRulesLink:()=>m,enableAgentExplorerView:()=>R.Pb,enableComparisonByDefault:()=>R.dt,enableInspectEsQueries:()=>R.IG,enableLegacyUptimeApp:()=>R.ye,formatAlertEvaluationValue:()=>se,fromQuery:()=>J.z,getAlertSummaryTimeRange:()=>Z.TL,getApmTraceUrl:()=>Q,getCoreVitalsComponent:()=>C,getGroupFilters:()=>S.dO,observabilityAppId:()=>c.observabilityAppId,observabilityFeatureId:()=>c.observabilityFeatureId,plugin:()=>be,ruleDetailsLocatorID:()=>c.ruleDetailsLocatorID,rulesLocatorID:()=>c.rulesLocatorID,sloDetailsLocatorID:()=>c.sloDetailsLocatorID,sloEditLocatorID:()=>c.sloEditLocatorID,syntheticsThrottlingEnabled:()=>R.bM,toQuery:()=>J.Q,uptimeOverviewLocatorID:()=>c.uptimeOverviewLocatorID,useAnnotations:()=>de.w,useFetchDataViews:()=>q,useSummaryTimeRange:()=>W,useTimeBuckets:()=>N.W});var a=r(4286),s=r(8915),n=r(9118),i=r(4390),o=r(1050),l=r(5008),u=r(190),c=r(8223),d=r(9488),p=r(383),f=r(6808);const m=()=>(e={})=>(0,f.useLinkProps)({app:"observability",pathname:"/alerts/rules"},e);var b=r(1215),v=r(7404),y=r(4372);class RuleDetailsLocatorDefinition{constructor(){(0,s.default)(this,"id",c.ruleDetailsLocatorID),(0,s.default)(this,"getLocation",(async e=>{const{ruleId:t,kuery:r,rangeTo:a,tabId:s,rangeFrom:n,status:i}=e,o={};o.rangeFrom=n||"now-15m",o.rangeTo=a||"now",o.kuery=r||"",o.status=i||v.m$.status;let l=(e=>`${d.MU}/${encodeURIComponent(e)}`)(t);return s===y.or?(l=`${l}?tabId=${s}`,l=(0,b.setStateToKbnUrl)(y.X3,o,{useHash:!1,storeInHashQuery:!1},l)):s===y.TO&&(l=`${l}?tabId=${s}`),{app:"observability",path:l,state:{}}}))}}class RulesLocatorDefinition{constructor(){(0,s.default)(this,"id",c.rulesLocatorID),(0,s.default)(this,"getLocation",(async({lastResponse:e=[],params:t={},search:r="",status:a=[],type:s=[]})=>({app:"observability",path:(0,b.setStateToKbnUrl)("_a",{lastResponse:e,params:t,search:r,status:a,type:s},{useHash:!1,storeInHashQuery:!1},d.MU),state:{}})))}}var g=r(9397),h=r(1753),_=r(9219),x=r(6655),S=r(2445),k=r(7195),T=r(5964),A=r(770),w=r(8786);const O=/[^A-Z|+|\-|\s|\d+|\.|\(|\)|\/|\*|>|<|=|\?|\:|&|\!|\|]+/g,E=e=>"number"==typeof e,D=l.i18n.translate("xpack.observability.customThreshold.rule.alerting.threshold.defaultActionMessage",{defaultMessage:"'{{context.reason}}'\n\n'{{rule.name}}' is active.\n\n[View alert details]('{{context.alertDetailsUrl}}')\n"}),I=l.i18n.translate("xpack.observability.customThreshold.rule.alerting.threshold.defaultRecoveryMessage",{defaultMessage:"Recovered: '{{context.reason}}'\n    \n    '{{rule.name}}' has recovered.\n\n[View alert details]('{{context.alertDetailsUrl}}')\n"});class Plugin{lazyRegisterAlertsTableConfiguration(){return Promise.all([r.e(94),r.e(456),r.e(874)]).then(r.bind(r,9874))}constructor(e){(0,s.default)(this,"appUpdater$",new u.BehaviorSubject((()=>({})))),(0,s.default)(this,"observabilityRuleTypeRegistry",{}),(0,s.default)(this,"deepLinks",[{id:"alerts",title:l.i18n.translate("xpack.observability.alertsLinkTitle",{defaultMessage:"Alerts"}),order:8001,path:d.C4,visibleIn:[],deepLinks:[{id:"rules",title:l.i18n.translate("xpack.observability.rulesLinkTitle",{defaultMessage:"Rules"}),path:d.MU,visibleIn:[]}]},(0,n.getCasesDeepLinks)({basePath:d.Mv,extend:{[n.CasesDeepLinkId.cases]:{order:8003,visibleIn:[]},[n.CasesDeepLinkId.casesCreate]:{visibleIn:[]},[n.CasesDeepLinkId.casesConfigure]:{visibleIn:[]}}})]),this.initContext=e}setup(e,t){const s=i.DEFAULT_APP_CATEGORIES.observability,n=this.initContext.config.get(),f=this.initContext.env.packageInfo.version;this.observabilityRuleTypeRegistry=function(e){const t=[];return{register:r=>{const{format:a,priority:s,...n}=r;t.push({typeId:r.id,priority:s||0,fn:a}),e.register(n)},getFormatter:e=>{var r;return null===(r=t.find((t=>t.typeId===e)))||void 0===r?void 0:r.fn},list:()=>t.sort(((e,t)=>t.priority-e.priority)).map((e=>e.typeId))}}(t.triggersActionsUi.ruleTypeRegistry);const b=t.share.url.locators.create(new RulesLocatorDefinition),v=t.share.url.locators.create(new RuleDetailsLocatorDefinition),y=t.share.url.locators.get(o.DISCOVER_APP_LOCATOR),R=this.appUpdater$,L={appRoute:d.Qp,category:s,deepLinks:this.deepLinks,euiIconType:"logoObservability",id:c.observabilityAppId,mount:async a=>{const{renderApp:s}=await Promise.all([r.e(94),r.e(456),r.e(817),r.e(396)]).then(r.bind(r,7396)),[i,o]=await e.getStartServices(),{ruleTypeRegistry:l,actionTypeRegistry:u}=o.triggersActionsUi;return s({appMountParameters:a,config:n,core:i,isDev:this.initContext.env.mode.dev,kibanaVersion:f,observabilityRuleTypeRegistry:this.observabilityRuleTypeRegistry,ObservabilityPageTemplate:o.observabilityShared.navigation.PageTemplate,plugins:{...o,ruleTypeRegistry:l,actionTypeRegistry:u},usageCollection:t.usageCollection,isServerless:!!o.serverless})},order:8e3,title:l.i18n.translate("xpack.observability.overviewLinkTitle",{defaultMessage:"Overview"}),updater$:R,keywords:["observability","monitor","logs","metrics","apm","slo","performance","trace","agent","rum","user","experience"],visibleIn:Boolean(t.serverless)?["home","kibanaOverview"]:["globalSearch","home","kibanaOverview","sideNav"]};return e.application.register(L),((e,t,s)=>{e.register({id:g.wE,description:l.i18n.translate("xpack.observability.customThreshold.rule.alertFlyout.alertDescription",{defaultMessage:"Alert when any Observability data type reaches or exceeds a given value."}),iconClass:"bell",documentationUrl:e=>`${e.links.observability.customThreshold}`,ruleParamsExpression:(0,a.lazy)((()=>Promise.all([r.e(537),r.e(534),r.e(9)]).then(r.bind(r,1009)))),validate:({criteria:e,searchConfiguration:r})=>function({criteria:e,searchConfiguration:t,uiSettings:r}){const a={errors:{}},s={};if(a.errors=s,t&&t.index||(s.searchConfiguration=[l.i18n.translate("xpack.observability.customThreshold.rule.alertFlyout.error.invalidSearchConfiguration",{defaultMessage:"Data view is required."})]),t&&t.query)try{(0,T.buildEsQuery)(void 0,[{query:t.query.query,language:"kuery"}],[],(0,k.getEsQueryConfig)(r))}catch(e){const t=e.shortMessage||"";s.filterQuery=[l.i18n.translate("xpack.observability.customThreshold.rule.alertFlyout.error.invalidFilterQuery",{values:{errorReason:t},defaultMessage:"Filter query is invalid. {errorReason}"})]}return e&&e.length?(e.forEach(((e,t)=>{const r=t.toString();s[r]=s[r]||{aggField:[],timeSizeUnit:[],timeWindowSize:[],critical:{threshold0:[],threshold1:[]},metric:[],metrics:{}},e.threshold&&e.threshold.length||s[r].critical.threshold0.push(l.i18n.translate("xpack.observability.customThreshold.rule.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."}));const{comparator:a,threshold:n}={comparator:e.comparator,threshold:e.threshold};n&&n.length&&![...n].every(E)&&[...n].forEach(((e,t)=>{if(!E(e)){const e=0===t?"threshold0":"threshold1";s[r].critical[e].push(l.i18n.translate("xpack.observability.customThreshold.rule.alertFlyout.error.thresholdTypeRequired",{defaultMessage:"Thresholds must contain a valid number."}))}})),a===w.o.BETWEEN&&(!n||n.length<2)&&s[r].critical.threshold1.push(l.i18n.translate("xpack.observability.customThreshold.rule.alertFlyout.error.thresholdRequired",{defaultMessage:"Threshold is required."})),e.timeSize||s[r].timeWindowSize.push(l.i18n.translate("xpack.observability.customThreshold.rule.alertFlyout.error.timeRequred",{defaultMessage:"Time size is Required."})),!e.metrics||e.metrics&&e.metrics.length<1?s[r].metricsError=l.i18n.translate("xpack.observability.customThreshold.rule.alertFlyout.error.metricsError",{defaultMessage:"You must define at least 1 custom metric"}):e.metrics.forEach((e=>{const t={};if(e.aggType||(t.aggType=l.i18n.translate("xpack.observability.customThreshold.rule.alertFlyout.error.metrics.aggTypeRequired",{defaultMessage:"Aggregation is required"})),"count"===e.aggType||e.field||(t.field=l.i18n.translate("xpack.observability.customThreshold.rule.alertFlyout.error.metrics.fieldRequired",{defaultMessage:"Field is required"})),"count"===e.aggType&&e.filter)try{(0,T.fromKueryExpression)(e.filter)}catch(e){t.filter=e.message}(0,A.isEmpty)(t)||(s[r].metrics[e.name]=t)})),e.equation&&e.equation.match(O)&&(s[r].equation=l.i18n.translate("xpack.observability.customThreshold.rule.alertFlyout.error.equation.invalidCharacters",{defaultMessage:"The equation field only supports the following characters: A-Z, +, -, /, *, (, ), ?, !, &, :, |, >, <, ="}))})),a):a}({criteria:e,searchConfiguration:r,uiSettings:t}),defaultActionMessage:D,defaultRecoveryMessage:I,requiresAppContext:!1,format:({fields:e})=>{var t,r,a;const n=(0,S.f)(e[h.c6],e[h.XA]),i=null===(t=e[_.ZQ])||void 0===t?void 0:t.searchConfiguration,o=null===(r=e[_.ZQ])||void 0===r?void 0:r.criteria,l=1===o.length?o[0].metrics:[],u=(e=>{var t;return"string"==typeof(null==e?void 0:e.index)?e.index:null==e||null===(t=e.index)||void 0===t?void 0:t.title})(i);return{reason:null!==(a=e[_.at])&&void 0!==a?a:"-",link:(0,x.T)({dataViewId:u,groups:n,logsLocator:s,metrics:l,searchConfiguration:i,startedAt:e[_.Kp]}),hasBasePath:!0}},alertDetailsAppSection:(0,a.lazy)((()=>Promise.all([r.e(534),r.e(616)]).then(r.bind(r,1616)))),priority:110})})(this.observabilityRuleTypeRegistry,e.uiSettings,y),t.home&&t.home.featureCatalogue.registerSolution({id:c.observabilityFeatureId,title:l.i18n.translate("xpack.observability.featureCatalogueTitle",{defaultMessage:"Observability"}),description:l.i18n.translate("xpack.observability.featureCatalogueDescription",{defaultMessage:"Consolidate your logs, metrics, application traces, and system availability with purpose-built UIs."}),icon:"logoObservability",path:`${d.Qp}/`,order:200,isVisible:e=>{const t=e.catalogue[c.observabilityFeatureId],r=e.catalogue.uptime,a=e.catalogue.infra,s=e.catalogue.apm;return t||r||a||s}}),t.observabilityShared.navigation.registerSections((0,u.from)(R).pipe((0,u.mergeMap)((r=>(0,u.from)(e.getStartServices()).pipe((0,u.map)((([e,a])=>{var s,n,i,o;const u=null!==(s=null===(n=r(L))||void 0===n?void 0:n.deepLinks)&&void 0!==s?s:[],p=Boolean(t.serverless)?[]:[{label:l.i18n.translate("xpack.observability.overviewLinkTitle",{defaultMessage:"Overview"}),app:c.observabilityAppId,path:d.gB}],f=(null===(i=a.observabilityAIAssistant)||void 0===i?void 0:i.service.isEnabled())&&!Boolean(t.serverless)&&Boolean(t.observabilityAIAssistant)?[{label:l.i18n.translate("xpack.observability.aiAssistantLinkTitle",{defaultMessage:"AI Assistant"}),app:"observabilityAIAssistant",path:"/conversations/new"}]:[],m=null!==(o=e.application.capabilities.slo)&&void 0!==o&&o.read?[{label:l.i18n.translate("xpack.observability.sloLinkTitle",{defaultMessage:"SLOs"}),app:"slo",path:""}]:[],b=u.filter((e=>{var t;return(null!==(t=e.visibleIn)&&void 0!==t?t:[]).length>0}));return[{label:"",sortKey:100,entries:[...p,...b.filter((e=>"alerts"===e.id)).map((e=>{var t;return{app:c.observabilityAppId,label:e.title,path:null!==(t=e.path)&&void 0!==t?t:""}})),...m,...b.filter((e=>"cases"===e.id)).map((e=>{var t;return{app:c.observabilityAppId,label:e.title,path:null!==(t=e.path)&&void 0!==t?t:""}})),...f]}]}))))))),{dashboard:{register:p.u8},observabilityRuleTypeRegistry:this.observabilityRuleTypeRegistry,useRulesLink:m(),rulesLocator:b,ruleDetailsLocator:v,config:n}}start(e,t){const{application:a,http:s,notifications:n}=e,{dataViews:i,triggersActionsUi:o}=t,l=this.initContext.config.get(),{alertsTableConfigurationRegistry:u}=o;return this.lazyRegisterAlertsTableConfiguration().then((({registerAlertsTableConfiguration:e})=>e(u,this.observabilityRuleTypeRegistry,l,i,s,n))),t.observabilityShared.updateGlobalNavigation({capabilities:a.capabilities,deepLinks:this.deepLinks,updater$:this.appUpdater$}),r.e(665).then(r.bind(r,665)).then((({createDefinition:e})=>t.navigation.addSolutionNavigation(e(t)))),{config:l,observabilityRuleTypeRegistry:this.observabilityRuleTypeRegistry,useRulesLink:m()}}}var R=r(1463),L=r(6791);const j=(0,a.lazy)((()=>r.e(501).then(r.bind(r,4501))));function C(e){return(0,L.jsx)(a.Suspense,{fallback:null},(0,L.jsx)(j,e))}var M=r(1319);const F=(0,a.lazy)((()=>r.e(223).then(r.bind(r,1223))));function $(e){return(0,L.jsx)(a.Suspense,{fallback:(0,L.jsx)(M.EuiLoadingSpinner,null)},(0,L.jsx)(F,e))}const P=(0,a.lazy)((()=>r.e(447).then(r.bind(r,447))));function V(e){return(0,L.jsx)(a.Suspense,{fallback:null},(0,L.jsx)(P,e))}var U=r(3530),B=r(3222);function q(){const{dataViews:e}=(0,B.o)().services,{isLoading:t,isError:r,isSuccess:a,data:s,refetch:n}=(0,U.useQuery)({queryKey:["fetchDataViewsList"],queryFn:async()=>e.getIdsWithTitle(),retry:!1,keepPreviousData:!0,refetchOnWindowFocus:!1});return{isLoading:t,isError:r,isSuccess:a,data:s,refetch:n}}var N=r(8968),z=r(409),H=r(4023);const W=e=>{var t,r,s;const n=(0,N.W)(),i=(0,z.useUiSetting)("dateFormat"),o=(0,a.useMemo)((()=>(0,X.W)(e,n)),[e,n]);return(0,Z.TL)(e,null!==(t=null==o?void 0:o.intervalString)&&void 0!==t?t:H.Or,null!==(r=null!==(s=null==o?void 0:o.dateFormat)&&void 0!==s?s:i)&&void 0!==r?r:H.D2)};function Q({traceId:e,rangeFrom:t,rangeTo:r}){return`/link-to/trace/${e}?`+new URLSearchParams({rangeFrom:t,rangeTo:r}).toString()}var K=r(2369);const G=()=>({getFormatter:()=>()=>"a reason",registerFormatter:()=>{},list:()=>["ruleType1","ruleType2"]});var Y=r(2043),J=r(5593),Z=r(602),X=r(3262),ee=r(7968),te=r(7525);const re="DURATION",ae="PERCENT",se=(e,t)=>{if(null==t||!e)return"-";const r=(e=>{switch(e){case"apm.transaction_duration":return re;case"apm.transaction_error_rate":return ae;default:return"NUMBER"}})(e);switch(r){case re:return(0,te.Qy)(t);case ae:return(0,te.wG)(t,100);default:return t}},ne=(0,a.lazy)((()=>Promise.all([r.e(537),r.e(981)]).then(r.bind(r,3981))));function ie(e){return(0,L.jsx)(a.Suspense,{fallback:null},(0,L.jsx)(ne,e))}const oe=(0,a.lazy)((()=>r.e(537).then(r.bind(r,7537))));function le(e){return(0,L.jsx)(a.Suspense,{fallback:null},(0,L.jsx)(oe,e))}const ue=(0,a.lazy)((()=>r.e(757).then(r.bind(r,3757))));function ce(e){return(0,L.jsx)(a.Suspense,{fallback:null},(0,L.jsx)(ue,e))}var de=r(888);const pe=(0,a.lazy)((()=>r.e(534).then(r.bind(r,534))));function fe(e){return(0,L.jsx)(a.Suspense,{fallback:null},(0,L.jsx)(pe,e))}var me=r(7133);const be=e=>new Plugin(e),ve=(0,a.lazy)((()=>Promise.all([r.e(94),r.e(456),r.e(732)]).then(r.bind(r,8732))))},3262:(e,t,r)=>{"use strict";r.d(t,{K:()=>f,W:()=>m});var a=r(8626),s=r(1783),n=r.n(s);const i=n().duration,o=[[i(500,"ms"),i(100,"ms")],[i(5,"second"),i(1,"second")],[i(7.5,"second"),i(5,"second")],[i(15,"second"),i(10,"second")],[i(45,"second"),i(30,"second")],[i(3,"minute"),i(1,"minute")],[i(9,"minute"),i(5,"minute")],[i(20,"minute"),i(10,"minute")],[i(45,"minute"),i(30,"minute")],[i(2,"hour"),i(1,"hour")],[i(6,"hour"),i(3,"hour")],[i(24,"hour"),i(12,"hour")],[i(1,"week"),i(1,"d")],[i(3,"week"),i(1,"week")],[i(1,"year"),i(1,"month")],[1/0,i(1,"year")]].slice(0).reverse();function l(e,t,r){return(a,s)=>{const i=function(a,s){const i=s/a;let o=null;for(let a=0;a<e.length;a++){const s=e[a],n=t(s[0],s[1],i);if(null==n){if(!r)continue;if(o)return o;break}if(!r)return n;o=n}const l=Math.max(Math.floor(i),1);return n().duration(l,"ms")}(a,s);if(i)return n().duration(i._data)}}const u={near:l(o,(function(e,t,r){if(e>r)return t}),!0),lessThan:l(o,(function(e,t,r){if(t<r)return t})),atLeast:l(o,(function(e,t,r){if(t<=r)return t}))};function c(e,t){return n().duration(e,t).asSeconds()}const d={ms:c(1,"millisecond"),s:c(1,"second"),m:c(1,"minute"),h:c(1,"hour"),d:c(1,"day"),w:c(1,"week"),M:c(1,"month"),y:c(1,"year")};var p=r(4023);function f({start:e,end:t,timeBuckets:r}){if(e&&t){const{bucketSize:a,intervalString:s}=function({start:e,end:t,minInterval:r,buckets:a=100}){var s,i;const o=n().duration(t-e,"ms"),l=Math.max(null!==(s=null===(i=u.near(a,o))||void 0===i?void 0:i.asSeconds())&&void 0!==s?s:0,1),c=`${l}s`,p=r&&r.match(/^([\d]+)([shmdwMy]|ms)$/),f=p?Number(p[1])*(m=p[2],d[m]):0;var m;return l<f?{bucketSize:f,intervalString:r}:{bucketSize:l,intervalString:c}}({start:e,end:t,minInterval:p.Or});return r.setInterval(s),{bucketSize:a,intervalString:s,dateFormat:r.getScaledDateFormat()}}}function m({from:e,to:t},r){return f({start:(0,a.x)(e),end:(0,a.x)(t,{roundUp:!0}),timeBuckets:r})}},4372:(e,t,r)=>{"use strict";r.d(t,{G7:()=>n,Qh:()=>o,TO:()=>a,X3:()=>i,nD:()=>l,or:()=>s});const a="execution",s="alerts",n="tabId",i="searchBarParams",o="rule-details-alerts-o11y",l="rule-details-alerts-search-bar-o11y"},602:(e,t,r)=>{"use strict";r.d(t,{uq:()=>a,TL:()=>l,_I:()=>o});const a={from:"now-30d",to:"now"};r(4286);var s=r(7195),n=r(5879),i=r(6791);const o=()=>{const{to:e,from:t}=(0,s.getAbsoluteTimeRange)(a);return{utcFrom:t,utcTo:e,fixedInterval:"1d",title:(0,i.jsx)(n.FormattedMessage,{id:"xpack.observability.alertsSummaryWidget.last30days",defaultMessage:"Last 30 days"})}},l=(e,t,r)=>{const{to:a,from:n}=(0,s.getAbsoluteTimeRange)(e);return{utcFrom:n,utcTo:a,fixedInterval:t,dateFormat:r}}},2369:(e,t,r)=>{"use strict";r.d(t,{z:()=>i});var a=r(5964),s=r(9219),n=r(7195);function i({timeRange:e,kuery:t,config:r={},queries:i=[],filters:o=[]}){const l=e&&(0,n.getTime)(void 0,e,{fieldName:s.Ry}),u=l?[l,...o]:o,c=[...t?[{query:t,language:"kuery"}]:[],...i];return(0,a.buildEsQuery)(void 0,c,u,r)}},8626:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});var a=r(6494),s=r.n(a);function n(e,t={}){const r=s().parse(e,t);if(r)return r.valueOf()}},3222:(e,t,r)=>{"use strict";r.d(t,{o:()=>s});var a=r(409);const s=()=>(0,a.useKibana)()},5593:(e,t,r)=>{"use strict";r.d(t,{Q:()=>n,z:()=>i});var a=r(151),s=r(1215);function n(e){return e?(0,a.parse)(e.slice(1),{sort:!1}):{}}function i(e){const t=s.url.encodeQuery(e,(e=>encodeURIComponent(e).replace(/%3A/g,":")));return(0,a.stringify)(t,{sort:!1,encode:!1})}},6214:e=>{"use strict";var t="%[a-f0-9]{2}",r=new RegExp("("+t+")|([^%]+?)","gi"),a=new RegExp("("+t+")+","gi");function s(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),a=e.slice(t);return Array.prototype.concat.call([],s(r),s(a))}function n(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(r)||[],a=1;a<t.length;a++)t=(e=s(t,a).join("")).match(r)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=a.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var s=n(r[0]);s!==r[0]&&(t[r[0]]=s)}r=a.exec(e)}t["%C2"]="�";for(var i=Object.keys(t),o=0;o<i.length;o++){var l=i[o];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},1510:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var a,s,n;if(Array.isArray(t)){if((a=t.length)!=r.length)return!1;for(s=a;0!=s--;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((a=(n=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(s=a;0!=s--;)if(!Object.prototype.hasOwnProperty.call(r,n[s]))return!1;for(s=a;0!=s--;){var i=n[s];if(!("_owner"===i&&t.$$typeof||e(t[i],r[i])))return!1}return!0}return t!=t&&r!=r}},151:(e,t,r)=>{"use strict";const a=r(8136),s=r(6214),n=r(1536);function i(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function l(e,t){return t.decode?s(e):e}function u(e){return Array.isArray(e)?e.sort():"object"==typeof e?u(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){i((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,a)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===a[e]&&(a[e]={}),a[e][t[1]]=r):a[e]=r};case"bracket":return(e,r,a)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==a[e]?a[e]=[].concat(a[e],r):a[e]=[r]:a[e]=r};case"comma":case"separator":return(t,r,a)=>{const s="string"==typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===r?r:l(r,e);a[t]=s};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),a=Object.create(null);if("string"!=typeof e)return a;if(!(e=e.trim().replace(/^[?#&]/,"")))return a;for(const s of e.split("&")){let[e,i]=n(t.decode?s.replace(/\+/g," "):s,"=");i=void 0===i?null:["comma","separator"].includes(t.arrayFormat)?i:l(i,t),r(l(e,t),i,a)}for(const e of Object.keys(a)){const r=a[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=p(r[e],t);else a[e]=p(r,t)}return!1===t.sort?a:(!0===t.sort?Object.keys(a).sort():Object.keys(a).sort(t.sort)).reduce(((e,t)=>{const r=a[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=u(r):e[t]=r,e}),Object.create(null))}t.extract=d,t.parse=f,t.stringify=(e,t)=>{if(!e)return"";i((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],a=function(e){switch(e.arrayFormat){case"index":return t=>(r,a)=>{const s=r.length;return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?r:null===a?[...r,[o(t,e),"[",s,"]"].join("")]:[...r,[o(t,e),"[",o(s,e),"]=",o(a,e)].join("")]};case"bracket":return t=>(r,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?r:null===a?[...r,[o(t,e),"[]"].join("")]:[...r,[o(t,e),"[]=",o(a,e)].join("")];case"comma":case"separator":return t=>(r,a)=>null==a||0===a.length?r:0===r.length?[[o(t,e),"=",o(a,e)].join("")]:[[r,o(a,e)].join(e.arrayFormatSeparator)];default:return t=>(r,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?r:null===a?[...r,o(t,e)]:[...r,[o(t,e),"=",o(a,e)].join("")]}}(t),s={};for(const t of Object.keys(e))r(t)||(s[t]=e[t]);const n=Object.keys(s);return!1!==t.sort&&n.sort(t.sort),n.map((r=>{const s=e[r];return void 0===s?"":null===s?o(r,t):Array.isArray(s)?s.reduce(a(r),[]).join("&"):o(r,t)+"="+o(s,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,a]=n(e,"#");return Object.assign({url:r.split("?")[0]||"",query:f(d(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:l(a,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0},r);const a=c(e.url).split("?")[0]||"",s=t.extract(e.url),n=t.parse(s,{sort:!1}),i=Object.assign(n,e.query);let l=t.stringify(i,r);l&&(l=`?${l}`);let u=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(u=`#${o(e.fragmentIdentifier,r)}`),`${a}${l}${u}`}},1357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(4286);t.default=function(e){a.useEffect(e,[])}},8793:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(4286),s=r(4756).isClient?window:null,n=function(e){return!!e.addEventListener},i=function(e){return!!e.on};t.default=function(e,t,r,o){void 0===r&&(r=s),a.useEffect((function(){if(t&&r)return n(r)?r.addEventListener(e,t,o):i(r)&&r.on(e,t,o),function(){n(r)?r.removeEventListener(e,t,o):i(r)&&r.off(e,t,o)}}),[e,t,r,JSON.stringify(o)])}},6943:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(4286),s="undefined"!=typeof window?a.useLayoutEffect:a.useEffect;t.default=s},130:(e,t,r)=>{"use strict";var a=r(1941),s=r(4286),n=a.__importDefault(r(8793)),i=function(){};t.A=function(e,t,r,a){void 0===t&&(t=i),void 0===r&&(r={}),void 0===a&&(a=[e]);var o=r.event,l=void 0===o?"keydown":o,u=r.target,c=r.options,d=s.useMemo((function(){var r,a="function"==typeof(r=e)?r:"string"==typeof r?function(e){return e.key===r}:r?function(){return!0}:function(){return!1};return function(e){if(a(e))return t(e)}}),a);n.default(l,d,u,c)}},3e3:(e,t,r)=>{"use strict";var a=r(1941).__importDefault(r(1357));t.A=function(e){a.default((function(){e()}))}},7880:(e,t,r)=>{"use strict";var a=r(1941),s=r(4286),n=a.__importDefault(r(6943));t.A=function(e,t){var r=s.useState(t),a=r[0],i=r[1];return n.default((function(){var t=e.subscribe(i);return function(){return t.unsubscribe()}}),[e]),a}},4756:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var a=r(1941).__importDefault(r(1510));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.removeEventListener.apply(e,t)},t.isDeepEqual=a.default},1536:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},8136:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},4982:(e,t,r)=>{r.p=window.__kbnPublicPath__.observability},511:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/aiops/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},2109:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/alerting/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},450:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/cases/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},9118:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/cases/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},4390:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},7195:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},4627:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},1050:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/discover/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},2137:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},409:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},1359:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},1215:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},6764:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/logsShared/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},3780:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/observabilityShared/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},6808:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/observabilityShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},1254:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/spaces/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},7595:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/stackAlerts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},3073:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/triggersActionsUi/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},1684:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},3185:(e,t,r)=>{e.exports=r(2497)(51858)},8915:(e,t,r)=>{e.exports=r(2497)(67493)},3059:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticCharts},1319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},6752:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticNumeral},6791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},3782:e=>{"use strict";e.exports=__kbnSharedDeps__.IoTs},6744:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnAnalytics},6494:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnDatemath},1192:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnEbtTools},5964:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnEsQuery},5008:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},5879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},482:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnReactKibanaContextRender},3999:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnReactKibanaContextTheme},193:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnSharedUxRouter},9433:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnStd},3803:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnUiTheme},770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},1060:e=>{"use strict";e.exports=__kbnSharedDeps__.LodashFp},1783:e=>{"use strict";e.exports=__kbnSharedDeps__.Moment},4286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},2874:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactDom},3530:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactQuery},5692:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactQueryDevtools},1493:e=>{"use strict";e.exports=__kbnSharedDeps__.ReactRouterDom},190:e=>{"use strict";e.exports=__kbnSharedDeps__.Rxjs},6768:e=>{"use strict";e.exports=__kbnSharedDeps__.StyledComponents},1941:e=>{"use strict";e.exports=__kbnSharedDeps__.TsLib},9472:e=>{"use strict";e.exports=__kbnSharedDeps__.Uuid},2497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__},6763:(e,t,r)=>{"use strict";r.d(t,{Op:()=>k,mN:()=>ke,xI:()=>M,xW:()=>S});var a=r(4286),s=e=>"checkbox"===e.type,n=e=>e instanceof Date,i=e=>null==e;const o=e=>"object"==typeof e;var l=e=>!i(e)&&!Array.isArray(e)&&o(e)&&!n(e),u=e=>l(e)&&e.target?s(e.target)?e.target.checked:e.target.value:e,c=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),d=e=>{const t=e.constructor&&e.constructor.prototype;return l(t)&&t.hasOwnProperty("isPrototypeOf")},p="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function f(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(p&&(e instanceof Blob||e instanceof FileList)||!r&&!l(e))return e;if(t=r?[]:{},r||d(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=f(e[r]));else t=e}return t}var m=e=>Array.isArray(e)?e.filter(Boolean):[],b=e=>void 0===e,v=(e,t,r)=>{if(!t||!l(e))return r;const a=m(t.split(/[,[\].]+?/)).reduce(((e,t)=>i(e)?e:e[t]),e);return b(a)||a===e?b(e[t])?r:e[t]:a};const y={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},g={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},h="pattern",_="required",x=a.createContext(null),S=()=>a.useContext(x),k=e=>{const{children:t,...r}=e;return a.createElement(x.Provider,{value:r},t)};var T=(e,t,r,a=!0)=>{const s={defaultValues:t._defaultValues};for(const n in e)Object.defineProperty(s,n,{get:()=>{const s=n;return t._proxyFormState[s]!==g.all&&(t._proxyFormState[s]=!a||g.all),r&&(r[s]=!0),e[s]}});return s},A=e=>l(e)&&!Object.keys(e).length,w=(e,t,r,a)=>{r(e);const{name:s,...n}=e;return A(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find((e=>t[e]===(!a||g.all)))},O=e=>Array.isArray(e)?e:[e],E=(e,t,r)=>r&&t?e===t:!e||!t||e===t||O(e).some((e=>e&&(e.startsWith(t)||t.startsWith(e))));function D(e){const t=a.useRef(e);t.current=e,a.useEffect((()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}}),[e.disabled])}var I=e=>"string"==typeof e,R=(e,t,r,a,s)=>I(e)?(a&&t.watch.add(e),v(r,e,s)):Array.isArray(e)?e.map((e=>(a&&t.watch.add(e),v(r,e)))):(a&&(t.watchAll=!0),r),L=e=>/^\w*$/.test(e),j=e=>m(e.replace(/["|']|\]/g,"").split(/\.|\[/));function C(e,t,r){let a=-1;const s=L(t)?[t]:j(t),n=s.length,i=n-1;for(;++a<n;){const t=s[a];let n=r;if(a!==i){const r=e[t];n=l(r)||Array.isArray(r)?r:isNaN(+s[a+1])?{}:[]}e[t]=n,e=e[t]}return e}const M=e=>e.render(function(e){const t=S(),{name:r,control:s=t.control,shouldUnregister:n}=e,i=c(s._names.array,r),o=function(e){const t=S(),{control:r=t.control,name:s,defaultValue:n,disabled:i,exact:o}=e||{},l=a.useRef(s);l.current=s,D({disabled:i,subject:r._subjects.values,next:e=>{E(l.current,e.name,o)&&c(f(R(l.current,r._names,e.values||r._formValues,!1,n)))}});const[u,c]=a.useState(r._getWatch(s,n));return a.useEffect((()=>r._removeUnmounted())),u}({control:s,name:r,defaultValue:v(s._formValues,r,v(s._defaultValues,r,e.defaultValue)),exact:!0}),l=function(e){const t=S(),{control:r=t.control,disabled:s,name:n,exact:i}=e||{},[o,l]=a.useState(r._formState),u=a.useRef(!0),c=a.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=a.useRef(n);return d.current=n,D({disabled:s,next:e=>u.current&&E(d.current,e.name,i)&&w(e,c.current,r._updateFormState)&&l({...r._formState,...e}),subject:r._subjects.state}),a.useEffect((()=>(u.current=!0,c.current.isValid&&r._updateValid(!0),()=>{u.current=!1})),[r]),T(o,r,c.current,!1)}({control:s,name:r}),d=a.useRef(s.register(r,{...e.rules,value:o}));return d.current=s.register(r,e.rules),a.useEffect((()=>{const e=s._options.shouldUnregister||n,t=(e,t)=>{const r=v(s._fields,e);r&&(r._f.mount=t)};if(t(r,!0),e){const e=f(v(s._options.defaultValues,r));C(s._defaultValues,r,e),b(v(s._formValues,r))&&C(s._formValues,r,e)}return()=>{(i?e&&!s._state.action:e)?s.unregister(r):t(r,!1)}}),[r,s,i,n]),{field:{name:r,value:o,onChange:a.useCallback((e=>d.current.onChange({target:{value:u(e),name:r},type:y.CHANGE})),[r]),onBlur:a.useCallback((()=>d.current.onBlur({target:{value:v(s._formValues,r),name:r},type:y.BLUR})),[r,s]),ref:e=>{const t=v(s._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!v(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!v(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!v(l.touchedFields,r)},error:{enumerable:!0,get:()=>v(l.errors,r)}})}}(e));var F=(e,t,r,a,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:s||!0}}:{};const $=(e,t,r)=>{for(const a of r||Object.keys(e)){const r=v(e,a);if(r){const{_f:e,...a}=r;if(e&&t(e.name)){if(e.ref.focus){e.ref.focus();break}if(e.refs&&e.refs[0].focus){e.refs[0].focus();break}}else l(a)&&$(a,t)}}};var P=e=>({isOnSubmit:!e||e===g.onSubmit,isOnBlur:e===g.onBlur,isOnChange:e===g.onChange,isOnAll:e===g.all,isOnTouch:e===g.onTouched}),V=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))))),U=(e,t,r)=>{const a=m(v(e,r));return C(a,"root",t[r]),C(e,r,a),e},B=e=>"boolean"==typeof e,q=e=>"file"===e.type,N=e=>"function"==typeof e,z=e=>{if(!p)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},H=e=>I(e),W=e=>"radio"===e.type,Q=e=>e instanceof RegExp;const K={value:!1,isValid:!1},G={value:!0,isValid:!0};var Y=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!b(e[0].attributes.value)?b(e[0].value)||""===e[0].value?G:{value:e[0].value,isValid:!0}:G:K}return K};const J={isValid:!1,value:null};var Z=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),J):J;function X(e,t,r="validate"){if(H(e)||Array.isArray(e)&&e.every(H)||B(e)&&!e)return{type:r,message:H(e)?e:"",ref:t}}var ee=e=>l(e)&&!Q(e)?e:{value:e,message:""},te=async(e,t,r,a,n)=>{const{ref:o,refs:u,required:c,maxLength:d,minLength:p,min:f,max:m,pattern:y,validate:g,name:x,valueAsNumber:S,mount:k,disabled:T}=e._f,w=v(t,x);if(!k||T)return{};const O=u?u[0]:o,E=e=>{a&&O.reportValidity&&(O.setCustomValidity(B(e)?"":e||""),O.reportValidity())},D={},R=W(o),L=s(o),j=R||L,C=(S||q(o))&&b(o.value)&&b(w)||z(o)&&""===o.value||""===w||Array.isArray(w)&&!w.length,M=F.bind(null,x,r,D),$=(e,t,r,a="maxLength",s="minLength")=>{const n=e?t:r;D[x]={type:e?a:s,message:n,ref:o,...M(e?a:s,n)}};if(n?!Array.isArray(w)||!w.length:c&&(!j&&(C||i(w))||B(w)&&!w||L&&!Y(u).isValid||R&&!Z(u).isValid)){const{value:e,message:t}=H(c)?{value:!!c,message:c}:ee(c);if(e&&(D[x]={type:_,message:t,ref:O,...M(_,t)},!r))return E(t),D}if(!(C||i(f)&&i(m))){let e,t;const a=ee(m),s=ee(f);if(i(w)||isNaN(w)){const r=o.valueAsDate||new Date(w),n=e=>new Date((new Date).toDateString()+" "+e),i="time"==o.type,l="week"==o.type;I(a.value)&&w&&(e=i?n(w)>n(a.value):l?w>a.value:r>new Date(a.value)),I(s.value)&&w&&(t=i?n(w)<n(s.value):l?w<s.value:r<new Date(s.value))}else{const r=o.valueAsNumber||(w?+w:w);i(a.value)||(e=r>a.value),i(s.value)||(t=r<s.value)}if((e||t)&&($(!!e,a.message,s.message,"max","min"),!r))return E(D[x].message),D}if((d||p)&&!C&&(I(w)||n&&Array.isArray(w))){const e=ee(d),t=ee(p),a=!i(e.value)&&w.length>+e.value,s=!i(t.value)&&w.length<+t.value;if((a||s)&&($(a,e.message,t.message),!r))return E(D[x].message),D}if(y&&!C&&I(w)){const{value:e,message:t}=ee(y);if(Q(e)&&!w.match(e)&&(D[x]={type:h,message:t,ref:o,...M(h,t)},!r))return E(t),D}if(g)if(N(g)){const e=X(await g(w,t),O);if(e&&(D[x]={...e,...M("validate",e.message)},!r))return E(e.message),D}else if(l(g)){let e={};for(const a in g){if(!A(e)&&!r)break;const s=X(await g[a](w,t),O,a);s&&(e={...s,...M(a,s.message)},E(s.message),r&&(D[x]=e))}if(!A(e)&&(D[x]={ref:O,...e},!r))return D}return E(!0),D};function re(e,t){const r=Array.isArray(t)?t:L(t)?[t]:j(t),a=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=b(e)?a++:e[t[a++]];return e}(e,r),s=r.length-1,n=r[s];return a&&delete a[n],0!==s&&(l(a)&&A(a)||Array.isArray(a)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!b(e[t]))return!1;return!0}(a))&&re(e,r.slice(0,-1)),e}function ae(){let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var se=e=>i(e)||!o(e);function ne(e,t){if(se(e)||se(t))return e===t;if(n(e)&&n(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(const s of r){const r=e[s];if(!a.includes(s))return!1;if("ref"!==s){const e=t[s];if(n(r)&&n(e)||l(r)&&l(e)||Array.isArray(r)&&Array.isArray(e)?!ne(r,e):r!==e)return!1}}return!0}var ie=e=>"select-multiple"===e.type,oe=e=>W(e)||s(e),le=e=>z(e)&&e.isConnected,ue=e=>{for(const t in e)if(N(e[t]))return!0;return!1};function ce(e,t={}){const r=Array.isArray(e);if(l(e)||r)for(const r in e)Array.isArray(e[r])||l(e[r])&&!ue(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ce(e[r],t[r])):i(e[r])||(t[r]=!0);return t}function de(e,t,r){const a=Array.isArray(e);if(l(e)||a)for(const a in e)Array.isArray(e[a])||l(e[a])&&!ue(e[a])?b(t)||se(r[a])?r[a]=Array.isArray(e[a])?ce(e[a],[]):{...ce(e[a])}:de(e[a],i(t)?{}:t[a],r[a]):r[a]=!ne(e[a],t[a]);return r}var pe=(e,t)=>de(e,t,ce(t)),fe=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>b(e)?e:t?""===e?NaN:e?+e:e:r&&I(e)?new Date(e):a?a(e):e;function me(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return q(t)?t.files:W(t)?Z(e.refs).value:ie(t)?[...t.selectedOptions].map((({value:e})=>e)):s(t)?Y(e.refs).value:fe(b(t.value)?e.ref.value:t.value,e)}var be=(e,t,r,a)=>{const s={};for(const r of e){const e=v(t,r);e&&C(s,r,e._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:a}},ve=e=>b(e)?e:Q(e)?e.source:l(e)?Q(e.value)?e.value.source:e.value:e,ye=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ge(e,t,r){const a=v(e,r);if(a||L(r))return{error:a,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),n=v(t,a),i=v(e,a);if(n&&!Array.isArray(n)&&r!==a)return{name:r};if(i&&i.type)return{name:a,error:i};s.pop()}return{name:r}}var he=(e,t,r,a,s)=>!s.isOnAll&&(!r&&s.isOnTouch?!(t||e):(r?a.isOnBlur:s.isOnBlur)?!e:!(r?a.isOnChange:s.isOnChange)||e),_e=(e,t)=>!m(v(e,t)).length&&re(e,t);const xe={mode:g.onSubmit,reValidateMode:g.onChange,shouldFocusError:!0};function Se(e={},t){let r,a={...xe,...e},o={submitCount:0,isDirty:!1,isLoading:N(a.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},d={},h=(l(a.defaultValues)||l(a.values))&&f(a.defaultValues||a.values)||{},_=a.shouldUnregister?{}:f(h),x={action:!1,mount:!1,watch:!1},S={mount:new Set,unMount:new Set,array:new Set,watch:new Set},k=0;const T={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={values:ae(),array:ae(),state:ae()},E=e.resetOptions&&e.resetOptions.keepDirtyValues,D=P(a.mode),L=P(a.reValidateMode),j=a.criteriaMode===g.all,M=async e=>{if(T.isValid||e){const e=a.resolver?A((await Q()).errors):await K(d,!0);e!==o.isValid&&w.state.next({isValid:e})}},F=e=>T.isValidating&&w.state.next({isValidating:e}),H=(e,t,r,a)=>{const s=v(d,e);if(s){const n=v(_,e,b(r)?v(h,e):r);b(n)||a&&a.defaultChecked||t?C(_,e,t?n:me(s._f)):J(e,n),x.mount&&M()}},W=(e,t,r,a,s)=>{let n=!1,i=!1;const l={name:e};if(!r||a){T.isDirty&&(i=o.isDirty,o.isDirty=l.isDirty=G(),n=i!==l.isDirty);const r=ne(v(h,e),t);i=v(o.dirtyFields,e),r?re(o.dirtyFields,e):C(o.dirtyFields,e,!0),l.dirtyFields=o.dirtyFields,n=n||T.dirtyFields&&i!==!r}if(r){const t=v(o.touchedFields,e);t||(C(o.touchedFields,e,r),l.touchedFields=o.touchedFields,n=n||T.touchedFields&&t!==r)}return n&&s&&w.state.next(l),n?l:{}},Q=async e=>a.resolver(_,a.context,be(e||S.mount,d,a.criteriaMode,a.shouldUseNativeValidation)),K=async(e,t,r={valid:!0})=>{for(const s in e){const n=e[s];if(n){const{_f:e,...s}=n;if(e){const s=S.array.has(e.name),i=await te(n,_,j,a.shouldUseNativeValidation&&!t,s);if(i[e.name]&&(r.valid=!1,t))break;!t&&(v(i,e.name)?s?U(o.errors,i,e.name):C(o.errors,e.name,i[e.name]):re(o.errors,e.name))}s&&await K(s,t,r)}}return r.valid},G=(e,t)=>(e&&t&&C(_,e,t),!ne(ce(),h)),Y=(e,t,r)=>R(e,S,{...x.mount?_:b(t)?h:I(e)?{[e]:t}:t},r,t),J=(e,t,r={})=>{const a=v(d,e);let n=t;if(a){const r=a._f;r&&(!r.disabled&&C(_,e,fe(t,r)),n=z(r.ref)&&i(t)?"":t,ie(r.ref)?[...r.ref.options].forEach((e=>e.selected=n.includes(e.value))):r.refs?s(r.ref)?r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(n)?!!n.find((t=>t===e.value)):n===e.value))):r.refs[0]&&(r.refs[0].checked=!!n):r.refs.forEach((e=>e.checked=e.value===n)):q(r.ref)?r.ref.value="":(r.ref.value=n,r.ref.type||w.values.next({name:e,values:{..._}})))}(r.shouldDirty||r.shouldTouch)&&W(e,n,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&ue(e)},Z=(e,t,r)=>{for(const a in t){const s=t[a],i=`${e}.${a}`,o=v(d,i);!S.array.has(e)&&se(s)&&(!o||o._f)||n(s)?J(i,s,r):Z(i,s,r)}},X=(e,r,a={})=>{const s=v(d,e),n=S.array.has(e),l=f(r);C(_,e,l),n?(w.array.next({name:e,values:{..._}}),(T.isDirty||T.dirtyFields)&&a.shouldDirty&&w.state.next({name:e,dirtyFields:pe(h,_),isDirty:G(e,l)})):!s||s._f||i(l)?J(e,l,a):Z(e,l,a),V(e,S)&&w.state.next({...o}),w.values.next({name:e,values:{..._}}),!x.mount&&t()},ee=async t=>{const s=t.target;let n=s.name,i=!0;const l=v(d,n);if(l){let c,p;const f=s.type?me(l._f):u(t),m=t.type===y.BLUR||t.type===y.FOCUS_OUT,b=!ye(l._f)&&!a.resolver&&!v(o.errors,n)&&!l._f.deps||he(m,v(o.touchedFields,n),o.isSubmitted,L,D),g=V(n,S,m);C(_,n,f),m?(l._f.onBlur&&l._f.onBlur(t),r&&r(0)):l._f.onChange&&l._f.onChange(t);const h=W(n,f,m,!1),x=!A(h)||g;if(!m&&w.values.next({name:n,type:t.type,values:{..._}}),b)return T.isValid&&M(),x&&w.state.next({name:n,...g?{}:h});if(!m&&g&&w.state.next({...o}),F(!0),a.resolver){const{errors:e}=await Q([n]),t=ge(o.errors,d,n),r=ge(e,d,t.name||n);c=r.error,n=r.name,p=A(e)}else c=(await te(l,_,j,a.shouldUseNativeValidation))[n],i=isNaN(f)||f===v(_,n,f),i&&(c?p=!1:T.isValid&&(p=await K(d,!0)));i&&(l._f.deps&&ue(l._f.deps),((t,a,s,n)=>{const i=v(o.errors,t),l=T.isValid&&B(a)&&o.isValid!==a;var u;if(e.delayError&&s?(u=()=>((e,t)=>{C(o.errors,e,t),w.state.next({errors:o.errors})})(t,s),r=e=>{clearTimeout(k),k=setTimeout(u,e)},r(e.delayError)):(clearTimeout(k),r=null,s?C(o.errors,t,s):re(o.errors,t)),(s?!ne(i,s):i)||!A(n)||l){const e={...n,...l&&B(a)?{isValid:a}:{},errors:o.errors,name:t};o={...o,...e},w.state.next(e)}F(!1)})(n,p,c,h))}},ue=async(e,t={})=>{let r,s;const n=O(e);if(F(!0),a.resolver){const t=await(async e=>{const{errors:t}=await Q();if(e)for(const r of e){const e=v(t,r);e?C(o.errors,r,e):re(o.errors,r)}else o.errors=t;return t})(b(e)?e:n);r=A(t),s=e?!n.some((e=>v(t,e))):r}else e?(s=(await Promise.all(n.map((async e=>{const t=v(d,e);return await K(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||o.isValid)&&M()):s=r=await K(d);return w.state.next({...!I(e)||T.isValid&&r!==o.isValid?{}:{name:e},...a.resolver||!e?{isValid:r}:{},errors:o.errors,isValidating:!1}),t.shouldFocus&&!s&&$(d,(e=>e&&v(o.errors,e)),e?n:S.mount),s},ce=e=>{const t={...h,...x.mount?_:{}};return b(e)?t:I(e)?v(t,e):e.map((e=>v(t,e)))},de=(e,t)=>({invalid:!!v((t||o).errors,e),isDirty:!!v((t||o).dirtyFields,e),isTouched:!!v((t||o).touchedFields,e),error:v((t||o).errors,e)}),Se=(e,t,r)=>{const a=(v(d,e,{_f:{}})._f||{}).ref;C(o.errors,e,{...t,ref:a}),w.state.next({name:e,errors:o.errors,isValid:!1}),r&&r.shouldFocus&&a&&a.focus&&a.focus()},ke=(e,t={})=>{for(const r of e?O(e):S.mount)S.mount.delete(r),S.array.delete(r),t.keepValue||(re(d,r),re(_,r)),!t.keepError&&re(o.errors,r),!t.keepDirty&&re(o.dirtyFields,r),!t.keepTouched&&re(o.touchedFields,r),!a.shouldUnregister&&!t.keepDefaultValue&&re(h,r);w.values.next({values:{..._}}),w.state.next({...o,...t.keepDirty?{isDirty:G()}:{}}),!t.keepIsValid&&M()},Te=(e,t={})=>{let r=v(d,e);const s=B(t.disabled);return C(d,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),S.mount.add(e),r?s&&C(_,e,t.disabled?void 0:v(_,e,me(r._f))):H(e,!0,t.value),{...s?{disabled:t.disabled}:{},...a.progressive?{required:!!t.required,min:ve(t.min),max:ve(t.max),minLength:ve(t.minLength),maxLength:ve(t.maxLength),pattern:ve(t.pattern)}:{},name:e,onChange:ee,onBlur:ee,ref:s=>{if(s){Te(e,t),r=v(d,e);const a=b(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,n=oe(a),i=r._f.refs||[];if(n?i.find((e=>e===a)):a===r._f.ref)return;C(d,e,{_f:{...r._f,...n?{refs:[...i.filter(le),a,...Array.isArray(v(h,e))?[{}]:[]],ref:{type:a.type,name:e}}:{ref:a}}}),H(e,!1,void 0,a)}else r=v(d,e,{}),r._f&&(r._f.mount=!1),(a.shouldUnregister||t.shouldUnregister)&&(!c(S.array,e)||!x.action)&&S.unMount.add(e)}}},Ae=()=>a.shouldFocusError&&$(d,(e=>e&&v(o.errors,e)),S.mount),we=(e,t)=>async r=>{r&&(r.preventDefault&&r.preventDefault(),r.persist&&r.persist());let s=f(_);if(w.state.next({isSubmitting:!0}),a.resolver){const{errors:e,values:t}=await Q();o.errors=e,s=t}else await K(d);re(o.errors,"root"),A(o.errors)?(w.state.next({errors:{}}),await e(s,r)):(t&&await t({...o.errors},r),Ae(),setTimeout(Ae)),w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:A(o.errors),submitCount:o.submitCount+1,errors:o.errors})},Oe=(r,a={})=>{const s=r||h,n=f(s),i=r&&!A(r)?n:h;if(a.keepDefaultValues||(h=s),!a.keepValues){if(a.keepDirtyValues||E)for(const e of S.mount)v(o.dirtyFields,e)?C(i,e,v(_,e)):X(e,v(i,e));else{if(p&&b(r))for(const e of S.mount){const t=v(d,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(z(e)){const t=e.closest("form");if(t){t.reset();break}}}}d={}}_=e.shouldUnregister?a.keepDefaultValues?f(h):{}:f(i),w.array.next({values:{...i}}),w.values.next({values:{...i}})}S={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!x.mount&&t(),x.mount=!T.isValid||!!a.keepIsValid,x.watch=!!e.shouldUnregister,w.state.next({submitCount:a.keepSubmitCount?o.submitCount:0,isDirty:a.keepDirty?o.isDirty:!(!a.keepDefaultValues||ne(r,h)),isSubmitted:!!a.keepIsSubmitted&&o.isSubmitted,dirtyFields:a.keepDirtyValues?o.dirtyFields:a.keepDefaultValues&&r?pe(h,r):{},touchedFields:a.keepTouched?o.touchedFields:{},errors:a.keepErrors?o.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Ee=(e,t)=>Oe(N(e)?e(_):e,t);return{control:{register:Te,unregister:ke,getFieldState:de,handleSubmit:we,setError:Se,_executeSchema:Q,_getWatch:Y,_getDirty:G,_updateValid:M,_removeUnmounted:()=>{for(const e of S.unMount){const t=v(d,e);t&&(t._f.refs?t._f.refs.every((e=>!le(e))):!le(t._f.ref))&&ke(e)}S.unMount=new Set},_updateFieldArray:(e,t=[],r,a,s=!0,n=!0)=>{if(a&&r){if(x.action=!0,n&&Array.isArray(v(d,e))){const t=r(v(d,e),a.argA,a.argB);s&&C(d,e,t)}if(n&&Array.isArray(v(o.errors,e))){const t=r(v(o.errors,e),a.argA,a.argB);s&&C(o.errors,e,t),_e(o.errors,e)}if(T.touchedFields&&n&&Array.isArray(v(o.touchedFields,e))){const t=r(v(o.touchedFields,e),a.argA,a.argB);s&&C(o.touchedFields,e,t)}T.dirtyFields&&(o.dirtyFields=pe(h,_)),w.state.next({name:e,isDirty:G(e,t),dirtyFields:o.dirtyFields,errors:o.errors,isValid:o.isValid})}else C(_,e,t)},_getFieldArray:t=>m(v(x.mount?_:h,t,e.shouldUnregister?v(h,t,[]):[])),_reset:Oe,_resetDefaultValues:()=>N(a.defaultValues)&&a.defaultValues().then((e=>{Ee(e,a.resetOptions),w.state.next({isLoading:!1})})),_updateFormState:e=>{o={...o,...e}},_subjects:w,_proxyFormState:T,get _fields(){return d},get _formValues(){return _},get _state(){return x},set _state(e){x=e},get _defaultValues(){return h},get _names(){return S},set _names(e){S=e},get _formState(){return o},set _formState(e){o=e},get _options(){return a},set _options(e){a={...a,...e}}},trigger:ue,register:Te,handleSubmit:we,watch:(e,t)=>N(e)?w.values.subscribe({next:r=>e(Y(void 0,t),r)}):Y(e,t,!0),setValue:X,getValues:ce,reset:Ee,resetField:(e,t={})=>{v(d,e)&&(b(t.defaultValue)?X(e,v(h,e)):(X(e,t.defaultValue),C(h,e,t.defaultValue)),t.keepTouched||re(o.touchedFields,e),t.keepDirty||(re(o.dirtyFields,e),o.isDirty=t.defaultValue?G(e,v(h,e)):G()),t.keepError||(re(o.errors,e),T.isValid&&M()),w.state.next({...o}))},clearErrors:e=>{e&&O(e).forEach((e=>re(o.errors,e))),w.state.next({errors:e?o.errors:{}})},unregister:ke,setError:Se,setFocus:(e,t={})=>{const r=v(d,e),a=r&&r._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:de}}function ke(e={}){const t=a.useRef(),[r,s]=a.useState({isDirty:!1,isValidating:!1,isLoading:N(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:N(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Se(e,(()=>s((e=>({...e}))))),formState:r});const n=t.current.control;return n._options=e,D({subject:n._subjects.state,next:e=>{w(e,n._proxyFormState,n._updateFormState,!0)&&s({...n._formState})}}),a.useEffect((()=>{e.values&&!ne(e.values,n._defaultValues)?n._reset(e.values,n._options.resetOptions):n._resetDefaultValues()}),[e.values,n]),a.useEffect((()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()})),t.current.formState=T(r,n),t.current}}},s={};function n(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={id:e,exports:{}};return a[e].call(r.exports,r,r.exports,n),r.exports}n.m=a,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"==typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"==typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(s,i),s},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"observability.chunk."+e+".js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},n.l=(e,t,a,s)=>{if(r[e])r[e].push(t);else{var i,o;if(void 0!==a)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var c=l[u];if(c.getAttribute("src")==e){i=c;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.src=e),r[e]=[t];var d=(t,a)=>{i.onerror=i.onload=null,clearTimeout(p);var s=r[e];if(delete r[e],i.parentNode&&i.parentNode.removeChild(i),s&&s.forEach((e=>e(a))),t)return t(a)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),o&&document.head.appendChild(i)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={810:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var s=new Promise(((r,s)=>a=e[t]=[r,s]));r.push(a[2]=s);var i=n.p+n.u(t),o=new Error;n.l(i,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",o.name="ChunkLoadError",o.type=s,o.request=i,a[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,s,[i,o,l]=r,u=0;if(i.some((t=>0!==e[t]))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);l&&l(n)}for(t&&t(r);u<i.length;u++)s=i[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.observability_bundle_jsonpfunction=self.observability_bundle_jsonpfunction||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,n(4982),__kbnBundles__.define("plugin/observability/public",n,9314),__kbnBundles__.define("plugin/observability/common",n,8223)})();