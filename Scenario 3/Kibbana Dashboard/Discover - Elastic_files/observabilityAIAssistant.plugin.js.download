/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */(()=>{var e,t={121:(e,t,s)=>{"use strict";s.d(t,{OG:()=>r,Re:()=>ChatCompletionError,Vg:()=>i,W9:()=>n}),s(8);let n=function(e){return e.ChatCompletionChunk="chatCompletionChunk",e.ChatCompletionMessage="chatCompletionMessage",e.ConversationCreate="conversationCreate",e.ConversationUpdate="conversationUpdate",e.MessageAdd="messageAdd",e.ChatCompletionError="chatCompletionError",e.BufferFlush="bufferFlush",e}({}),r=function(e){return e.InternalError="internalError",e.NotFoundError="notFoundError",e.TokenLimitReachedError="tokenLimitReachedError",e.FunctionNotFoundError="functionNotFoundError",e.FunctionLimitExceededError="functionLimitExceededError",e}({});class ChatCompletionError extends Error{constructor(e,t,s={}){super(t),this.code=e,this.meta=s}}function i(e){return e instanceof ChatCompletionError&&e.code===r.TokenLimitReachedError}},944:(e,t,s)=>{"use strict";s.d(t,{j:()=>n,v:()=>r});let n=function(e){return e.generateQueryOnly="generateQueryOnly",e.executeAndReturnResults="executeAndReturnResults",e.visualizeAuto="visualizeAuto",e.visualizeXy="visualizeXy",e.visualizeBar="visualizeBar",e.visualizeLine="visualizeLine",e.visualizeArea="visualizeArea",e.visualizeTable="visualizeTable",e.visualizeDonut="visualizeDonut",e.visualizeTreemap="visualizeTreemap",e.visualizeHeatmap="visualizeHeatmap",e.visualizeTagcloud="visualizeTagcloud",e.visualizeWaffle="visualizeWaffle",e}({});const r=Object.values(n)},199:(e,t,s)=>{"use strict";s.d(t,{H7:()=>r,yh:()=>n.yh,g6:()=>n.g6,e4:()=>n.e4,W9:()=>i.W9,wx:()=>l,Vg:()=>i.Vg});var n=s(371);let r=function(e){return e.AssistantOnly="assistantOnly",e.UserOnly="userOnly",e.Internal="internal",e.All="all",e}({});s(944);var i=s(121),a=s(770),o=s(190);const l=()=>e=>e.pipe((0,o.filter)((e=>e.type===i.W9.ChatCompletionChunk)),(0,o.scan)(((e,{message:t})=>{var s,n,r,i,o;return e.message.content+=null!==(s=t.content)&&void 0!==s?s:"",e.message.function_call.name+=null!==(n=null===(r=t.function_call)||void 0===r?void 0:r.name)&&void 0!==n?n:"",e.message.function_call.arguments+=null!==(i=null===(o=t.function_call)||void 0===o?void 0:o.arguments)&&void 0!==i?i:"",(0,a.cloneDeep)(e)}),{message:{content:"",function_call:{name:"",arguments:"",trigger:n.e4.Assistant},role:n.e4.Assistant}}),(0,o.defaultIfEmpty)({message:{content:"",function_call:{name:"",arguments:"",trigger:n.e4.Assistant},role:n.e4.Assistant}}));s(915)},371:(e,t,s)=>{"use strict";s.d(t,{e4:()=>n,g6:()=>i,yh:()=>r});let n=function(e){return e.System="system",e.Assistant="assistant",e.User="user",e.Function="function",e.Elastic="elastic",e}({}),r=function(e){return e.AssistantSummarization="assistant_summarization",e.UserEntry="user_entry",e.Elastic="elastic",e}({}),i=function(e){return e.UserInstruction="user_instruction",e.Contextual="contextual",e}({})},519:(e,t,s)=>{"use strict";s.d(t,{X:()=>a});var n=s(472),r=s(199),i=s(121);function a({name:e,content:t,data:s}){return{id:(0,n.v4)(),type:i.W9.MessageAdd,message:{"@timestamp":(new Date).toISOString(),message:{content:JSON.stringify(t),...s?{data:JSON.stringify(s)}:{},name:e,role:r.e4.User}}}}},99:(e,t,s)=>{"use strict";s.d(t,{S:()=>l,B:()=>c});var n=s(540);const r={eventType:n.L.ChatFeedback,schema:{feedback:{type:"text",_meta:{description:"Whether the user has deemed this response useful or not"}},conversation:{properties:{"@timestamp":{type:"text",_meta:{description:"The timestamp of the conversation."}},user:{properties:{id:{type:"text",_meta:{description:"The id of the user.",optional:!0}},name:{type:"text",_meta:{description:"The name of the user."}}}},conversation:{properties:{id:{type:"text",_meta:{description:"The id of the conversation."}},last_updated:{type:"text",_meta:{description:"The timestamp of the last message in the conversation."}}}},labels:{type:"pass_through",_meta:{description:"The labels of the conversation."}},numeric_labels:{type:"pass_through",_meta:{description:"The numeric labels of the conversation."}},namespace:{type:"text",_meta:{description:"The namespace of the conversation."}},public:{type:"boolean",_meta:{description:"Whether the conversation is public or not."}}}}}},i={eventType:n.L.InsightFeedback,schema:{feedback:{type:"text",_meta:{description:"Whether the user has deemed this response useful or not"}}}},a={eventType:n.L.InsightResponse,schema:{"@timestamp":{type:"text",_meta:{description:"The timestamp of the last response from the LLM."}}}},o=[r,i,{eventType:n.L.UserSentPromptInChat,schema:{scopes:{type:"array",items:{type:"text",_meta:{description:"Scope of the AI Assistant"}}}}},a],l=e=>{o.forEach((t=>{e.registerEventType(t)}))};function c(e,t){e.reportEvent(t.type,t.payload)}},540:(e,t,s)=>{"use strict";s.d(t,{L:()=>n});let n=function(e){return e.ChatFeedback="observability_ai_assistant_chat_feedback",e.InsightFeedback="observability_ai_assistant_insight_feedback",e.UserSentPromptInChat="observability_ai_assistant_user_sent_prompt_in_chat",e.InsightResponse="observability_ai_assistant_insight_response",e}({})},636:(e,t,s)=>{"use strict";s.d(t,{z:()=>c});var n=s(286),r=s(8),i=s(319),a=s(541),o=s(791);const l=r.i18n.translate("xpack.observabilityAiAssistant.feedbackButtons.em.thanksForYourFeedbackLabel",{defaultMessage:"Thanks for your feedback"});function c({onClickFeedback:e}){const{notifications:t}=(0,a.o)().services,[s,c]=(0,n.useState)(!1);return(0,o.jsx)(i.EuiFlexGroup,{responsive:!1,direction:"row",alignItems:"center",gutterSize:"s",wrap:!0},(0,o.jsx)(i.EuiFlexItem,{grow:!1},(0,o.jsx)(i.EuiText,{color:"subdued",size:"s"},(0,o.jsx)("em",null,r.i18n.translate("xpack.observabilityAiAssistant.insight.feedbackButtons.title",{defaultMessage:"Was this helpful?"})))),(0,o.jsx)(i.EuiFlexItem,{grow:!1},(0,o.jsx)(i.EuiFlexGroup,{responsive:!1,direction:"row",alignItems:"center",gutterSize:"xs"},(0,o.jsx)(i.EuiFlexItem,{grow:!1},(0,o.jsx)(i.EuiButtonEmpty,{"data-test-subj":"observabilityAiAssistantFeedbackButtonsPositiveButton",color:"success",disabled:s,iconType:"faceHappy",size:"s",onClick:()=>{e("positive"),c(!0),t.toasts.addSuccess(l)}},r.i18n.translate("xpack.observabilityAiAssistant.insight.feedbackButtons.positive",{defaultMessage:"Yes"}))),(0,o.jsx)(i.EuiFlexItem,{grow:!1},(0,o.jsx)(i.EuiButtonEmpty,{"data-test-subj":"observabilityAiAssistantFeedbackButtonsNegativeButton",color:"danger",disabled:s,iconType:"faceSad",size:"s",onClick:()=>{e("negative"),c(!0),t.toasts.addSuccess(l)}},r.i18n.translate("xpack.observabilityAiAssistant.insight.feedbackButtons.negative",{defaultMessage:"No"}))))))}},240:(e,t,s)=>{"use strict";s.d(t,{C:()=>o});var n=s(185),r=s(319),i=(s(286),s(8)),a=s(791);function o(e){return(0,a.jsx)(r.EuiButtonEmpty,(0,n.default)({size:"s","data-test-subj":"observabilityAiAssistantRegenerateResponseButton",iconType:"sparkles"},e),i.i18n.translate("xpack.observabilityAiAssistant.regenerateResponseButtonLabel",{defaultMessage:"Regenerate"}))}},637:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var n=s(185),r=s(319),i=(s(286),s(8)),a=s(791);function o(e){return(0,a.jsx)(r.EuiButtonEmpty,(0,n.default)({"data-test-subj":"observabilityAiAssistantStopGeneratingButton",color:"text",iconType:"stop",size:"s"},e),i.i18n.translate("xpack.observabilityAiAssistant.stopGeneratingButtonLabel",{defaultMessage:"Stop generating"}))}},523:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});let n=function(e){return e.executeEsqlQuery="executeEsqlQuery",e.visualizeEsqlQuery="visualizeEsqlQuery",e.updateVisualization="updateVisualization",e}({})},738:(e,t,s)=>{"use strict";s.d(t,{I:()=>c});var n=s(319),r=(s(286),s(8)),i=s(81),a=s(791);const o=(0,i.css)({name:"1najbre",styles:"height:32px;.euiSuperSelectControl{border:none;box-shadow:none;background:none;padding-left:0;}"}),l=(0,i.css)({name:"rnnx2x",styles:"font-size:12px"});function c(e){var t;return e.loading?(0,a.jsx)(n.EuiFlexGroup,{alignItems:"center",className:o},(0,a.jsx)(n.EuiFlexItem,null,(0,a.jsx)(n.EuiLoadingSpinner,{size:"s"}))):e.error?(0,a.jsx)(n.EuiFlexGroup,{direction:"row",alignItems:"center",gutterSize:"s",className:o},(0,a.jsx)(n.EuiFlexItem,{grow:!1},(0,a.jsx)(n.EuiIcon,{type:"warning",color:"danger",size:"s"})),(0,a.jsx)(n.EuiFlexItem,{grow:!1},(0,a.jsx)(n.EuiText,{size:"xs",color:"danger"},r.i18n.translate("xpack.observabilityAiAssistant.connectorSelector.error",{defaultMessage:"Failed to load connectors"})))):null!==(t=e.connectors)&&void 0!==t&&t.length?(0,a.jsx)(n.EuiFlexGroup,{className:o,direction:"row",alignItems:"center",gutterSize:"xs",responsive:!1},(0,a.jsx)(n.EuiFlexItem,{grow:!0},(0,a.jsx)(n.EuiSuperSelect,{compressed:!0,valueOfSelected:e.selectedConnector,options:e.connectors.map((e=>({value:e.id,inputDisplay:(0,a.jsx)(n.EuiFlexGroup,{direction:"row",gutterSize:"s",alignItems:"center"},(0,a.jsx)(n.EuiFlexItem,{grow:!1},(0,a.jsx)(n.EuiText,{size:"xs",color:"subdued"},r.i18n.translate("xpack.observabilityAiAssistant.connectorSelector.connectorSelectLabel",{defaultMessage:"Connector:"}))),(0,a.jsx)(n.EuiFlexItem,{grow:!0},(0,a.jsx)(n.EuiTextTruncate,{text:e.name,className:l,truncation:"end"}))),dropdownDisplay:(0,a.jsx)(n.EuiText,{size:"xs"},e.name)}))),onChange:t=>{e.selectConnector(t)}}))):(0,a.jsx)(n.EuiFlexGroup,{direction:"row",alignItems:"center",gutterSize:"s",className:o},(0,a.jsx)(n.EuiFlexItem,{grow:!1},(0,a.jsx)(n.EuiText,{size:"xs",color:"warning"},r.i18n.translate("xpack.observabilityAiAssistant.connectorSelector.empty",{defaultMessage:"No connectors"}))))}},40:(e,t,s)=>{"use strict";s.d(t,{I:()=>a});var n=s(319),r=(s(286),s(8)),i=s(791);function a(){return(0,i.jsx)(n.EuiFlexGroup,{direction:"row",gutterSize:"s",alignItems:"center"},(0,i.jsx)(n.EuiFlexItem,{grow:!1},(0,i.jsx)(n.EuiIcon,{type:"alert",color:"danger",size:"s"})),(0,i.jsx)(n.EuiFlexItem,null,(0,i.jsx)(n.EuiText,{size:"s",color:"danger"},r.i18n.translate("xpack.observabilityAiAssistant.failedLoadingResponseText",{defaultMessage:"Failed to load response"}))))}},647:(e,t,s)=>{"use strict";s.d(t,{J:()=>S});var n=s(185),r=s(319),i=s(81);const a=__kbnSharedDeps__.Classnames;var o=s.n(a),l=s(286),c=s.n(l),u=s(8),d=s(523),p=s(791);const m=e=>(0,i.css)("background-color:",e.euiTheme.colors.lightestShade,";.euiCodeBlock__pre{margin-bottom:0;padding:",e.euiTheme.size.m,";min-block-size:48px;}.euiCodeBlock__controls{inset-block-start:",e.euiTheme.size.m,";inset-inline-end:",e.euiTheme.size.m,";}","");function v({children:e}){const t=(0,r.useEuiTheme)();return(0,p.jsx)(r.EuiPanel,{hasShadow:!1,hasBorder:!1,paddingSize:"s",className:m(t)},e)}function g({children:e}){return(0,p.jsx)(v,null,(0,p.jsx)(r.EuiFlexGroup,{direction:"column",gutterSize:"xs"},(0,p.jsx)(r.EuiFlexItem,{grow:!1},(0,p.jsx)(r.EuiCodeBlock,{isCopyable:!0,fontSize:"m"},e))))}function f({value:e,actionsDisabled:t,onActionClick:s}){return(0,p.jsx)(v,null,(0,p.jsx)(r.EuiFlexGroup,{direction:"column",gutterSize:"xs"},(0,p.jsx)(r.EuiFlexItem,{grow:!1},(0,p.jsx)(r.EuiCodeBlock,{isCopyable:!0,fontSize:"m"},e)),(0,p.jsx)(r.EuiFlexItem,null,(0,p.jsx)(r.EuiFlexGroup,{direction:"row",gutterSize:"s"},(0,p.jsx)(r.EuiFlexItem,{grow:!1},(0,p.jsx)(r.EuiButtonEmpty,{"data-test-subj":"observabilityAiAssistantEsqlCodeBlockRunThisQueryButton",size:"xs",iconType:"play",onClick:()=>s({type:d.Z.executeEsqlQuery,query:e}),disabled:t},u.i18n.translate("xpack.observabilityAiAssistant.runThisQuery",{defaultMessage:"Display results"}))),(0,p.jsx)(r.EuiFlexItem,{grow:!1},(0,p.jsx)(r.EuiButtonEmpty,{"data-test-subj":"observabilityAiAssistantEsqlCodeBlockVisualizeThisQueryButton",size:"xs",iconType:"lensApp",onClick:()=>s({type:d.Z.visualizeEsqlQuery,query:e}),disabled:t},u.i18n.translate("xpack.observabilityAiAssistant.visualizeThisQuery",{defaultMessage:"Visualize this query"})))))))}const b=(0,i.css)("@keyframes blink{0%{opacity:0;}50%{opacity:1;}100%{opacity:0;}}animation:blink ",1,"s infinite;width:10px;height:16px;vertical-align:middle;display:inline-block;background:rgba(0, 0, 0, 0.25);",""),h=()=>(0,p.jsx)("span",{key:"cursor",className:o()(b,"cursor")}),y=" ᠎  ",x=()=>{const e=(t,s)=>{if("children"in t){const s=t;s.children.forEach((t=>{e(t,s)}))}if("text"!==t.type&&"inlineCode"!==t.type&&"code"!==t.type)return;const n=t;if(-1===n.value.indexOf(y))return;n.value=n.value.replace(y,"");const r=s.children.indexOf(n);s.children.splice(r+1,0,{type:"cursor",value:y})};return t=>{e(t)}},E=()=>{const e=(t,s)=>{if("children"in t){const s=t;s.children.forEach((t=>{e(t,s)}))}"code"===t.type&&"esql"===t.lang?t.type="esql":"code"===t.type&&(t.type="codeBlock")};return t=>{e(t)}};function S({loading:e,content:t,onActionClick:s}){const a=(0,i.css)({name:"26bywx",styles:"overflow-wrap:anywhere"}),{parsingPluginList:o,processingPluginList:u}=(0,l.useMemo)((()=>{const t=(0,r.getDefaultEuiMarkdownParsingPlugins)(),a=(0,r.getDefaultEuiMarkdownProcessingPlugins)(),{components:o}=a[1][1];return a[1][1].components={...o,cursor:h,codeBlock:e=>(0,p.jsx)(c().Fragment,null,(0,p.jsx)(g,null,e.value),(0,p.jsx)(r.EuiSpacer,{size:"m"})),esql:t=>(0,p.jsx)(c().Fragment,null,(0,p.jsx)(f,{value:t.value,actionsDisabled:e,onActionClick:s}),(0,p.jsx)(r.EuiSpacer,{size:"m"})),table:e=>(0,p.jsx)(c().Fragment,null,(0,p.jsx)(r.EuiTable,(0,n.default)({},e,{className:(0,i.css)({name:"1q48xe6",styles:".euiTableCellContent__text{white-space:normal;}"})})),(0,p.jsx)(r.EuiSpacer,{size:"m"})),th:e=>{const{children:t,...s}=e;return(0,p.jsx)(r.EuiTableHeaderCell,s,t)},tr:e=>(0,p.jsx)(r.EuiTableRow,e),td:e=>{const{children:t,...s}=e;return(0,p.jsx)(r.EuiTableRowCell,(0,n.default)({truncateText:!0},s),t)}},{parsingPluginList:[x,E,...t],processingPluginList:a}}),[e,s]);return(0,p.jsx)(r.EuiText,{size:"s",className:a},(0,p.jsx)(r.EuiMarkdownFormat,{textSize:"s",parsingPluginList:o,processingPluginList:u},`${t}${e?y:""}`))}},388:(e,t,s)=>{"use strict";s.d(t,{Y:()=>n});const n=(0,s(286).createContext)(void 0)},349:(e,t,s)=>{"use strict";s.d(t,{T:()=>r,l:()=>n});const n=(0,s(286).createContext)(void 0),r=n.Provider},149:(e,t,s)=>{"use strict";s.d(t,{m:()=>i});const n=__kbnSharedDeps__.KbnStd;var r=s(286);function i(e,t,s){const i=null==s?void 0:s.clearValueOnNext,a=(0,r.useRef)(new AbortController),[o,l]=(0,r.useState)(0),[c,u]=(0,r.useState)(),[d,p]=(0,r.useState)(!1),[m,v]=(0,r.useState)(null==s?void 0:s.defaultValue);return(0,r.useEffect)((()=>{a.current.abort();const t=new AbortController;a.current=t,i&&(v(void 0),u(void 0));try{const s=e({signal:t.signal});(0,n.isPromise)(s)?(p(!0),s.then((e=>{u(void 0),v(e)})).catch((e=>{v(void 0),u(e)})).finally((()=>p(!1)))):(u(void 0),v(s),p(!1))}catch(e){v(void 0),u(e),p(!1)}return()=>{t.abort()}}),t.concat(o,i)),(0,r.useMemo)((()=>({error:c,loading:d,value:m,refresh:()=>{l((e=>e+1))}})),[c,m,d])}},539:(e,t,s)=>{"use strict";s.d(t,{ao:()=>d,_h:()=>v,Y_:()=>m});var n=s(8),r=s(770),i=s(286),a=s(359),o=s(199),l=s(541),c=s(721);function u(e){const t=(0,i.useRef)(e);return t.current!==e&&c.trace(`Variable changed from ${t.current} to ${e}, but only the initial value will be taken into account`),t.current}let d=function(e){return e.Ready="ready",e.Loading="loading",e.Error="error",e.Aborted="aborted",e}({});function p({initialMessages:e,initialConversationId:t,notifications:s,service:l,chatService:c,connectorId:p,onConversationUpdate:m,onChatComplete:v,persist:g,disableFunctions:f,scopes:b}){const[h,y]=(0,i.useState)(d.Ready),x=(0,i.useMemo)((()=>c.getSystemMessage()),[c]);u(e),u(t);const[E,S]=(0,i.useState)(t),[A,C]=(0,i.useState)(e),[_,k]=(0,i.useState)(),w=(0,i.useRef)(new AbortController),j=(0,i.useRef)(v);j.current=v;const I=(0,i.useRef)(m);I.current=m;const T=(0,i.useCallback)((()=>{y(d.Aborted)}),[]),F=(0,i.useCallback)((e=>{e instanceof a.AbortError?y(d.Aborted):(y(d.Error),(0,o.Vg)(e)?C((t=>{var s,r;return[...t,{"@timestamp":(new Date).toISOString(),message:{content:n.i18n.translate("xpack.observabilityAiAssistant.tokenLimitError",{defaultMessage:"The conversation has exceeded the token limit. The maximum token limit is **{tokenLimit}**, but the current conversation has **{tokenCount}** tokens. Please start a new conversation to continue.",values:{tokenLimit:null===(s=e.meta)||void 0===s?void 0:s.tokenLimit,tokenCount:null===(r=e.meta)||void 0===r?void 0:r.tokenCount}}),role:o.e4.Assistant}}]})):s.toasts.addError(e,{title:n.i18n.translate("xpack.observabilityAiAssistant.failedToLoadResponse",{defaultMessage:"Failed to load response from the AI Assistant"})}))}),[s.toasts]),z=(0,i.useCallback)((async e=>{if(w.current.signal.removeEventListener("abort",T),w.current.abort(),w.current=new AbortController,k([]),C(e),!p||!e.length)return void y(d.Ready);y(d.Loading);const t=c.complete({getScreenContexts:()=>l.getScreenContexts(),connectorId:p,messages:e,systemMessage:x,persist:g,disableFunctions:null!=f&&f,signal:w.current.signal,conversationId:E,scopes:b});function s(){return[...n,...i?[(0,r.merge)({message:{role:o.e4.Assistant,function_call:{trigger:o.e4.Assistant}}},i)]:[]]}const n=[];let i;const a=t.subscribe({next:e=>{var t,r;switch(e.type){case o.W9.ChatCompletionChunk:var a,l,c,u;i?(i.message.content+=e.message.content||"",i.message.function_call.name+=(null===(a=e.message.function_call)||void 0===a?void 0:a.name)||"",i.message.function_call.arguments+=(null===(l=e.message.function_call)||void 0===l?void 0:l.arguments)||""):i={"@timestamp":(new Date).toISOString(),message:{content:e.message.content||"",function_call:{name:(null===(c=e.message.function_call)||void 0===c?void 0:c.name)||"",arguments:(null===(u=e.message.function_call)||void 0===u?void 0:u.arguments)||""}}};break;case o.W9.MessageAdd:i=void 0,n.push(e.message);break;case o.W9.ConversationCreate:S(e.conversation.id),null===(t=I.current)||void 0===t||t.call(I,e);break;case o.W9.ConversationUpdate:null===(r=I.current)||void 0===r||r.call(I,e)}k(s())},complete:()=>{var t;y(d.Ready);const s=e.concat(n);C(s),k([]),null===(t=j.current)||void 0===t||t.call(j,s)},error:t=>{k([]),C(e.concat(s())),F(t)}});w.current.signal.addEventListener("abort",(()=>{T(),a.unsubscribe()}))}),[c,p,E,F,T,g,f,l,x,b]);return(0,i.useEffect)((()=>()=>{w.current.abort()}),[]),{messages:(0,i.useMemo)((()=>A.concat(null!=_?_:[])),[A,_]),setMessages:(0,i.useCallback)((e=>{w.current.abort(),k([]),y(d.Ready),C(e)}),[]),state:h,next:z,stop:()=>{w.current.abort()}}}function m(e){const{services:{notifications:t}}=(0,l.o)();return p({...e,notifications:t})}function v({notifications:e}){return t=>p({...t,notifications:e})}},719:(e,t,s)=>{"use strict";s.d(t,{s:()=>l,f:()=>c});var n=s(286),r=s(389),i=s(566),a=s(541);const o=async(e,t)=>{try{return(await e.get(`/internal/_inference/_exists/${t}`,{version:"1"})).isEndpointExists}catch(e){return!1}};function l(){return c((0,i.h)())}function c(e){var t;const[s,i]=(0,n.useState)(void 0),{services:{http:l}}=(0,a.o)(),[c,u]=(0,r.A)("xpack.observabilityAiAssistant.lastUsedConnector",""),[d,p]=(0,n.useState)(!1),[m,v]=(0,n.useState)(void 0),g=(0,n.useMemo)((()=>new AbortController),[]),f=(0,n.useCallback)((async()=>{p(!0),e.callApi("GET /internal/observability_ai_assistant/connectors",{signal:g.signal}).then((e=>e.reduce((async(e,t)=>{var s;return".inference"!==t.actionTypeId||".inference"===t.actionTypeId&&await o(l,null==t||null===(s=t.config)||void 0===s?void 0:s.inferenceId)?[...await e,t]:e}),Promise.resolve([])).then((e=>{i(e),u((t=>t&&-1===e.findIndex((e=>e.id===t))?"":t)),v(void 0)})))).catch((e=>{v(e),i(void 0)})).finally((()=>{p(!1)}))}),[e,g.signal,l,u]);return(0,n.useEffect)((()=>(f(),()=>{g.abort()})),[e,g,f,u]),{connectors:s,loading:d,error:m,selectedConnector:c||(null==s||null===(t=s[0])||void 0===t?void 0:t.id),selectConnector:e=>{u(e)},reloadConnectors:()=>{f()}}}},541:(e,t,s)=>{"use strict";s.d(t,{o:()=>r});var n=s(409);const r=()=>(0,n.useKibana)()},566:(e,t,s)=>{"use strict";s.d(t,{h:()=>i});var n=s(286),r=s(349);function i(){const e=(0,n.useContext)(r.l);if(!e)throw new Error("ObservabilityAIAssistantContext not set. Did you wrap your component in `<ObservabilityAIAssistantProvider/>`?");return e}},471:(e,t,s)=>{"use strict";s.d(t,{Q:()=>i});var n=s(286),r=s(388);function i(){const e=(0,n.useContext)(r.Y);if(!e)throw new Error("ObservabilityAIAssistantChatServiceContext not set. Did you wrap your component in `<ObservabilityAIAssistantChatServiceContext.Provider/>`?");return e}},952:(e,t,s)=>{"use strict";s.r(t),s.d(t,{ChatActionClickType:()=>te.Z,ChatItemControls:()=>X,ChatState:()=>x.ao,ConnectorSelectorBase:()=>q.I,FailedToLoadResponse:()=>Z.I,FeedbackButtons:()=>J.z,FunctionVisibility:()=>C.H7,KnowledgeBaseEntryRole:()=>C.yh,KnowledgeBaseType:()=>C.g6,MessageRole:()=>C.e4,MessageText:()=>ee.J,ObservabilityAIAssistantTelemetryEventType:()=>ne.L,StreamingChatResponseEventType:()=>C.W9,VISUALIZE_ESQL_USER_INTENTIONS:()=>se.v,VisualizeESQLUserIntention:()=>se.j,aiAssistantCapabilities:()=>$,aiAssistantLogsIndexPattern:()=>re,aiAssistantPreferredAIAssistantType:()=>oe,aiAssistantSearchConnectorIndexPattern:()=>ae,aiAssistantSimulatedFunctionCalling:()=>ie,concatenateChatCompletionChunks:()=>C.wx,createFunctionRequestMessage:()=>k,createFunctionResponseMessage:()=>w.X,createScreenContextAction:()=>N,createStorybookChatService:()=>W,createStorybookService:()=>Q,elasticAiAssistantImage:()=>le,plugin:()=>ce,useAbortableAsync:()=>G.m,useGenAIConnectorsWithoutContext:()=>h.f});var n=s(185),r=s(915),i=s(409);const a=__kbnSharedDeps__.KbnSharedUxErrorBoundary;var o=s(286),l=s.n(o),c=s(319),u=s(791),d={name:"1azakc",styles:"text-align:center"};const p=()=>{const e=d;return(0,u.jsx)("div",{css:e},(0,u.jsx)(c.EuiLoadingSpinner,null))},m=(e,t=(0,u.jsx)(p,null))=>l().forwardRef(((s,r)=>(0,u.jsx)(a.KibanaErrorBoundaryProvider,{analytics:s.analytics},(0,u.jsx)(a.KibanaErrorBoundary,null,(0,u.jsx)(o.Suspense,{fallback:t},(0,u.jsx)(e,(0,n.default)({},s,{ref:r})))))));var v=s(99),g=s(388);const f=(0,o.createContext)(void 0);var b=s(349),h=s(719),y=s(471),x=s(539),E=s(770),S=s(190),A=s(472),C=s(199),_=s(121);function k({name:e,args:t}){return{id:(0,A.v4)(),type:_.W9.MessageAdd,message:{"@timestamp":(new Date).toISOString(),message:{function_call:{name:e,arguments:JSON.stringify(t),trigger:C.e4.Assistant},role:C.e4.Assistant,content:""}}}}var w=s(519);const j=["delete","get","patch","post","put"];var I=Object.defineProperty,T=(e,t,s)=>((e,t,s)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s);class ParseError extends Error{constructor(e,t){super(e),T(this,"type"),T(this,"field"),T(this,"value"),T(this,"line"),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function F(e){}var z=s(8);let O=function(e){return e.error="error",e.data="data",e}({}),P=function(e){return e.internalError="internalError",e.requestError="requestError",e}({});class ServerSentEventError extends Error{constructor(e,t,s){super(t),this.code=e,this.meta=s}toJSON(){return{type:O.error,error:{code:this.code,message:this.message,meta:this.meta}}}}function M(e=z.i18n.translate("sse.internalError",{defaultMessage:"An internal error occurred"})){return new ServerSentEventError(P.internalError,e,{})}function L(){return(0,S.switchMap)((e=>function(e){const t=e.response,s=null==t?void 0:t.body;return s?new S.Observable((e=>{const t=function(e){const{onEvent:t=F,onError:s=F,onRetry:n=F,onComment:r}=e;let i,a="",o=!0,l="",c="";function u(e){if(""===e)return l.length>0&&t({id:i,event:c||void 0,data:l.endsWith("\n")?l.slice(0,-1):l}),i=void 0,l="",void(c="");if(e.startsWith(":"))return void(r&&r(e.slice(e.startsWith(": ")?2:1)));const s=e.indexOf(":");if(-1===s)d(e,"",e);else{const t=e.slice(0,s),n=" "===e[s+1]?2:1;d(t,e.slice(s+n),e)}}function d(e,t,r){switch(e){case"event":c=t;break;case"data":l=`${l}${t}\n`;break;case"id":i=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?n(parseInt(t,10)):s(new ParseError(`Invalid \`retry\` value: "${t}"`,{type:"invalid-retry",value:t,line:r}));break;default:s(new ParseError(`Unknown field "${e.length>20?`${e.slice(0,20)}…`:e}"`,{type:"unknown-field",field:e,value:t,line:r}))}}return{feed:function(e){const t=o?e.replace(/^\xEF\xBB\xBF/,""):e,[s,n]=function(e){const t=[];let s="";const n=e.length;for(let r=0;r<n;r++){const n=e[r];"\r"===n&&"\n"===e[r+1]?(t.push(s),s="",r++):"\r"===n||"\n"===n?(t.push(s),s=""):s+=n}return[t,s]}(`${a}${t}`);for(const e of s)u(e);a=n,o=!1},reset:function(e={}){a&&e.consume&&u(a),i=void 0,l="",c="",a=""}}}({onEvent:t=>{try{const s=JSON.parse(t.data);if("error"===t.event){const t=s;e.error(new ServerSentEventError(t.error.code,t.error.message,t.error.meta))}else e.next({type:t.event||"event",...s})}catch(t){e.error(M("Failed to parse JSON"))}}});(async()=>{const e=s.getReader(),n=new TextDecoder,r=({done:s,value:i})=>s?Promise.resolve():(t.feed(n.decode(i,{stream:!0})),e.read().then(r));return e.read().then(r)})().then((()=>{e.complete()})).catch((t=>{e.error(t)}))})):(0,S.throwError)((()=>{throw M("No readable stream found in response")}))}(e)))}function R(e){return function(e){const t=(t,s,n)=>{const{method:r,pathname:i,version:a}=function(e,t={}){var s,n,r;const{method:i,pathname:a,version:o}=function(e){var t;const s=e.split(" "),n=s[0].trim().toLowerCase(),r=s[1].trim(),i=null===(t=s[2])||void 0===t?void 0:t.trim();if(!j.includes(n))throw new Error(`Endpoint ${e} was not prefixed with a valid HTTP method`);return{method:n,pathname:r,version:i}}(e),l=/(\/\{\w+\?\})/g,c=/(\/{)((.+?))(\})/g;if(0===(null===(s=Object.keys(t))||void 0===s?void 0:s.length))return{method:i,pathname:a.replace(c,""),version:o};const u=Object.keys(t).reduce(((e,s)=>e.replace(`{${s}}`,encodeURIComponent(t[s])).replace(`{${s}?}`,encodeURIComponent(t[s]))),a);if((null===(n=null!==(r=u.match(l))&&void 0!==r?r:[])||void 0===n?void 0:n.length)>0)throw new Error(`Missing parameters: ${u.match(l)}`);return{method:i,pathname:u,version:o}}(t,null==s?void 0:s.path);return e.http[r](i,{...n,body:s&&s.body?JSON.stringify(s.body):void 0,query:null==s?void 0:s.query,version:a})};return{fetch:(e,...s)=>{var n;const r=null!==(n=s[0])&&void 0!==n?n:{},i="params"in r?r.params:{},a=(0,E.omit)(r,"params");return t(e,i,a)},stream:(e,...s)=>{var n;const r=null!==(n=s[0])&&void 0!==n?n:{},i="params"in r?r.params:{},a=(0,E.omit)(r,"params");return(0,S.from)(t(e,i,{...a,asResponse:!0,rawResponse:!0})).pipe(L())}}}(e).fetch}const B=[{title:z.i18n.translate("xpack.observabilityAiAssistant.app.starterPrompts.exampleQuestions.title",{defaultMessage:"Suggest"}),prompt:z.i18n.translate("xpack.observabilityAiAssistant.app.starterPrompts.exampleQuestions.prompt",{defaultMessage:"Give me examples of questions I can ask here."}),icon:"sparkles",scopes:["all"]},{title:z.i18n.translate("xpack.observabilityAiAssistant.app.starterPrompts.explainThisPage.title",{defaultMessage:"Explain"}),prompt:z.i18n.translate("xpack.observabilityAiAssistant.app.starterPrompts.explainThisPage.prompt",{defaultMessage:"Can you explain this page?"}),icon:"inspect",scopes:["all"]},{title:z.i18n.translate("xpack.observabilityAiAssistant.app.starterPrompts.doIHaveAlerts.title",{defaultMessage:"Alerts"}),prompt:z.i18n.translate("xpack.observabilityAiAssistant.app.starterPrompts.doIHaveAlerts.prompt",{defaultMessage:"Do I have any alerts?"}),icon:"bell",scopes:["observability"]},{title:z.i18n.translate("xpack.observabilityAiAssistant.app.starterPrompts.whatAreSlos.title",{defaultMessage:"SLOs"}),prompt:z.i18n.translate("xpack.observabilityAiAssistant.app.starterPrompts.whatAreSlos.prompt",{defaultMessage:"What are SLOs?"}),icon:"bullseye",scopes:["observability"]}];function N(e,t){return{...e,respond:t}}function D({message:e,instructions:t}){return[{"@timestamp":(new Date).toISOString(),message:{role:C.e4.User,content:e}},{"@timestamp":(new Date).toISOString(),message:{role:C.e4.Assistant,function_call:{name:"get_contextual_insight_instructions",trigger:C.e4.Assistant,arguments:JSON.stringify({})}}},{"@timestamp":(new Date).toISOString(),message:{role:C.e4.User,content:JSON.stringify({instructions:t}),name:"get_contextual_insight_instructions"}}]}const $={show:"show"};class ObservabilityAIAssistantPlugin{constructor(e){(0,r.default)(this,"logger",void 0),(0,r.default)(this,"service",void 0),(0,r.default)(this,"scopeFromConfig",void 0),this.logger=e.logger.get(),this.scopeFromConfig=e.config.get().scope}setup(e,t){return(0,v.S)(e.analytics),{}}start(e,t){const r=this.service=function({analytics:e,coreStart:t,enabled:n,scopes:r,scopeIsMutable:i}){const a=R(t),o=[],l=new S.BehaviorSubject([{starterPrompts:B}]),c=new S.Subject,u=new S.BehaviorSubject(r),d=()=>{const e=u.value;return l.value.map((({starterPrompts:t,...s})=>{return{...s,starterPrompts:null==t?void 0:t.filter((n=e,function(e){return!n||!e||null==e||!e.scopes||e.scopes.some((e=>[...n,"all"].includes(e)))}))};var n}))};return{isEnabled:()=>n,register:e=>{o.push(e)},start:async({signal:t})=>{const n=await s.e(27).then(s.bind(s,27));return await n.createChatService({analytics:e,apiClient:a,signal:t,registrations:o,scope$:u})},callApi:a,getScreenContexts:d,setScreenContext:e=>(l.next(l.value.concat(e)),function(){l.next((0,E.without)(l.value,e))}),navigate:async e=>(e(),await(0,S.lastValueFrom)(t.http.getLoadingCount$().pipe((0,S.filter)((e=>0===e)),(0,S.debounceTime)(1e3),(0,S.take)(1))),(0,S.of)(k({name:"context"}),(0,w.X)({name:"context",content:{screenDescription:(0,E.compact)(d().map((e=>e.screenDescription))).join("\n\n")}}))),conversations:{openNewConversation:({messages:e,title:t,hideConversationList:s=!1})=>{c.next({messages:e,title:t,hideConversationList:s})},predefinedConversation$:c.asObservable()},setScopes:e=>{i||u.next(e)},getScopes:()=>u.value,scope$:u}}({analytics:e.analytics,coreStart:e,enabled:!0===e.application.capabilities.observabilityAIAssistant[$.show],scopes:this.scopeFromConfig?[this.scopeFromConfig]:["all"],scopeIsMutable:!!this.scopeFromConfig}),a={...e,plugins:{start:t}},c=r.isEnabled();return{service:r,useGenAIConnectors:()=>(0,h.f)(r),useChat:(0,x._h)({notifications:e.notifications}),ObservabilityAIAssistantMultipaneFlyoutContext:f,ObservabilityAIAssistantChatServiceContext:g.Y,useObservabilityAIAssistantChatService:y.Q,ObservabilityAIAssistantContextualInsight:c?m(((e,t)=>l().forwardRef(((s,a)=>(0,u.jsx)(i.KibanaContextProvider,{services:t},(0,u.jsx)(b.T,{value:r},(0,u.jsx)(e,(0,n.default)({},s,{ref:a})))))))((0,o.lazy)((()=>s.e(709).then(s.bind(s,709)).then((e=>({default:e.Insight}))))),a)):null,getContextualInsightMessages:D,createScreenContextAction:N}}}const U=s.p+"6f93faf997e72f49.png";var q=s(738),G=s(149);const W=()=>({sendAnalyticsEvent:()=>{},chat:e=>new S.Observable,complete:e=>new S.Observable,getFunctions:()=>[{name:"elasticsearch",description:"Call Elasticsearch APIs on behalf of the user",descriptionForUser:"Call Elasticsearch APIs on behalf of the user",parameters:{type:"object",properties:{method:{type:"string",description:"The HTTP method of the Elasticsearch endpoint",enum:["GET","PUT","POST","DELETE","PATCH"]},path:{type:"string",description:"The path of the Elasticsearch endpoint, including query parameters"}},required:["method","path"]}},{name:"get_service_summary",description:"Gets a summary of a single service, including: the language, service version, deployments, infrastructure, alerting, etc. ",descriptionForUser:"Get a summary for a single service.",parameters:{type:"object"}}],renderFunction:e=>(0,u.jsx)("div",null,z.i18n.translate("xpack.observabilityAiAssistant.chatService.div.helloLabel",{defaultMessage:"Hello"}),e),hasFunction:()=>!0,hasRenderFunction:()=>!0,getSystemMessage:()=>"System",functions$:new S.BehaviorSubject([]),getScopes:()=>["all"]}),Q=()=>({isEnabled:()=>!0,start:async()=>W(),callApi:{},register:()=>{},setScreenContext:()=>E.noop,getScreenContexts:()=>[],conversations:{openNewConversation:E.noop,predefinedConversation$:new S.Observable},navigate:async()=>(0,S.of)(),scope$:new S.BehaviorSubject(["all"]),getScopes:()=>["all"],setScopes:()=>{}});var J=s(636),V=s(81),H=s(637),K=s(240);const Y=(0,V.css)({name:"1kr8da6",styles:"padding-top:4px;padding-bottom:4px"});function X({error:e,loading:t,canRegenerate:s,canGiveFeedback:n,onFeedbackClick:r,onRegenerateClick:i,onStopGeneratingClick:a}){const o=!e&&n,d=!t&&s;let p;return p=t?(0,u.jsx)(H.$,{onClick:a}):o||d?(0,u.jsx)(c.EuiFlexGroup,{justifyContent:"flexEnd",alignItems:"center"},o?(0,u.jsx)(c.EuiFlexItem,{grow:!0},(0,u.jsx)(J.z,{onClickFeedback:r})):null,d?(0,u.jsx)(c.EuiFlexItem,{grow:!1},(0,u.jsx)(K.C,{onClick:i})):null):null,p?(0,u.jsx)(l().Fragment,null,(0,u.jsx)(c.EuiHorizontalRule,{margin:"none"}),(0,u.jsx)(c.EuiPanel,{hasShadow:!1,paddingSize:"s",className:Y},p)):null}var Z=s(40),ee=s(647),te=s(523),se=s(944),ne=s(540);const re="observability:logSources",ie="observability:aiAssistantSimulatedFunctionCalling",ae="observability:aiAssistantSearchConnectorIndexPattern",oe="aiAssistant:preferredAIAssistantType",le=U,ce=e=>new ObservabilityAIAssistantPlugin(e)},510:e=>{"use strict";e.exports=function e(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){if(t.constructor!==s.constructor)return!1;var n,r,i;if(Array.isArray(t)){if((n=t.length)!=s.length)return!1;for(r=n;0!=r--;)if(!e(t[r],s[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(s).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(s,i[r]))return!1;for(r=n;0!=r--;){var a=i[r];if(!("_owner"===a&&t.$$typeof||e(t[a],s[a])))return!1}return!0}return t!=t&&s!=s}},389:(e,t,s)=>{"use strict";var n=s(286),r=s(756),i=function(){};t.A=function(e,t,s){if(!r.isClient)return[t,i,i];if(!e)throw new Error("useLocalStorage key may not be falsy");var a=s?s.raw?function(e){return e}:s.deserializer:JSON.parse,o=n.useState((function(){try{var n=s?s.raw?String:s.serializer:JSON.stringify,r=localStorage.getItem(e);return null!==r?a(r):(t&&localStorage.setItem(e,n(t)),t)}catch(e){return t}})),l=o[0],c=o[1],u=n.useCallback((function(t){try{var n="function"==typeof t?t(l):t;if(void 0===n)return;var r;r=s?s.raw?"string"==typeof n?n:JSON.stringify(n):s.serializer?s.serializer(n):JSON.stringify(n):JSON.stringify(n),localStorage.setItem(e,r),c(a(r))}catch(e){}}),[e,c]),d=n.useCallback((function(){try{localStorage.removeItem(e),c(void 0)}catch(e){}}),[e,c]);return[l,u,d]}},756:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var n=s(941).__importDefault(s(510));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];return e.removeEventListener.apply(e,t)},t.isDeepEqual=n.default},622:(e,t,s)=>{s.p=window.__kbnPublicPath__.observabilityAIAssistant},409:(e,t,s)=>{s.r(t);var n=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},359:(e,t,s)=>{s.r(t);var n=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},81:(e,t,s)=>{e.exports=s(497)(28995)},721:(e,t,s)=>{e.exports=s(497)(4971)},185:(e,t,s)=>{e.exports=s(497)(51858)},915:(e,t,s)=>{e.exports=s(497)(67493)},319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},8:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},770:e=>{"use strict";e.exports=__kbnSharedDeps__.Lodash},286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},190:e=>{"use strict";e.exports=__kbnSharedDeps__.Rxjs},941:e=>{"use strict";e.exports=__kbnSharedDeps__.TsLib},472:e=>{"use strict";e.exports=__kbnSharedDeps__.Uuid},497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},s={};function n(e){var r=s[e];if(void 0!==r)return r.exports;var i=s[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,s)=>(n.f[s](e,t),t)),[])),n.u=e=>"observabilityAIAssistant.chunk."+e+".js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},n.l=(t,s,r,i)=>{if(e[t])e[t].push(s);else{var a,o;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==t){a=u;break}}a||(o=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.src=t),e[t]=[s];var d=(s,n)=>{a.onerror=a.onload=null,clearTimeout(p);var r=e[t];if(delete e[t],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(n))),s)return s(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),o&&document.head.appendChild(a)}},n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");if(s.length)for(var r=s.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=s[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),(()=>{var e={676:0};n.f.j=(t,s)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else{var i=new Promise(((s,n)=>r=e[t]=[s,n]));s.push(r[2]=i);var a=n.p+n.u(t),o=new Error;n.l(a,(s=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}}),"chunk-"+t,t)}};var t=(t,s)=>{var r,i,[a,o,l]=s,c=0;if(a.some((t=>0!==e[t]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);l&&l(n)}for(t&&t(s);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},s=self.observabilityAIAssistant_bundle_jsonpfunction=self.observabilityAIAssistant_bundle_jsonpfunction||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),n(622),__kbnBundles__.define("plugin/observabilityAIAssistant/public",n,952)})();