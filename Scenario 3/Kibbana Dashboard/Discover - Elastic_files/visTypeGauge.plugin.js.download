(()=>{var e,t={435:(e,t,r)=>{"use strict";r.r(t),r.d(t,{LEGACY_GAUGE_CHARTS_LIBRARY:()=>a});const a="visualization:visualize:legacyGaugeChartsLibrary"},428:(e,t,r)=>{"use strict";r.r(t),r.d(t,{gaugeVisType:()=>f,goalVisType:()=>h,plugin:()=>T});var a=r(915),i=r(435),s=r(286),o=r(8),n=r(240),l=r(627),c=r(500),u=r(566),g=r(41),p=r(185),d=r(791);const m=(0,s.lazy)((()=>r.e(904).then(r.bind(r,523)))),b=({showElasticChartsOptions:e})=>t=>(0,d.jsx)(m,(0,p.default)({},t,{showElasticChartsOptions:e}));var _=r(879);function v(){return(0,d.jsx)(_.FormattedMessage,{id:"visTypeGauge.splitTitle.tooltip",defaultMessage:"Split chart aggregation is not yet supported with the new charts library. Please, enable the gauge legacy charts library advanced setting to use split chart aggregation."})}const f=e=>(e=>({name:"gauge",title:o.i18n.translate("visTypeGauge.gauge.gaugeTitle",{defaultMessage:"Gauge"}),icon:"visGauge",description:o.i18n.translate("visTypeGauge.gauge.gaugeDescription",{defaultMessage:"Show the status of a metric."}),getSupportedTriggers:()=>[c.VIS_EVENT_TO_TRIGGER.filter],fetchDatatable:!0,toExpressionAst:g.G,visConfig:{defaults:{type:"gauge",addTooltip:!0,addLegend:!0,isDisplayWarning:!1,gauge:{alignment:u.C.Automatic,extendRange:!0,percentageMode:!1,gaugeType:u.O.Arc,gaugeStyle:"Full",backStyle:"Full",orientation:"vertical",colorSchema:n.ColorSchemas.GreenToRed,gaugeColorMode:n.ColorMode.Labels,colorsRange:[{from:0,to:50},{from:50,to:75},{from:75,to:100}],invertColors:!1,labels:{show:!0,color:"black"},scale:{show:!0,labels:!1,color:"rgba(105,112,125,0.2)"},type:"meter",style:{bgWidth:.9,width:.9,mask:!1,bgMask:!1,maskBars:50,bgFill:"rgba(105,112,125,0.2)",bgColor:!0,subText:"",fontSize:60}}}},editorConfig:{enableDataViewChange:!0,optionsTemplate:b(e),schemas:[{group:l.AggGroupNames.Metrics,name:"metric",title:o.i18n.translate("visTypeGauge.gauge.metricTitle",{defaultMessage:"Metric"}),min:1,...e.showElasticChartsOptions?{max:1}:{},aggFilter:["!std_dev","!geo_centroid","!percentiles","!percentile_ranks","!derivative","!serial_diff","!moving_avg","!cumulative_sum","!geo_bounds","!filtered_metric","!single_percentile","!single_percentile_rank"],defaults:[{schema:"metric",type:"count"}]},{group:l.AggGroupNames.Buckets,name:"group",...e.showElasticChartsOptions&&{disabled:!0,tooltip:(0,d.jsx)(v,null)},title:o.i18n.translate("visTypeGauge.gauge.groupTitle",{defaultMessage:"Split group"}),min:0,max:1,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]}]},requiresSearch:!0,navigateToLens:async(e,t)=>{const{convertGaugeToLens:a}=await r.e(506).then(r.bind(r,506));return e?a(e,t):null},getExpressionVariables:async(e,t)=>{const{convertGaugeToLens:a}=await r.e(506).then(r.bind(r,506));return{canNavigateToLens:Boolean(null!=e&&e.params?await a(e,t):null)}}}))(e),h=e=>(e=>({name:"goal",title:o.i18n.translate("visTypeGauge.goal.goalTitle",{defaultMessage:"Goal"}),icon:"visGoal",description:o.i18n.translate("visTypeGauge.goal.goalDescription",{defaultMessage:"Track how a metric progresses to a goal."}),fetchDatatable:!0,toExpressionAst:g.G,visConfig:{defaults:{addTooltip:!0,addLegend:!1,isDisplayWarning:!1,type:"goal",gauge:{verticalSplit:!1,autoExtend:!1,percentageMode:!0,gaugeType:u.O.Arc,gaugeStyle:"Full",backStyle:"Full",orientation:"vertical",useRanges:!1,colorSchema:n.ColorSchemas.GreenToRed,gaugeColorMode:n.ColorMode.None,colorsRange:[{from:0,to:1e4}],invertColors:!1,labels:{show:!0,color:"black"},scale:{show:!1,labels:!1,color:"rgba(105,112,125,0.2)",width:2},type:"meter",style:{bgFill:"rgba(105,112,125,0.2)",bgColor:!1,labelColor:!1,subText:"",fontSize:60}}}},editorConfig:{enableDataViewChange:!0,optionsTemplate:b(e),schemas:[{group:l.AggGroupNames.Metrics,name:"metric",title:o.i18n.translate("visTypeGauge.goal.metricTitle",{defaultMessage:"Metric"}),min:1,...e.showElasticChartsOptions?{max:1}:{},aggFilter:["!std_dev","!geo_centroid","!percentiles","!percentile_ranks","!derivative","!serial_diff","!moving_avg","!cumulative_sum","!geo_bounds","!filtered_metric","!single_percentile","!single_percentile_rank"],defaults:[{schema:"metric",type:"count"}]},{group:l.AggGroupNames.Buckets,name:"group",...e.showElasticChartsOptions&&{disabled:!0,tooltip:(0,d.jsx)(v,null)},title:o.i18n.translate("visTypeGauge.goal.groupTitle",{defaultMessage:"Split group"}),min:0,max:1,aggFilter:["!geotile_grid","!filter","!sampler","!diversified_sampler","!rare_terms","!multi_terms","!significant_text"]}]},requiresSearch:!0,navigateToLens:async(e,t)=>{const{convertGoalToLens:a}=await r.e(506).then(r.bind(r,506));return e?a(e,t):null},getExpressionVariables:async(e,t)=>{const{convertGoalToLens:a}=await r.e(506).then(r.bind(r,506));return{canNavigateToLens:Boolean(null!=e&&e.params?await a(e,t):null)}}}))(e);var y=r(107);class VisTypeGaugePlugin{constructor(e){(0,a.default)(this,"initializerContext",void 0),this.initializerContext=e}setup(e,{visualizations:t}){if(!e.uiSettings.get(i.LEGACY_GAUGE_CHARTS_LIBRARY)){const{readOnly:e}=this.initializerContext.config.get(),r={showElasticChartsOptions:!0};t.createBaseVisualization({...f(r),disableCreate:Boolean(e),disableEdit:Boolean(e)}),t.createBaseVisualization({...h(r),disableCreate:Boolean(e),disableEdit:Boolean(e)})}return{}}start(e,{dataViews:t}){(0,y.L)(t)}}function T(e){return new VisTypeGaugePlugin(e)}},107:(e,t,r)=>{"use strict";r.d(t,{L:()=>s,x:()=>i});var a=r(215);const[i,s]=(0,a.createGetterSetter)("dataViews")},41:(e,t,r)=>{"use strict";r.d(t,{G:()=>u,y:()=>c});var a=r(634),i=r(500),s=r(904),o=r(951),n=r(566);const l=e=>{const t=(0,s.buildExpressionFunction)("visdimension",{accessor:e.accessor});return e.format&&(t.addArgument("format",e.format.id),t.addArgument("formatParams",JSON.stringify(e.format.params))),(0,s.buildExpression)([t])},c=({gaugeType:e,percentageMode:t,scale:r,style:a,labels:i})=>{const s=i.show?a.subText?"custom":"auto":"none";return{shape:(l=e,{[n.O.Arc]:o.GaugeShapes.ARC,[n.O.Circle]:o.GaugeShapes.CIRCLE}[l]),ticksPosition:r.show?"auto":"hidden",colorMode:"palette",labelMajorMode:s,..."custom"===s?{labelMinor:a.subText}:{},percentageMode:t};var l},u=(e,t)=>{var r,o,n,u;const g=(0,i.getVisSchemas)(e,t),{percentageMode:p,percentageFormatPattern:d,colorSchema:m,colorsRange:b,invertColors:_}=e.params.gauge;!0===p&&g.metric.forEach((e=>{e.format={id:"percent",params:{pattern:d}}}));const v=(0,s.buildExpressionFunction)("gauge",{...c(e.params.gauge),metric:g.metric.map(l),labelMajor:null===(r=g.metric)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.label,percentageMode:p,respectRanges:!0,commonLabel:g.metric.length>1?null===(n=g.metric)||void 0===n||null===(u=n[0])||void 0===u?void 0:u.label:void 0});if(b&&b.length){const e=(0,a.getStopsWithColorsFromRanges)(b,m,_),t=(0,s.buildExpressionFunction)("palette",{...e,range:p?"percent":"number",continuity:"none",gradient:!0,rangeMax:p?100:e.stop[e.stop.length-1],rangeMin:e.stop[0]});v.addArgument("palette",(0,s.buildExpression)([t]))}return(0,s.buildExpression)([v]).toAst()}},566:(e,t,r)=>{"use strict";r.d(t,{C:()=>a,O:()=>i});const a={Automatic:"automatic",Horizontal:"horizontal",Vertical:"vertical"},i={Arc:"Arc",Circle:"Circle"}},432:(e,t,r)=>{r.p=window.__kbnPublicPath__.visTypeGauge},240:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/charts/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},627:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},951:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/expressionGauge/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},904:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/expressions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},215:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},499:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/visDefaultEditor/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},587:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/visualizations/common/convert_to_lens");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},634:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/visualizations/common/utils");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},500:(e,t,r)=>{r.r(t);var a=__kbnBundles__.get("plugin/visualizations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},185:(e,t,r)=>{e.exports=r(497)(51858)},915:(e,t,r)=>{e.exports=r(497)(67493)},319:e=>{"use strict";e.exports=__kbnSharedDeps__.ElasticEui},791:e=>{"use strict";e.exports=__kbnSharedDeps__.EmotionReact},8:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18n},879:e=>{"use strict";e.exports=__kbnSharedDeps__.KbnI18nReact},286:e=>{"use strict";e.exports=__kbnSharedDeps__.React},472:e=>{"use strict";e.exports=__kbnSharedDeps__.Uuid},497:e=>{"use strict";e.exports=__kbnSharedDeps_npm__}},r={};function a(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,a),s.exports}a.m=t,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[])),a.u=e=>"visTypeGauge.chunk."+e+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},a.l=(t,r,i,s)=>{if(e[t])e[t].push(r);else{var o,n;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==t){o=u;break}}o||(n=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.src=t),e[t]=[r];var g=(r,a)=>{o.onerror=o.onload=null,clearTimeout(p);var i=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(a))),r)return r(a)},p=setTimeout(g.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=g.bind(null,o.onerror),o.onload=g.bind(null,o.onload),n&&document.head.appendChild(o)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={428:0};a.f.j=(t,r)=>{var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((r,a)=>i=e[t]=[r,a]));r.push(i[2]=s);var o=a.p+a.u(t),n=new Error;a.l(o,(r=>{if(a.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;n.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",n.name="ChunkLoadError",n.type=s,n.request=o,i[1](n)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,[o,n,l]=r,c=0;if(o.some((t=>0!==e[t]))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);l&&l(a)}for(t&&t(r);c<o.length;c++)s=o[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.visTypeGauge_bundle_jsonpfunction=self.visTypeGauge_bundle_jsonpfunction||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),a(432),__kbnBundles__.define("plugin/visTypeGauge/public",a,428),__kbnBundles__.define("plugin/visTypeGauge/common",a,435)})();